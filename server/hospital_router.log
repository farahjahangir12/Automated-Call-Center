2025-04-02 13:02:09,032 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:09,039 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:02:09,376 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:09,377 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:02:09,703 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:09,706 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:02:10,037 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:10,040 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:02:10,365 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:10,368 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:02:57,630 - INFO - Processing query: Can you guide me about visitor guides...
2025-04-02 13:02:58,146 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:02:58,148 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:03:00,060 - INFO - Routed to Live Operator in 2.43 seconds
2025-04-02 13:03:00,063 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:03:22,853 - INFO - Processing query: What are your charges per day...
2025-04-02 13:03:23,263 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:03:23,266 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:03:24,297 - INFO - Routed to Live Operator in 1.44 seconds
2025-04-02 13:03:24,302 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:03:56,261 - INFO - Processing query: I want to book an appointment...
2025-04-02 13:03:56,917 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:03:56,920 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:03:58,634 - INFO - Routed to Live Operator in 2.37 seconds
2025-04-02 13:03:58,635 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:04:37,579 - INFO - Processing query: Want to book appoinymrnt...
2025-04-02 13:04:38,331 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:04:38,333 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:04:40,029 - WARNING - Connection failed to Live Operator
2025-04-02 13:04:40,031 - ERROR - System error: 'response'
2025-04-02 13:04:53,960 - INFO - Processing query: Want to book an appointment...
2025-04-02 13:04:54,690 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:04:54,692 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:04:56,317 - INFO - Routed to Live Operator in 2.36 seconds
2025-04-02 13:04:56,318 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:07:43,883 - ERROR - System error: 
2025-04-02 13:07:49,938 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:07:49,941 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:07:50,197 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:07:50,200 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:07:50,455 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:07:50,457 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:07:50,710 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:07:50,712 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:07:51,043 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:07:51,045 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:08:12,205 - INFO - Processing query: I want to schedule an appoitnment...
2025-04-02 13:08:12,942 - INFO - Routed to Appointment Desk in 0.74 seconds
2025-04-02 13:08:12,946 - INFO - Call handled - Classification: SQL | Status: success
2025-04-02 13:08:34,655 - INFO - Processing query: What are the care instructions for migraine...
2025-04-02 13:08:35,401 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:08:35,403 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:08:36,693 - INFO - Routed to Live Operator in 2.04 seconds
2025-04-02 13:08:36,697 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:08:51,595 - INFO - Processing query: what are your charges per day for room...
2025-04-02 13:08:52,257 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:08:52,258 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:08:54,217 - WARNING - Connection failed to Live Operator
2025-04-02 13:08:54,219 - ERROR - System error: 'response'
2025-04-02 13:09:05,155 - INFO - Processing query: what are your visisting hours...
2025-04-02 13:09:05,948 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:09:05,951 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:09:06,955 - INFO - Routed to Live Operator in 1.80 seconds
2025-04-02 13:09:06,959 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:09:32,562 - INFO - Processing query: Visiting hours...
2025-04-02 13:09:33,169 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:09:33,172 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:09:34,659 - INFO - Routed to Live Operator in 2.10 seconds
2025-04-02 13:09:34,660 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:10:58,541 - INFO - Processing query: what are your visiting hours...
2025-04-02 13:10:59,300 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:10:59,302 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:00,530 - INFO - Routed to Live Operator in 1.99 seconds
2025-04-02 13:11:00,531 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:11:04,118 - ERROR - System error: 
2025-04-02 13:11:10,130 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:10,134 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:10,387 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:10,390 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:10,638 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:10,639 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:10,881 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:10,884 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:11,141 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:11,144 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:17,155 - INFO - Processing query: Visiting hours...
2025-04-02 13:11:17,891 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:11:17,893 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:11:18,628 - INFO - Routed to Live Operator in 1.47 seconds
2025-04-02 13:11:18,630 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:13:07,546 - ERROR - System error: 
2025-04-02 13:13:18,814 - INFO - Processing query: What are your visiting hours...
2025-04-02 13:13:20,653 - INFO - Routed to Hospitals Policies, Rule and Regulations, Administration Guidelines in 1.84 seconds
2025-04-02 13:13:20,657 - INFO - Call handled - Classification: RAG | Status: success
2025-04-02 13:13:36,768 - INFO - Processing query: Admission policies...
2025-04-02 13:13:37,833 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:13:37,836 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:13:39,094 - INFO - Routed to Live Operator in 2.33 seconds
2025-04-02 13:13:39,098 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:13:58,827 - INFO - Processing query: care instructions for migraine...
2025-04-02 13:13:59,615 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-04-02 13:13:59,616 - ERROR - Classification error: Error code: 404 - {'error': {'message': 'The model `llama-3-70b-8192` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'code': 'model_not_found'}}
2025-04-02 13:14:00,348 - INFO - Routed to Live Operator in 1.52 seconds
2025-04-02 13:14:00,353 - INFO - Call handled - Classification: HUMAN | Status: success
2025-04-02 13:20:21,209 - ERROR - System error: 
13:20:28.738 - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
13:20:28.740 - LLM timeout/error: Error code: 400 - {'error': {'message': 'The model
13:20:33.127 - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
13:20:33.129 - LLM timeout/error: Error code: 400 - {'error': {'message': 'The model
13:24:22.977 - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
13:24:23.853 - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 13:29:00,035 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:29:00,039 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:29:41,245 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:29:41,247 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:34:09,327 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:34:09,330 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:36:42,425 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:36:42,428 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:38:24,145 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:38:24,148 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:39:08,520 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:39:08,522 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-02 13:39:31,738 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 13:39:31,740 - WARNING - LLM error: Error code: 400 - {'error': {'message': 'The model
2025-04-03 21:20:16,421 - ERROR - Failed to load sql agent: No module named 'prompt'
2025-04-03 21:23:12,162 - ERROR - Failed to load graph agent: [Errno 2] No such file or directory: 'D:\\agents\\graph\\main.py'
2025-04-03 21:23:12,162 - ERROR - Failed to load sql agent: [Errno 2] No such file or directory: 'D:\\agents\\sql\\main.py'
2025-04-03 21:23:12,163 - ERROR - Failed to load rag agent: [Errno 2] No such file or directory: 'D:\\agents\\rag\\main.py'
2025-04-03 22:46:29,544 - INFO - Attempting to load agent from: D:\FYP\agents\graph\main.py
2025-04-03 22:46:29,554 - ERROR - Agent file not found at D:\FYP\agents\graph\main.py
2025-04-03 22:46:29,554 - INFO - Attempting to load agent from: D:\FYP\agents\sql\main.py
2025-04-03 22:46:29,554 - ERROR - Agent file not found at D:\FYP\agents\sql\main.py
2025-04-03 22:46:29,554 - INFO - Attempting to load agent from: D:\FYP\agents\rag\main.py
2025-04-03 22:46:29,554 - ERROR - Agent file not found at D:\FYP\agents\rag\main.py
2025-04-03 22:51:23,124 - INFO - Attempting to load agent from: D:\FYP\agents\graph\main.py
2025-04-03 22:51:23,125 - ERROR - Agent file not found at D:\FYP\agents\graph\main.py
2025-04-03 22:51:23,125 - INFO - Attempting to load agent from: D:\FYP\agents\sql\main.py
2025-04-03 22:51:23,125 - ERROR - Agent file not found at D:\FYP\agents\sql\main.py
2025-04-03 22:51:23,125 - INFO - Attempting to load agent from: D:\FYP\agents\rag\main.py
2025-04-03 22:51:23,125 - ERROR - Agent file not found at D:\FYP\agents\rag\main.py
2025-04-03 22:51:23,125 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-03 22:51:23,125 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 22:51:23,126 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 22:57:21,365 - INFO - Attempting to load agent from: D:\FYP\agents\graph\main.py
2025-04-03 22:57:21,365 - ERROR - Agent file not found at D:\FYP\agents\graph\main.py
2025-04-03 22:57:21,366 - INFO - Attempting to load agent from: D:\FYP\agents\sql\main.py
2025-04-03 22:57:21,366 - ERROR - Agent file not found at D:\FYP\agents\sql\main.py
2025-04-03 22:57:21,366 - INFO - Attempting to load agent from: D:\FYP\agents\rag\main.py
2025-04-03 22:57:21,366 - ERROR - Agent file not found at D:\FYP\agents\rag\main.py
2025-04-03 22:57:21,366 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-03 22:57:21,366 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 22:57:21,366 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 22:59:21,796 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 22:59:26,633 - INFO - Successfully loaded graph agent
2025-04-03 22:59:26,634 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 22:59:27,531 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 4, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 22:59:27,534 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 22:59:29,952 - ERROR - rag agent missing handle_query function
2025-04-03 22:59:29,952 - INFO - GRAPH agent ready
2025-04-03 22:59:29,952 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 22:59:29,952 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 23:02:31,175 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 23:02:35,502 - INFO - Successfully loaded graph agent
2025-04-03 23:02:35,502 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 23:02:36,375 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 4, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 23:02:36,378 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 23:02:38,532 - ERROR - rag agent missing handle_query function
2025-04-03 23:02:38,532 - INFO - GRAPH agent ready
2025-04-03 23:02:38,532 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 23:02:38,532 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 23:03:39,798 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 23:03:43,914 - INFO - Successfully loaded graph agent
2025-04-03 23:03:43,914 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 23:03:44,837 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 4, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 23:03:44,840 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 23:03:47,994 - ERROR - rag agent missing handle_query function
2025-04-03 23:03:47,994 - INFO - GRAPH agent ready
2025-04-03 23:03:47,994 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 23:03:47,995 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 23:03:59,669 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-03 23:04:00,558 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-03 23:12:32,560 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 23:12:36,848 - INFO - Successfully loaded graph agent
2025-04-03 23:12:36,848 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 23:12:37,912 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 4, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 23:12:37,915 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 23:12:40,626 - ERROR - rag agent missing handle_query function
2025-04-03 23:12:40,626 - INFO - GRAPH agent ready
2025-04-03 23:12:40,626 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 23:12:40,626 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 23:15:58,912 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-03 23:15:59,597 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-03 23:18:07,358 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 23:18:11,661 - INFO - Successfully loaded graph agent
2025-04-03 23:18:11,661 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 23:18:12,552 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 23:18:12,555 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 23:18:15,571 - ERROR - rag agent missing handle_query function
2025-04-03 23:18:15,571 - INFO - GRAPH agent ready
2025-04-03 23:18:15,571 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 23:18:15,571 - CRITICAL - Critical: RAG agent failed to load!
2025-04-03 23:24:00,793 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-03 23:24:04,909 - INFO - Successfully loaded graph agent
2025-04-03 23:24:04,909 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-03 23:24:05,947 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-03 23:24:05,951 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-03 23:24:08,886 - ERROR - rag agent missing handle_query function
2025-04-03 23:24:08,886 - INFO - GRAPH agent ready
2025-04-03 23:24:08,886 - CRITICAL - Critical: SQL agent failed to load!
2025-04-03 23:24:08,886 - CRITICAL - Critical: RAG agent failed to load!
2025-04-04 18:20:58,152 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-04 18:21:05,101 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 14, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-04 18:21:05,449 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-04 18:21:06,893 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-04 18:21:06,895 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-04 18:21:10,939 - ERROR - rag agent missing handle_query function
2025-04-04 18:21:10,940 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-04 18:21:10,940 - CRITICAL - Critical: SQL agent failed to load!
2025-04-04 18:21:10,940 - CRITICAL - Critical: RAG agent failed to load!
2025-04-04 18:37:28,413 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-04 18:37:33,595 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 14, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-04 18:37:33,636 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-04 18:37:34,560 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-04 18:37:34,563 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-04 18:37:36,910 - ERROR - rag agent missing handle_query function
2025-04-04 18:37:36,911 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-04 18:37:36,911 - CRITICAL - Critical: SQL agent failed to load!
2025-04-04 18:37:36,911 - CRITICAL - Critical: RAG agent failed to load!
2025-04-04 18:39:44,335 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-04 18:39:49,482 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 14, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-04 18:39:49,515 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-04 18:39:50,257 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-04 18:39:50,258 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-04 18:39:52,978 - INFO - Successfully loaded rag agent
2025-04-04 18:39:52,979 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-04 18:39:52,979 - CRITICAL - Critical: SQL agent failed to load!
2025-04-04 18:39:52,979 - INFO - RAG agent ready
2025-04-04 18:40:15,128 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:15,490 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:15,836 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:16,185 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:16,541 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:17,027 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:17,383 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:17,710 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-04 18:40:20,118 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/rpc/search_hospital_documents "HTTP/2 200 OK"
2025-04-04 18:40:20,919 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 19:15:22,295 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-04 19:15:27,676 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 14, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-04 19:15:27,710 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-04 19:15:28,502 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-04 19:15:28,504 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-04 19:15:30,774 - INFO - Successfully loaded rag agent
2025-04-04 19:15:30,774 - CRITICAL - Critical: GRAPH agent failed to load!
2025-04-04 19:15:30,774 - CRITICAL - Critical: SQL agent failed to load!
2025-04-04 19:15:30,774 - INFO - RAG agent ready
2025-04-04 19:19:41,243 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 14, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-04 19:19:42,091 - ERROR - Failed to load sql agent: No module named 'prompt'
Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 131, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from prompt import agent_instructions
ModuleNotFoundError: No module named 'prompt'
2025-04-04 19:19:44,372 - INFO - Successfully loaded rag agent
2025-04-04 19:19:44,373 - INFO - RAG agent ready
2025-04-04 19:22:42,286 - INFO - RAG agent ready
2025-04-04 20:36:52,256 - INFO - RAG agent ready
2025-04-04 20:37:41,870 - INFO - RAG agent ready
2025-04-04 20:40:27,318 - INFO - RAG agent ready
2025-04-04 20:42:50,519 - INFO - RAG agent ready
2025-04-04 20:47:16,963 - INFO - RAG agent ready
2025-04-04 20:51:25,619 - INFO - RAG agent ready
2025-04-04 20:52:12,626 - INFO - RAG agent ready
2025-04-04 20:53:16,999 - INFO - RAG agent ready
2025-04-04 20:55:03,320 - INFO - SQL agent ready
2025-04-04 20:55:03,320 - INFO - RAG agent ready
2025-04-04 20:55:19,238 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-04 21:13:47,332 - INFO - SQL agent ready
2025-04-04 21:13:47,332 - INFO - RAG agent ready
2025-04-04 21:13:57,988 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:13:58,911 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:14:00,626 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-04 21:14:10,553 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:14:11,302 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-04 21:14:11,916 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=%2A&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-04 21:14:12,908 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:14:13,726 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:14:13,964 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-04 21:14:30,143 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:14:31,032 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-04 21:14:31,258 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-04 21:14:31,511 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-04 21:14:31,751 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-04 21:14:32,622 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-04 21:15:10,918 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:19:38,494 - INFO - SQL agent ready
2025-04-06 15:19:38,504 - INFO - RAG agent ready
2025-04-06 15:19:54,034 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:54,468 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:54,879 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:55,287 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:55,698 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:56,035 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:56,517 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:56,926 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 15:19:58,896 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/rpc/search_hospital_documents "HTTP/2 200 OK"
2025-04-06 15:20:00,001 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:27,243 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:27,700 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:29,039 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 15:21:37,382 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:37,790 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 15:21:38,403 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=%2A&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 15:21:38,962 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:39,428 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:21:39,697 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 15:22:36,772 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:22:37,583 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 15:22:37,825 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 15:22:38,080 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 15:22:38,319 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 15:22:39,156 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:00,221 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:04,010 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:09,247 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:12,304 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:28,387 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:23:28,821 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients "HTTP/2 201 Created"
2025-04-06 15:23:29,620 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 15:30:03,995 - INFO - SQL agent ready
2025-04-06 15:30:03,995 - INFO - RAG agent ready
2025-04-06 15:30:16,565 - ERROR - Error in SQL agent: name 'SystemMessagePromptTemplate' is not defined
2025-04-06 15:31:04,314 - ERROR - Error in SQL agent: name 'SystemMessagePromptTemplate' is not defined
2025-04-06 17:39:35,969 - ERROR - Error in SQL agent: name 'SystemMessagePromptTemplate' is not defined
2025-04-06 17:39:53,865 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:54,227 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:54,860 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:55,268 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:55,679 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:56,100 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:56,503 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:56,893 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-06 17:39:59,924 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/rpc/search_hospital_documents "HTTP/2 200 OK"
2025-04-06 17:40:01,061 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:19,449 - INFO - SQL agent ready
2025-04-06 17:44:19,449 - INFO - RAG agent ready
2025-04-06 17:44:31,692 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:32,983 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:36,238 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 17:44:50,507 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:51,533 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 17:44:52,180 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=%2A&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 17:44:53,455 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:54,169 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:44:54,737 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 17:45:03,051 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:03,670 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 17:45:04,016 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 17:45:04,329 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 17:45:04,651 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 17:45:05,934 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:10,688 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:14,116 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:24,088 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:34,730 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:42,360 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:48,588 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 17:45:49,127 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients "HTTP/2 201 Created"
2025-04-06 17:45:50,379 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 20:35:42,594 - INFO - SQL agent ready
2025-04-06 20:35:42,594 - INFO - RAG agent ready
2025-04-06 20:35:52,370 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 20:42:57,954 - INFO - SQL agent ready
2025-04-06 20:42:57,954 - INFO - RAG agent ready
2025-04-06 20:44:00,409 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 20:54:23,249 - INFO - RAG agent ready
2025-04-06 20:56:08,327 - INFO - RAG agent ready
2025-04-06 20:58:20,285 - INFO - RAG agent ready
2025-04-06 21:01:38,759 - INFO - SQL agent ready
2025-04-06 21:01:38,759 - INFO - RAG agent ready
2025-04-06 21:03:20,237 - ERROR - Error in SQL agent: 'SQLAgent' object has no attribute 'conversation_stage'
2025-04-06 21:10:58,890 - INFO - SQL agent ready
2025-04-06 21:10:58,891 - INFO - RAG agent ready
2025-04-06 21:11:11,293 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:11:12,058 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:11:13,740 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:11:24,231 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:11:25,052 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:11:25,370 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=%2A&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:11:26,279 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:11:36,882 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:11:37,235 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:11:37,478 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:11:38,115 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:11:38,339 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:11:45,120 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:02,119 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:08,494 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:20,349 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:21,249 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:41,996 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:45,584 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:51,024 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:53,419 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:57,619 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:12:58,678 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients "HTTP/2 201 Created"
2025-04-06 21:12:59,565 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:14,685 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:15,129 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:13:15,363 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:13:15,640 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:13:15,857 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:13:21,170 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:25,778 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:35,301 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:42,675 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:13:43,521 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:18:22,274 - INFO - SQL agent ready
2025-04-06 21:18:22,274 - INFO - RAG agent ready
2025-04-06 21:18:35,526 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:18:42,820 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:18:44,129 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:18:44,389 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:18:44,743 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:18:44,965 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:18:54,162 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:01,946 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:02,925 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:09,830 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:13,721 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:19,864 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:22,162 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:37,679 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:38,091 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients "HTTP/2 201 Created"
2025-04-06 21:19:39,064 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:40,168 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:19:40,447 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:20:08,559 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:20:09,120 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:20:09,342 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=%2A&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:20:10,348 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:20:11,093 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:20:11,368 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:41:13,840 - INFO - SQL agent ready
2025-04-06 21:41:13,841 - INFO - RAG agent ready
2025-04-06 21:41:22,744 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:24,740 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:26,205 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:41:41,175 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:41,928 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:41:42,477 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 21:41:42,958 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:41:43,173 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 21:41:50,644 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:51,366 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:51,771 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 21:41:52,719 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 21:44:51,739 - INFO - SQL agent ready
2025-04-06 21:44:51,739 - INFO - RAG agent ready
2025-04-06 21:52:14,000 - INFO - RAG agent ready
2025-04-06 21:54:14,689 - INFO - RAG agent ready
2025-04-06 21:56:01,896 - INFO - RAG agent ready
2025-04-06 22:09:15,405 - INFO - SQL agent ready
2025-04-06 22:09:15,405 - INFO - RAG agent ready
2025-04-06 22:09:34,457 - INFO - Processing appointment query: I want to schedule an appointment
2025-04-06 22:09:35,689 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:09:44,206 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:09:46,166 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:09:46,765 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 22:09:47,403 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 22:09:47,646 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 22:09:57,312 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:10:05,826 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:10:06,633 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:16,238 - INFO - SQL agent ready
2025-04-06 22:12:16,238 - INFO - RAG agent ready
2025-04-06 22:12:25,891 - INFO - Processing query: I want to book an appointment
2025-04-06 22:12:27,532 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:37,472 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:39,006 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:12:39,582 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Angela+Webb "HTTP/2 200 OK"
2025-04-06 22:12:39,807 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=day%2Ctime&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 22:12:40,032 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/appointments?select=appointment_day%2Cappointment_time&doctor_id=eq.160 "HTTP/2 200 OK"
2025-04-06 22:12:48,855 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:56,523 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:57,349 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:12:57,356 - INFO - Successfully processed query: I want to book an appointment
2025-04-06 22:16:58,164 - INFO - SQL agent ready
2025-04-06 22:16:58,164 - INFO - RAG agent ready
2025-04-06 22:17:18,944 - INFO - Processing query: I want to book an appointment
2025-04-06 22:17:20,055 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:17:20,828 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:17:22,209 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:17:22,489 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Please+provide+the+doctor%27s+name%2C+day+and+time%2C+and+reason+for+appointment+to+book+a+slot%2C+for+example%3A+Book+appointment+with+Dr.+Angela+Webb+on+Friday+at+14%3A00+for+routine+checkup "HTTP/2 200 OK"
2025-04-06 22:17:22,492 - ERROR - Error in book_appointment_tool: not enough values to unpack (expected 3, got 2)
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\tools\book_appointment.py", line 28, in book_appointment_tool
    doctor_id, day, time = extract_day_time(input_str)
    ^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-04-06 22:17:23,362 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:17:23,379 - INFO - Successfully processed query: I want to book an appointment
2025-04-06 22:24:24,189 - INFO - SQL agent ready
2025-04-06 22:24:24,190 - INFO - RAG agent ready
2025-04-06 22:24:38,924 - INFO - Processing query: I want to schedule an appointment
2025-04-06 22:24:40,384 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:24:41,113 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:24:42,922 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:24:42,932 - ERROR - Error in book_appointment_tool: extract_day_time() missing 1 required positional argument: 'doctor_name'
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\tools\book_appointment.py", line 28, in book_appointment_tool
    doctor_id, day, time = extract_day_time(input_str)
                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^
TypeError: extract_day_time() missing 1 required positional argument: 'doctor_name'
2025-04-06 22:24:43,766 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:24:43,786 - INFO - Successfully processed query: I want to schedule an appointment
2025-04-06 22:25:39,872 - INFO - SQL agent ready
2025-04-06 22:25:39,872 - INFO - RAG agent ready
2025-04-06 22:25:51,608 - INFO - Processing query: I want to schedule an appointment
2025-04-06 22:25:53,202 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:25:53,929 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:25:55,204 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:25:55,220 - ERROR - Error in book_appointment_tool: extract_day_time() missing 1 required positional argument: 'doctor_name'
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\tools\book_appointment.py", line 28, in book_appointment_tool
    doctor_id, day, time = extract_day_time(input_str)
                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^
TypeError: extract_day_time() missing 1 required positional argument: 'doctor_name'
2025-04-06 22:25:56,570 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:25:56,586 - INFO - Successfully processed query: I want to schedule an appointment
2025-04-06 22:27:30,392 - INFO - RAG agent ready
2025-04-06 22:27:59,926 - INFO - SQL agent ready
2025-04-06 22:27:59,927 - INFO - RAG agent ready
2025-04-06 22:28:25,409 - INFO - Processing query: I want to schedule an appointment
2025-04-06 22:28:26,398 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:28:27,096 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:28:28,817 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=name "HTTP/2 200 OK"
2025-04-06 22:28:29,416 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors?select=doctor_id&name=eq.Steven+Smith+IV "HTTP/2 200 OK"
2025-04-06 22:28:30,539 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:28:30,787 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/doctors_slots?select=%2A&doctor_id=eq.853&day=eq.Friday&time=eq.14%3A00%3A00 "HTTP/2 200 OK"
2025-04-06 22:28:32,107 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-06 22:28:32,124 - INFO - Successfully processed query: I want to schedule an appointment
2025-04-06 22:50:11,082 - ERROR - Failed to initialize agent: ConversationalChatAgent does not support multi-input tool book_appointment_tool.
2025-04-06 22:50:14,146 - INFO - RAG agent ready
2025-04-06 23:01:39,439 - INFO - SQL agent ready
2025-04-06 23:01:39,439 - INFO - RAG agent ready
2025-04-06 23:01:50,944 - INFO - Processing query: I want to schedule an appointment
2025-04-06 23:01:51,027 - ERROR - Error in handle_query: 'dict' object has no attribute 'parent_run_id'
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\main.py", line 79, in handle_query
    return await self._handle_appointment_flow(query, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\agents\sql\main.py", line 94, in _handle_appointment_flow
    result = book_appointment_wrapper(query, context)
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 181, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 888, in __call__
    return self.run(tool_input, callbacks=callbacks)
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 694, in run
    callback_manager = CallbackManager.configure(
        callbacks,
    ...<5 lines>...
        self.metadata,
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\callbacks\manager.py", line 1564, in configure
    return _configure(
        cls,
    ...<6 lines>...
        local_metadata,
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\callbacks\manager.py", line 2292, in _configure
    parent_run_id_ = inheritable_callbacks.parent_run_id
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'parent_run_id'

2025-04-06 23:05:22,911 - INFO - Processing query: I want to book an appointment
2025-04-06 23:05:22,916 - ERROR - Error in handle_query: 'dict' object has no attribute 'parent_run_id'
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\main.py", line 79, in handle_query
    return await self._handle_appointment_flow(query, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\agents\sql\main.py", line 94, in _handle_appointment_flow
    result = book_appointment_wrapper(query, context)
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 181, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 888, in __call__
    return self.run(tool_input, callbacks=callbacks)
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 694, in run
    callback_manager = CallbackManager.configure(
        callbacks,
    ...<5 lines>...
        self.metadata,
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\callbacks\manager.py", line 1564, in configure
    return _configure(
        cls,
    ...<6 lines>...
        local_metadata,
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\callbacks\manager.py", line 2292, in _configure
    parent_run_id_ = inheritable_callbacks.parent_run_id
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'parent_run_id'

2025-04-06 23:09:11,677 - INFO - SQL agent ready
2025-04-06 23:09:11,678 - INFO - RAG agent ready
2025-04-06 23:09:20,285 - INFO - Processing query: I want to book an appointment
2025-04-06 23:09:20,291 - ERROR - Error in handle_query: 'coroutine' object is not subscriptable
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\main.py", line 79, in handle_query
    return await self._handle_appointment_flow(query, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\agents\sql\main.py", line 107, in _handle_appointment_flow
    "response": result["response"],
                ~~~~~~^^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable

2025-04-06 23:12:43,941 - INFO - SQL agent ready
2025-04-06 23:12:43,942 - INFO - RAG agent ready
2025-04-06 23:12:54,457 - INFO - Processing query: I want to book an appointment
2025-04-06 23:12:54,479 - ERROR - Error in handle_query: 1 validation error for book_appointment_wrapper
input_data
  Field required [type=missing, input_value={'input_str': 'I want to ...04-06T23:12:54.457368'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\FYP\server\agents\sql\main.py", line 79, in handle_query
    return await self._handle_appointment_flow(query, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\agents\sql\main.py", line 94, in _handle_appointment_flow
    result = await book_appointment_wrapper.invoke({
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
        "input_str": query,
        ^^^^^^^^^^^^^^^^^^^
        "context": context
        ^^^^^^^^^^^^^^^^^^
    })
    ^^
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 508, in invoke
    return self.run(tool_input, **kwargs)
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 763, in run
    raise error_to_raise
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 725, in run
    tool_args, tool_kwargs = self._to_args_and_kwargs(
                             ~~~~~~~~~~~~~~~~~~~~~~~~^
        tool_input, tool_call_id
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 648, in _to_args_and_kwargs
    tool_input = self._parse_input(tool_input, tool_call_id)
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\tools\base.py", line 564, in _parse_input
    result = input_args.model_validate(tool_input)
  File "D:\FYP\server\env\Lib\site-packages\pydantic\main.py", line 693, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for book_appointment_wrapper
input_data
  Field required [type=missing, input_value={'input_str': 'I want to ...04-06T23:12:54.457368'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-04-06 23:15:22,119 - ERROR - Failed to initialize agent: name 'AgentType' is not defined
2025-04-06 23:15:26,761 - INFO - RAG agent ready
2025-04-07 18:49:56,086 - INFO - RAG agent ready
2025-04-08 13:16:43,984 - INFO - RAG agent ready
2025-04-08 13:20:35,942 - INFO - SQL agent ready
2025-04-08 13:20:35,942 - INFO - RAG agent ready
2025-04-08 13:22:22,851 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x000002E401C11160> is not properly initialized
2025-04-08 13:29:31,600 - INFO - SQL agent ready
2025-04-08 13:29:31,601 - INFO - RAG agent ready
2025-04-08 13:29:41,104 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x0000029675335940> is not properly initialized
2025-04-08 13:38:09,723 - INFO - SQL agent ready
2025-04-08 13:38:09,724 - INFO - RAG agent ready
2025-04-08 13:38:23,000 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x000002DE47D397F0> is not properly initialized
2025-04-08 13:41:48,065 - INFO - SQL agent ready
2025-04-08 13:41:48,065 - INFO - RAG agent ready
2025-04-08 13:42:08,128 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x0000018715149940> is not properly initialized
2025-04-08 13:46:21,483 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients?select=count "HTTP/2 200 OK"
2025-04-08 13:46:21,488 - INFO - Successfully connected to Supabase
2025-04-08 13:46:22,885 - INFO - SQL agent ready
2025-04-08 13:46:22,886 - INFO - RAG agent ready
2025-04-08 13:46:36,249 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x00000204B5DBC050> is not properly initialized
2025-04-08 13:46:59,787 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:00,127 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:00,632 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:00,937 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:01,244 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:01,574 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:01,870 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:02,178 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:03,385 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/rpc/search_hospital_documents "HTTP/2 200 OK"
2025-04-08 13:47:04,686 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 13:47:43,985 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:44,325 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:44,649 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:44,958 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:45,415 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:45,700 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:45,998 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:46,418 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-04-08 13:47:46,918 - INFO - HTTP Request: POST https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/rpc/search_hospital_documents "HTTP/2 200 OK"
2025-04-08 13:47:48,203 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 13:53:58,987 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients?select=count "HTTP/2 200 OK"
2025-04-08 13:53:58,993 - INFO - Successfully connected to Supabase
2025-04-08 13:54:03,436 - INFO - SQL agent ready
2025-04-08 13:54:03,437 - INFO - RAG agent ready
2025-04-08 13:54:14,347 - ERROR - Error in SQL agent: Tool <agents.sql.tools.book_appointment.AppointmentBookingTool object at 0x000001FD4699C050> is not properly initialized
2025-04-08 14:01:51,506 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-08 14:01:57,363 - ERROR - Error executing module agents.graph.main: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:01:57,364 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-08 14:02:05,106 - INFO - HTTP Request: GET https://adxmtyjibwipeivrxcil.supabase.co/rest/v1/patients?select=count "HTTP/2 200 OK"
2025-04-08 14:02:05,110 - INFO - Successfully connected to Supabase
2025-04-08 14:02:05,280 - ERROR - Error executing module agents.sql.main: name 'logging' is not defined
2025-04-08 14:02:05,280 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-08 14:02:08,843 - INFO - Successfully loaded rag agent
2025-04-08 14:02:08,844 - INFO - RAG agent ready
2025-04-08 14:08:49,441 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-08 14:08:54,747 - ERROR - Error executing module agents.graph.main: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:08:54,748 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-08 14:08:58,295 - ERROR - Error executing module agents.sql.main: name 'Tool' is not defined
2025-04-08 14:08:58,295 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-08 14:09:01,953 - INFO - Successfully loaded rag agent
2025-04-08 14:09:01,954 - INFO - RAG agent ready
2025-04-08 14:15:21,968 - ERROR - Failed to initialize router: __init__() should return None, not 'coroutine'
2025-04-08 14:17:14,507 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-08 14:17:21,119 - ERROR - Error executing module agents.graph.main: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:17:21,119 - ERROR - Failed to load GRAPH agent
2025-04-08 14:17:21,120 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-08 14:17:24,375 - ERROR - Error executing module agents.sql.main: name 'Tool' is not defined
2025-04-08 14:17:24,375 - ERROR - Failed to load SQL agent
2025-04-08 14:17:24,375 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-08 14:17:27,611 - ERROR - No get_agent function found in rag module
2025-04-08 14:17:27,611 - ERROR - Failed to load RAG agent
2025-04-08 14:17:27,611 - INFO - Router initialization complete
2025-04-08 14:17:48,383 - INFO - Routing query to SQL agent: I want to schedule an apppointment
2025-04-08 14:17:48,383 - ERROR - Agent handler not found for department: SQL
2025-04-08 14:20:56,090 - ERROR - Failed to initialize router: 
2025-04-08 14:21:05,739 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-08 14:21:12,113 - ERROR - Error executing module agents.graph.main: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:21:12,477 - ERROR - Module error traceback: Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 181, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 16, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct

2025-04-08 14:21:12,478 - ERROR - Failed to load GRAPH agent
2025-04-08 14:21:12,478 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-08 14:21:16,440 - ERROR - Error executing module agents.sql.main: name 'Tool' is not defined
2025-04-08 14:21:16,447 - ERROR - Module error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 181, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 9, in <module>
    from .tools.book_appointment import book_appointment_wrapper
  File "D:\FYP\server\agents\sql\tools\book_appointment.py", line 183, in <module>
    book_appointment_wrapper = Tool(
                               ^^^^
NameError: name 'Tool' is not defined. Did you mean: 'tool'?

2025-04-08 14:21:16,448 - ERROR - Failed to load SQL agent
2025-04-08 14:21:16,448 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-08 14:21:20,937 - ERROR - No get_agent function found in rag module
2025-04-08 14:21:20,937 - ERROR - Failed to load RAG agent
2025-04-08 14:21:20,938 - INFO - Router initialization complete
2025-04-08 14:21:32,320 - INFO - Routing query to SQL agent: I want to schedule ana pppointment
2025-04-08 14:21:32,320 - ERROR - Agent handler not found for department: SQL
2025-04-08 14:29:48,288 - ERROR - Failed to initialize router: 
2025-04-08 14:30:01,042 - INFO - Attempting to load agent from: D:\FYP\server\agents\graph\main.py
2025-04-08 14:30:07,522 - ERROR - Error executing module agents.graph.main: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:30:07,557 - ERROR - Module error traceback: Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 181, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 16, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct

2025-04-08 14:30:07,557 - ERROR - Failed to load GRAPH agent
2025-04-08 14:30:07,558 - INFO - Attempting to load agent from: D:\FYP\server\agents\sql\main.py
2025-04-08 14:30:11,698 - ERROR - Error executing module agents.sql.main: name 'Tool' is not defined
2025-04-08 14:30:11,707 - ERROR - Module error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 181, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 9, in <module>
    from .tools.book_appointment import book_appointment_wrapper
  File "D:\FYP\server\agents\sql\tools\book_appointment.py", line 183, in <module>
    book_appointment_wrapper = Tool(
                               ^^^^
NameError: name 'Tool' is not defined. Did you mean: 'tool'?

2025-04-08 14:30:11,708 - ERROR - Failed to load SQL agent
2025-04-08 14:30:11,708 - INFO - Attempting to load agent from: D:\FYP\server\agents\rag\main.py
2025-04-08 14:30:16,033 - ERROR - No get_agent function found in rag module
2025-04-08 14:30:16,034 - ERROR - Failed to load RAG agent
2025-04-08 14:30:16,034 - INFO - Router initialization complete
2025-04-08 14:30:25,842 - INFO - Routing query to SQL agent: I want to book an appointment
2025-04-08 14:30:25,842 - ERROR - Agent handler not found for department: SQL
2025-04-08 14:30:39,852 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 14:30:39,884 - INFO - Routing query to GRAPH agent: what are your private room charges
2025-04-08 14:30:39,884 - ERROR - Agent handler not found for department: GRAPH
2025-04-08 14:31:22,324 - INFO - Routing query to RAG agent: what are you payments procedures
2025-04-08 14:31:22,324 - ERROR - Agent handler not found for department: RAG
2025-04-08 14:44:22,648 - ERROR - Failed to initialize router: 
2025-04-08 14:44:37,522 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:44:37,558 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 168, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 16, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct

2025-04-08 14:44:37,559 - ERROR - Failed to load GRAPH agent
2025-04-08 14:44:38,726 - ERROR - Failed to load sql agent: No module named 'agents.prompt'
2025-04-08 14:44:38,729 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 168, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from .prompt import agent_instructions
ModuleNotFoundError: No module named 'agents.prompt'

2025-04-08 14:44:38,730 - ERROR - Failed to load SQL agent
2025-04-08 14:44:43,025 - ERROR - Failed to load rag agent: module 'agents.rag' has no attribute 'get_agent'
2025-04-08 14:44:43,029 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 171, in _load_agent
    self.agents[agent_name] = await module.get_agent()
                                    ^^^^^^^^^^^^^^^^
AttributeError: module 'agents.rag' has no attribute 'get_agent'

2025-04-08 14:44:43,030 - ERROR - Failed to load RAG agent
2025-04-08 14:44:43,030 - INFO - Router initialization complete
2025-04-08 14:44:55,306 - INFO - Routing query to SQL agent: I want to book an appointment
2025-04-08 14:44:55,306 - ERROR - Agent handler not found for department: SQL
2025-04-08 14:47:34,687 - ERROR - Failed to initialize router: 
2025-04-08 14:51:29,913 - INFO - Starting agent initialization...
2025-04-08 14:51:32,685 - ERROR - Failed to load sql agent: No module named 'agents.prompt'
2025-04-08 14:51:32,696 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 183, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from .prompt import agent_instructions
ModuleNotFoundError: No module named 'agents.prompt'

2025-04-08 14:51:37,170 - ERROR - Failed to load rag agent: module 'agents.rag' has no attribute 'get_agent'
2025-04-08 14:51:37,172 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 186, in _load_agent
    self.agents[agent_name.upper()] = await module.get_agent()
                                            ^^^^^^^^^^^^^^^^
AttributeError: module 'agents.rag' has no attribute 'get_agent'

2025-04-08 14:51:41,735 - ERROR - Failed to load graph agent: Could not connect to Neo4j database. Please ensure that the url is correct
2025-04-08 14:51:41,748 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 409, in _connect_secure
    s.connect(resolved_address)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 328, in connect
    s = cls._connect_secure(
        resolved_address, tcp_timeout, keep_alive, ssl_context
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_async_compat\network\_bolt_socket.py", line 426, in _connect_secure
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from error
neo4j.exceptions.ServiceUnavailable: Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 415, in __init__
    self._driver.verify_connectivity()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1082, in verify_connectivity
    self._get_server_info(session_config)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\driver.py", line 1297, in _get_server_info
    return session._get_server_info()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 183, in _get_server_info
    self._connect(READ_ACCESS, liveness_check_timeout=0)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\session.py", line 136, in _connect
    super()._connect(
    ~~~~~~~~~~~~~~~~^
        access_mode, auth=self._config.auth, **acquire_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\work\workspace.py", line 199, in _connect
    self._connection = self._pool.acquire(**acquire_kwargs_)
                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 662, in acquire
    return self._acquire(
           ~~~~~~~~~~~~~^
        self.address, auth, deadline, liveness_check_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 408, in _acquire
    return connection_creator()
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 230, in connection_creator
    connection = self.opener(
        address, auth or self.pool_config.auth, deadline
    )
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_pool.py", line 624, in opener
    return Bolt.open(
           ~~~~~~~~~^
        addr,
        ^^^^^
    ...<3 lines>...
        pool_config=pool_config,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt.py", line 369, in open
    s, protocol_version, handshake, data = BoltSocket.connect(
                                           ~~~~~~~~~~~~~~~~~~^
        address,
        ^^^^^^^^
    ...<4 lines>...
        keep_alive=pool_config.keep_alive,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FYP\server\env\Lib\site-packages\neo4j\_sync\io\_bolt_socket.py", line 376, in connect
    raise ServiceUnavailable(
    ...<2 lines>...
    ) from errors[0]
neo4j.exceptions.ServiceUnavailable: Couldn't connect to localhost:7687 (resolved to ('[::1]:7687', '127.0.0.1:7687')):
Failed to establish connection to ResolvedIPv6Address(('::1', 7687, 0, 0)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)
Failed to establish connection to ResolvedIPv4Address(('127.0.0.1', 7687)) (reason [WinError 10061] No connection could be made because the target machine actively refused it)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 183, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 16, in <module>
    graph = Neo4jGraph(
        url=os.getenv("NEO4J_URI"),
    ...<2 lines>...
        database="medicalrag"
    )
  File "D:\FYP\server\env\Lib\site-packages\langchain_core\_api\deprecation.py", line 214, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "D:\FYP\server\env\Lib\site-packages\langchain_community\graphs\neo4j_graph.py", line 417, in __init__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Could not connect to Neo4j database. Please ensure that the url is correct

2025-04-08 14:51:41,757 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:51:41,757 - ERROR - Agent loading failure details:
2025-04-08 14:51:41,757 - ERROR - sql loading traceback:
2025-04-08 14:51:41,757 - ERROR - NoneType: None

2025-04-08 14:51:41,757 - ERROR - rag loading traceback:
2025-04-08 14:51:41,758 - ERROR - NoneType: None

2025-04-08 14:51:41,758 - ERROR - graph loading traceback:
2025-04-08 14:51:41,758 - ERROR - NoneType: None

2025-04-08 14:51:41,758 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:51:41,758 - ERROR - Full initialization traceback:
2025-04-08 14:51:41,758 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 142, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 14:51:41,759 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:55:19,871 - INFO - Starting agent initialization...
2025-04-08 14:55:26,888 - ERROR - Failed to load sql agent: No module named 'agents.prompt'
2025-04-08 14:55:26,896 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 185, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from .prompt import agent_instructions
ModuleNotFoundError: No module named 'agents.prompt'

2025-04-08 14:55:27,556 - ERROR - Failed to load rag agent: No module named 'langchain_cohere'
2025-04-08 14:55:27,559 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 185, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\rag\main.py", line 5, in <module>
    from langchain_cohere import CohereEmbeddings
ModuleNotFoundError: No module named 'langchain_cohere'

2025-04-08 14:55:27,573 - ERROR - Failed to load graph agent: No module named 'langchain_neo4j'
2025-04-08 14:55:27,575 - ERROR - Agent error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 185, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 5, in <module>
    from langchain_neo4j import Neo4jGraph
ModuleNotFoundError: No module named 'langchain_neo4j'

2025-04-08 14:55:27,576 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:55:27,576 - ERROR - Agent loading failure details:
2025-04-08 14:55:27,576 - ERROR - sql loading traceback:
2025-04-08 14:55:27,576 - ERROR - NoneType: None

2025-04-08 14:55:27,576 - ERROR - rag loading traceback:
2025-04-08 14:55:27,577 - ERROR - NoneType: None

2025-04-08 14:55:27,577 - ERROR - graph loading traceback:
2025-04-08 14:55:27,577 - ERROR - NoneType: None

2025-04-08 14:55:27,577 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:55:27,577 - ERROR - Full initialization traceback:
2025-04-08 14:55:27,578 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 144, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 14:55:27,579 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:56:43,535 - INFO - Starting agent initialization...
2025-04-08 14:56:45,623 - ERROR - Error executing module for sql agent: No module named 'agents.prompt'
2025-04-08 14:56:45,631 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 195, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from .prompt import agent_instructions
ModuleNotFoundError: No module named 'agents.prompt'

2025-04-08 14:56:46,178 - ERROR - Error executing module for rag agent: No module named 'langchain_cohere'
2025-04-08 14:56:46,183 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 195, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\rag\main.py", line 5, in <module>
    from langchain_cohere import CohereEmbeddings
ModuleNotFoundError: No module named 'langchain_cohere'

2025-04-08 14:56:46,187 - ERROR - Error executing module for graph agent: No module named 'langchain_neo4j'
2025-04-08 14:56:46,192 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 195, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 5, in <module>
    from langchain_neo4j import Neo4jGraph
ModuleNotFoundError: No module named 'langchain_neo4j'

2025-04-08 14:56:46,193 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:56:46,193 - ERROR - Agent loading failure details:
2025-04-08 14:56:46,193 - ERROR - sql loading traceback:
2025-04-08 14:56:46,194 - ERROR - NoneType: None

2025-04-08 14:56:46,194 - ERROR - rag loading traceback:
2025-04-08 14:56:46,195 - ERROR - NoneType: None

2025-04-08 14:56:46,195 - ERROR - graph loading traceback:
2025-04-08 14:56:46,195 - ERROR - NoneType: None

2025-04-08 14:56:46,196 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:56:46,196 - ERROR - Full initialization traceback:
2025-04-08 14:56:46,198 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 144, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 14:56:46,200 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:58:11,426 - INFO - Starting agent initialization...
2025-04-08 14:58:11,427 - DEBUG - Environment variables verified
2025-04-08 14:58:11,428 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 14:58:11,430 - DEBUG - Starting to load sql agent
2025-04-08 14:58:11,431 - DEBUG - Looking for agent module at D:\FYP\server\agents\sql\main.py
2025-04-08 14:58:11,433 - DEBUG - Found agent module at D:\FYP\server\agents\sql\main.py
2025-04-08 14:58:11,434 - DEBUG - Creating spec for sql agent
2025-04-08 14:58:11,435 - DEBUG - Created spec for sql agent
2025-04-08 14:58:11,436 - DEBUG - Creating module from spec for sql agent
2025-04-08 14:58:11,437 - DEBUG - Executing module for sql agent
2025-04-08 14:58:13,897 - ERROR - Error executing module for sql agent: No module named 'agents.prompt'
2025-04-08 14:58:13,907 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 209, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\sql\main.py", line 5, in <module>
    from .prompt import agent_instructions
ModuleNotFoundError: No module named 'agents.prompt'

2025-04-08 14:58:13,912 - DEBUG - Starting to load rag agent
2025-04-08 14:58:13,914 - DEBUG - Looking for agent module at D:\FYP\server\agents\rag\main.py
2025-04-08 14:58:13,917 - DEBUG - Found agent module at D:\FYP\server\agents\rag\main.py
2025-04-08 14:58:13,919 - DEBUG - Creating spec for rag agent
2025-04-08 14:58:13,921 - DEBUG - Created spec for rag agent
2025-04-08 14:58:13,922 - DEBUG - Creating module from spec for rag agent
2025-04-08 14:58:13,923 - DEBUG - Executing module for rag agent
2025-04-08 14:58:14,334 - ERROR - Error executing module for rag agent: No module named 'langchain_cohere'
2025-04-08 14:58:14,337 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 209, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\rag\main.py", line 5, in <module>
    from langchain_cohere import CohereEmbeddings
ModuleNotFoundError: No module named 'langchain_cohere'

2025-04-08 14:58:14,340 - DEBUG - Starting to load graph agent
2025-04-08 14:58:14,340 - DEBUG - Looking for agent module at D:\FYP\server\agents\graph\main.py
2025-04-08 14:58:14,342 - DEBUG - Found agent module at D:\FYP\server\agents\graph\main.py
2025-04-08 14:58:14,342 - DEBUG - Creating spec for graph agent
2025-04-08 14:58:14,343 - DEBUG - Created spec for graph agent
2025-04-08 14:58:14,344 - DEBUG - Creating module from spec for graph agent
2025-04-08 14:58:14,344 - DEBUG - Executing module for graph agent
2025-04-08 14:58:14,347 - ERROR - Error executing module for graph agent: No module named 'langchain_neo4j'
2025-04-08 14:58:14,351 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 209, in _load_agent
    spec.loader.exec_module(module)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\FYP\server\agents\graph\main.py", line 5, in <module>
    from langchain_neo4j import Neo4jGraph
ModuleNotFoundError: No module named 'langchain_neo4j'

2025-04-08 14:58:14,354 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 14:58:14,355 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:58:14,356 - ERROR - Agent loading failure details:
2025-04-08 14:58:14,356 - ERROR - sql loading traceback:
2025-04-08 14:58:14,357 - ERROR - NoneType: None

2025-04-08 14:58:14,358 - ERROR - rag loading traceback:
2025-04-08 14:58:14,358 - ERROR - NoneType: None

2025-04-08 14:58:14,359 - ERROR - graph loading traceback:
2025-04-08 14:58:14,360 - ERROR - NoneType: None

2025-04-08 14:58:14,361 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:58:14,361 - ERROR - Full initialization traceback:
2025-04-08 14:58:14,363 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 14:58:14,365 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:59:29,589 - INFO - Starting agent initialization...
2025-04-08 14:59:29,590 - DEBUG - Environment variables verified
2025-04-08 14:59:29,591 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 14:59:32,453 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 14:59:32,454 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:59:32,454 - ERROR - Agent loading failure details:
2025-04-08 14:59:32,455 - ERROR - sql loading traceback:
2025-04-08 14:59:32,456 - ERROR - NoneType: None

2025-04-08 14:59:32,458 - ERROR - rag loading traceback:
2025-04-08 14:59:32,459 - ERROR - NoneType: None

2025-04-08 14:59:32,460 - ERROR - graph loading traceback:
2025-04-08 14:59:32,460 - ERROR - NoneType: None

2025-04-08 14:59:32,461 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 14:59:32,462 - ERROR - Full initialization traceback:
2025-04-08 14:59:32,464 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 14:59:32,466 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 15:08:49,650 - INFO - Starting agent initialization...
2025-04-08 15:08:49,651 - DEBUG - Environment variables verified
2025-04-08 15:08:49,651 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 15:08:53,697 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 15:08:53,699 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 15:08:53,699 - ERROR - Agent loading failure details:
2025-04-08 15:08:53,700 - ERROR - sql loading traceback:
2025-04-08 15:08:53,701 - ERROR - NoneType: None

2025-04-08 15:08:53,703 - ERROR - rag loading traceback:
2025-04-08 15:08:53,703 - ERROR - NoneType: None

2025-04-08 15:08:53,705 - ERROR - graph loading traceback:
2025-04-08 15:08:53,706 - ERROR - NoneType: None

2025-04-08 15:08:53,708 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 15:08:53,709 - ERROR - Full initialization traceback:
2025-04-08 15:08:53,711 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 15:08:53,715 - ERROR - Failed to initialize router: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:50:32,698 - INFO - Starting agent initialization...
2025-04-08 16:50:32,699 - DEBUG - Environment variables verified
2025-04-08 16:50:32,699 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:50:33,754 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 16:50:33,755 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:50:33,755 - ERROR - Agent loading failure details:
2025-04-08 16:50:33,756 - ERROR - sql loading traceback:
2025-04-08 16:50:33,756 - ERROR - NoneType: None

2025-04-08 16:50:33,756 - ERROR - rag loading traceback:
2025-04-08 16:50:33,756 - ERROR - NoneType: None

2025-04-08 16:50:33,757 - ERROR - graph loading traceback:
2025-04-08 16:50:33,757 - ERROR - NoneType: None

2025-04-08 16:50:33,757 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:50:33,758 - ERROR - Full initialization traceback:
2025-04-08 16:50:33,759 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:50:33,760 - ERROR - Critical error in main: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:50:33,762 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 601, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:52:00,572 - INFO - Starting agent initialization...
2025-04-08 16:52:00,572 - DEBUG - Environment variables verified
2025-04-08 16:52:00,573 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:52:03,758 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 16:52:03,758 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 16:52:03,759 - ERROR - Agent loading failure details:
2025-04-08 16:52:03,759 - ERROR - rag loading traceback:
2025-04-08 16:52:03,759 - ERROR - NoneType: None

2025-04-08 16:52:03,760 - ERROR - graph loading traceback:
2025-04-08 16:52:03,760 - ERROR - NoneType: None

2025-04-08 16:52:03,760 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 16:52:03,760 - ERROR - Full initialization traceback:
2025-04-08 16:52:03,762 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 16:52:03,763 - ERROR - Critical error in main: Failed to load agents: ['rag', 'graph']
2025-04-08 16:52:03,764 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 606, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 16:53:36,780 - INFO - Starting agent initialization...
2025-04-08 16:53:36,781 - DEBUG - Environment variables verified
2025-04-08 16:53:36,781 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:53:38,166 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 16:53:38,167 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:53:38,167 - ERROR - Agent loading failure details:
2025-04-08 16:53:38,168 - ERROR - sql loading traceback:
2025-04-08 16:53:38,168 - ERROR - NoneType: None

2025-04-08 16:53:38,168 - ERROR - rag loading traceback:
2025-04-08 16:53:38,169 - ERROR - NoneType: None

2025-04-08 16:53:38,169 - ERROR - graph loading traceback:
2025-04-08 16:53:38,169 - ERROR - NoneType: None

2025-04-08 16:53:38,170 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:53:38,170 - ERROR - Full initialization traceback:
2025-04-08 16:53:38,172 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:53:38,174 - ERROR - Critical error in main: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:53:38,175 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 606, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:55:14,347 - INFO - Starting agent initialization...
2025-04-08 16:55:14,348 - DEBUG - Environment variables verified
2025-04-08 16:55:14,348 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:55:17,972 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 16:55:17,972 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:55:17,973 - ERROR - Agent loading failure details:
2025-04-08 16:55:17,973 - ERROR - sql loading traceback:
2025-04-08 16:55:17,973 - ERROR - NoneType: None

2025-04-08 16:55:17,974 - ERROR - rag loading traceback:
2025-04-08 16:55:17,975 - ERROR - NoneType: None

2025-04-08 16:55:17,976 - ERROR - graph loading traceback:
2025-04-08 16:55:17,977 - ERROR - NoneType: None

2025-04-08 16:55:17,978 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:55:17,978 - ERROR - Full initialization traceback:
2025-04-08 16:55:17,979 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:55:17,981 - ERROR - Critical error in main: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:55:17,982 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 606, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:56:47,737 - INFO - Starting agent initialization...
2025-04-08 16:56:47,737 - DEBUG - Environment variables verified
2025-04-08 16:56:47,738 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:56:50,755 - DEBUG - Agent loading results: [False, False, False]
2025-04-08 16:56:50,756 - ERROR - Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:56:50,756 - ERROR - Agent loading failure details:
2025-04-08 16:56:50,757 - ERROR - sql loading traceback:
2025-04-08 16:56:50,757 - ERROR - NoneType: None

2025-04-08 16:56:50,757 - ERROR - rag loading traceback:
2025-04-08 16:56:50,758 - ERROR - NoneType: None

2025-04-08 16:56:50,758 - ERROR - graph loading traceback:
2025-04-08 16:56:50,758 - ERROR - NoneType: None

2025-04-08 16:56:50,759 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:56:50,759 - ERROR - Full initialization traceback:
2025-04-08 16:56:50,760 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:56:50,761 - ERROR - Critical error in main: Failed to load agents: ['sql', 'rag', 'graph']
2025-04-08 16:56:50,763 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 606, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag', 'graph']

2025-04-08 16:58:19,472 - INFO - Starting agent initialization...
2025-04-08 16:58:19,474 - DEBUG - Environment variables verified
2025-04-08 16:58:19,474 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:58:25,019 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 16:58:25,020 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 16:58:25,020 - ERROR - Agent loading failure details:
2025-04-08 16:58:25,021 - ERROR - rag loading traceback:
2025-04-08 16:58:25,021 - ERROR - NoneType: None

2025-04-08 16:58:25,022 - ERROR - graph loading traceback:
2025-04-08 16:58:25,023 - ERROR - NoneType: None

2025-04-08 16:58:25,023 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 16:58:25,024 - ERROR - Full initialization traceback:
2025-04-08 16:58:25,026 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 16:58:25,028 - ERROR - Critical error in main: Failed to load agents: ['rag', 'graph']
2025-04-08 16:58:25,031 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 16:59:12,895 - INFO - Starting agent initialization...
2025-04-08 16:59:12,895 - DEBUG - Environment variables verified
2025-04-08 16:59:12,896 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 16:59:28,946 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 16:59:28,947 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 16:59:28,947 - ERROR - Agent loading failure details:
2025-04-08 16:59:28,948 - ERROR - rag loading traceback:
2025-04-08 16:59:28,948 - ERROR - NoneType: None

2025-04-08 16:59:28,949 - ERROR - graph loading traceback:
2025-04-08 16:59:28,949 - ERROR - NoneType: None

2025-04-08 16:59:28,949 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 16:59:28,950 - ERROR - Full initialization traceback:
2025-04-08 16:59:28,951 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 16:59:28,953 - ERROR - Critical error in main: Failed to load agents: ['rag', 'graph']
2025-04-08 16:59:28,954 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 17:01:01,508 - INFO - Starting agent initialization...
2025-04-08 17:01:01,509 - DEBUG - Environment variables verified
2025-04-08 17:01:01,510 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:01:11,818 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 17:01:11,818 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 17:01:11,819 - ERROR - Agent loading failure details:
2025-04-08 17:01:11,819 - ERROR - rag loading traceback:
2025-04-08 17:01:11,819 - ERROR - NoneType: None

2025-04-08 17:01:11,819 - ERROR - graph loading traceback:
2025-04-08 17:01:11,820 - ERROR - NoneType: None

2025-04-08 17:01:11,820 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 17:01:11,821 - ERROR - Full initialization traceback:
2025-04-08 17:01:11,822 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 17:01:11,823 - ERROR - Critical error in main: Failed to load agents: ['rag', 'graph']
2025-04-08 17:01:11,825 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 17:02:19,577 - INFO - Starting agent initialization...
2025-04-08 17:02:19,578 - DEBUG - Environment variables verified
2025-04-08 17:02:19,579 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:02:29,624 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 17:02:29,624 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 17:02:29,624 - ERROR - Agent loading failure details:
2025-04-08 17:02:29,625 - ERROR - rag loading traceback:
2025-04-08 17:02:29,625 - ERROR - NoneType: None

2025-04-08 17:02:29,626 - ERROR - graph loading traceback:
2025-04-08 17:02:29,626 - ERROR - NoneType: None

2025-04-08 17:02:29,626 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 17:02:29,627 - ERROR - Full initialization traceback:
2025-04-08 17:02:29,628 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 17:02:29,629 - ERROR - Critical error in main: Failed to load agents: ['rag', 'graph']
2025-04-08 17:02:29,630 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 17:03:46,075 - INFO - Starting agent initialization...
2025-04-08 17:03:46,076 - DEBUG - Environment variables verified
2025-04-08 17:03:46,077 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:03:56,489 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:03:56,490 - DEBUG - Verifying agent interfaces...
2025-04-08 17:03:56,497 - DEBUG - Agent verification complete
2025-04-08 17:03:56,497 - INFO - All agents initialized successfully
2025-04-08 17:05:19,849 - INFO - Starting agent initialization...
2025-04-08 17:05:19,850 - DEBUG - Environment variables verified
2025-04-08 17:05:19,850 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:05:29,800 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:05:29,801 - DEBUG - Verifying agent interfaces...
2025-04-08 17:05:29,805 - DEBUG - Agent verification complete
2025-04-08 17:05:29,805 - INFO - All agents initialized successfully
2025-04-08 17:06:37,903 - INFO - Starting agent initialization...
2025-04-08 17:06:37,904 - DEBUG - Environment variables verified
2025-04-08 17:06:37,904 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:06:47,904 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:06:47,904 - DEBUG - Verifying agent interfaces...
2025-04-08 17:06:47,908 - DEBUG - Agent verification complete
2025-04-08 17:06:47,908 - INFO - All agents initialized successfully
2025-04-08 17:08:53,133 - INFO - Starting agent initialization...
2025-04-08 17:08:53,134 - DEBUG - Environment variables verified
2025-04-08 17:08:53,134 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:09:03,251 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:09:03,252 - DEBUG - Verifying agent interfaces...
2025-04-08 17:09:03,256 - DEBUG - Agent verification complete
2025-04-08 17:09:03,256 - INFO - All agents initialized successfully
2025-04-08 17:10:12,303 - INFO - Starting agent initialization...
2025-04-08 17:10:12,304 - DEBUG - Environment variables verified
2025-04-08 17:10:12,305 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:10:21,761 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:10:21,762 - DEBUG - Verifying agent interfaces...
2025-04-08 17:10:21,766 - DEBUG - Agent verification complete
2025-04-08 17:10:21,766 - INFO - All agents initialized successfully
2025-04-08 17:11:30,682 - INFO - Starting agent initialization...
2025-04-08 17:11:30,683 - DEBUG - Environment variables verified
2025-04-08 17:11:30,683 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:11:40,894 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:11:40,894 - DEBUG - Verifying agent interfaces...
2025-04-08 17:11:40,898 - DEBUG - Agent verification complete
2025-04-08 17:11:40,899 - INFO - All agents initialized successfully
2025-04-08 17:13:06,357 - INFO - Starting agent initialization...
2025-04-08 17:13:06,358 - DEBUG - Environment variables verified
2025-04-08 17:13:06,358 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:13:16,769 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:13:16,770 - DEBUG - Verifying agent interfaces...
2025-04-08 17:13:16,774 - DEBUG - Agent verification complete
2025-04-08 17:13:16,775 - INFO - All agents initialized successfully
2025-04-08 17:14:40,184 - INFO - Starting agent initialization...
2025-04-08 17:14:40,185 - DEBUG - Environment variables verified
2025-04-08 17:14:40,185 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:14:51,517 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 17:14:51,518 - ERROR - Failed to load agents: ['sql']
2025-04-08 17:14:51,519 - ERROR - Agent loading failure details:
2025-04-08 17:14:51,520 - ERROR - sql loading traceback:
2025-04-08 17:14:51,520 - ERROR - NoneType: None

2025-04-08 17:14:51,521 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 17:14:51,522 - ERROR - Full initialization traceback:
2025-04-08 17:14:51,524 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:14:51,525 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 17:14:51,528 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:16:11,434 - INFO - Starting agent initialization...
2025-04-08 17:16:11,435 - DEBUG - Environment variables verified
2025-04-08 17:16:11,436 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:16:24,488 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 17:16:24,489 - ERROR - Failed to load agents: ['sql']
2025-04-08 17:16:24,489 - ERROR - Agent loading failure details:
2025-04-08 17:16:24,490 - ERROR - sql loading traceback:
2025-04-08 17:16:24,491 - ERROR - NoneType: None

2025-04-08 17:16:24,492 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 17:16:24,492 - ERROR - Full initialization traceback:
2025-04-08 17:16:24,494 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:16:24,496 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 17:16:24,499 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:17:33,748 - INFO - Starting agent initialization...
2025-04-08 17:17:33,749 - DEBUG - Environment variables verified
2025-04-08 17:17:33,750 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:17:46,815 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 17:17:46,816 - ERROR - Failed to load agents: ['sql']
2025-04-08 17:17:46,816 - ERROR - Agent loading failure details:
2025-04-08 17:17:46,817 - ERROR - sql loading traceback:
2025-04-08 17:17:46,818 - ERROR - NoneType: None

2025-04-08 17:17:46,819 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 17:17:46,820 - ERROR - Full initialization traceback:
2025-04-08 17:17:46,821 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:17:46,823 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 17:17:46,825 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:19:15,607 - INFO - Starting agent initialization...
2025-04-08 17:19:15,608 - DEBUG - Environment variables verified
2025-04-08 17:19:15,609 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:19:28,174 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:19:28,174 - DEBUG - Verifying agent interfaces...
2025-04-08 17:19:28,181 - DEBUG - Agent verification complete
2025-04-08 17:19:28,182 - INFO - All agents initialized successfully
2025-04-08 17:21:06,304 - INFO - Starting agent initialization...
2025-04-08 17:21:06,305 - DEBUG - Environment variables verified
2025-04-08 17:21:06,306 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:21:18,936 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:21:18,936 - DEBUG - Verifying agent interfaces...
2025-04-08 17:21:18,942 - DEBUG - Agent verification complete
2025-04-08 17:21:18,942 - INFO - All agents initialized successfully
2025-04-08 17:22:50,630 - INFO - Starting agent initialization...
2025-04-08 17:22:50,631 - DEBUG - Environment variables verified
2025-04-08 17:22:50,632 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:23:03,821 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:23:03,821 - DEBUG - Verifying agent interfaces...
2025-04-08 17:23:03,828 - DEBUG - Agent verification complete
2025-04-08 17:23:03,828 - INFO - All agents initialized successfully
2025-04-08 17:40:14,601 - INFO - Starting agent initialization...
2025-04-08 17:40:14,602 - DEBUG - Environment variables verified
2025-04-08 17:40:14,603 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:40:27,752 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:40:27,752 - DEBUG - Verifying agent interfaces...
2025-04-08 17:40:27,758 - DEBUG - Agent verification complete
2025-04-08 17:40:27,758 - INFO - All agents initialized successfully
2025-04-08 17:45:09,350 - INFO - Starting agent initialization...
2025-04-08 17:45:09,351 - DEBUG - Environment variables verified
2025-04-08 17:45:09,352 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:45:20,606 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 17:45:20,607 - ERROR - Failed to load agents: ['sql']
2025-04-08 17:45:20,608 - ERROR - Agent loading failure details:
2025-04-08 17:45:20,609 - ERROR - sql loading traceback:
2025-04-08 17:45:20,610 - ERROR - NoneType: None

2025-04-08 17:45:20,611 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 17:45:20,611 - ERROR - Full initialization traceback:
2025-04-08 17:45:20,613 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:45:20,615 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 17:45:20,617 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:46:40,178 - INFO - Starting agent initialization...
2025-04-08 17:46:40,179 - DEBUG - Environment variables verified
2025-04-08 17:46:40,179 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:46:51,482 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 17:46:51,483 - ERROR - Failed to load agents: ['sql']
2025-04-08 17:46:51,483 - ERROR - Agent loading failure details:
2025-04-08 17:46:51,484 - ERROR - sql loading traceback:
2025-04-08 17:46:51,485 - ERROR - NoneType: None

2025-04-08 17:46:51,486 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 17:46:51,486 - ERROR - Full initialization traceback:
2025-04-08 17:46:51,488 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:46:51,490 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 17:46:51,493 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 17:47:47,463 - INFO - Starting agent initialization...
2025-04-08 17:47:47,464 - DEBUG - Environment variables verified
2025-04-08 17:47:47,465 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:48:01,246 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:48:01,247 - DEBUG - Verifying agent interfaces...
2025-04-08 17:48:01,252 - DEBUG - Agent verification complete
2025-04-08 17:48:01,253 - INFO - All agents initialized successfully
2025-04-08 17:49:40,256 - INFO - Starting agent initialization...
2025-04-08 17:49:40,257 - DEBUG - Environment variables verified
2025-04-08 17:49:40,258 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:49:53,545 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:49:53,546 - DEBUG - Verifying agent interfaces...
2025-04-08 17:49:53,551 - DEBUG - Agent verification complete
2025-04-08 17:49:53,552 - INFO - All agents initialized successfully
2025-04-08 17:51:19,645 - INFO - Starting agent initialization...
2025-04-08 17:51:19,646 - DEBUG - Environment variables verified
2025-04-08 17:51:19,647 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:51:32,450 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:51:32,451 - DEBUG - Verifying agent interfaces...
2025-04-08 17:51:32,457 - DEBUG - Agent verification complete
2025-04-08 17:51:32,457 - INFO - All agents initialized successfully
2025-04-08 17:59:19,701 - INFO - Starting agent initialization...
2025-04-08 17:59:19,702 - DEBUG - Environment variables verified
2025-04-08 17:59:19,703 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 17:59:32,956 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 17:59:32,957 - DEBUG - Verifying agent interfaces...
2025-04-08 17:59:32,963 - DEBUG - Agent verification complete
2025-04-08 17:59:32,964 - INFO - All agents initialized successfully
2025-04-08 18:03:41,985 - INFO - Starting agent initialization...
2025-04-08 18:03:41,986 - DEBUG - Environment variables verified
2025-04-08 18:03:41,987 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:03:55,041 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:03:55,042 - DEBUG - Verifying agent interfaces...
2025-04-08 18:03:55,047 - DEBUG - Agent verification complete
2025-04-08 18:03:55,048 - INFO - All agents initialized successfully
2025-04-08 18:05:53,436 - INFO - Starting agent initialization...
2025-04-08 18:05:53,437 - DEBUG - Environment variables verified
2025-04-08 18:05:53,438 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:06:06,866 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:06:06,866 - DEBUG - Verifying agent interfaces...
2025-04-08 18:06:06,872 - DEBUG - Agent verification complete
2025-04-08 18:06:06,873 - INFO - All agents initialized successfully
2025-04-08 18:08:31,334 - INFO - Starting agent initialization...
2025-04-08 18:08:31,335 - DEBUG - Environment variables verified
2025-04-08 18:08:31,336 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:08:44,637 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:08:44,637 - DEBUG - Verifying agent interfaces...
2025-04-08 18:08:44,644 - DEBUG - Agent verification complete
2025-04-08 18:08:44,645 - INFO - All agents initialized successfully
2025-04-08 18:10:05,765 - INFO - Starting agent initialization...
2025-04-08 18:10:05,766 - DEBUG - Environment variables verified
2025-04-08 18:10:05,766 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:10:23,108 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 18:10:23,109 - ERROR - Failed to load agents: ['sql']
2025-04-08 18:10:23,110 - ERROR - Agent loading failure details:
2025-04-08 18:10:23,111 - ERROR - sql loading traceback:
2025-04-08 18:10:23,111 - ERROR - NoneType: None

2025-04-08 18:10:23,112 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 18:10:23,113 - ERROR - Full initialization traceback:
2025-04-08 18:10:23,115 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 18:10:23,117 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 18:10:23,119 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 18:11:29,894 - INFO - Starting agent initialization...
2025-04-08 18:11:29,895 - DEBUG - Environment variables verified
2025-04-08 18:11:29,896 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:11:43,661 - DEBUG - Agent loading results: [False, True, True]
2025-04-08 18:11:43,662 - ERROR - Failed to load agents: ['sql']
2025-04-08 18:11:43,662 - ERROR - Agent loading failure details:
2025-04-08 18:11:43,663 - ERROR - sql loading traceback:
2025-04-08 18:11:43,664 - ERROR - NoneType: None

2025-04-08 18:11:43,665 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-08 18:11:43,665 - ERROR - Full initialization traceback:
2025-04-08 18:11:43,667 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 18:11:43,669 - ERROR - Critical error in main: Failed to load agents: ['sql']
2025-04-08 18:11:43,671 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-08 18:12:45,394 - INFO - Starting agent initialization...
2025-04-08 18:12:45,395 - DEBUG - Environment variables verified
2025-04-08 18:12:45,396 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:12:57,899 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:12:57,900 - DEBUG - Verifying agent interfaces...
2025-04-08 18:12:57,906 - DEBUG - Agent verification complete
2025-04-08 18:12:57,907 - INFO - All agents initialized successfully
2025-04-08 18:16:38,155 - INFO - Starting agent initialization...
2025-04-08 18:16:38,156 - DEBUG - Environment variables verified
2025-04-08 18:16:38,157 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:16:51,947 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:16:51,947 - DEBUG - Verifying agent interfaces...
2025-04-08 18:16:51,953 - DEBUG - Agent verification complete
2025-04-08 18:16:51,954 - INFO - All agents initialized successfully
2025-04-08 18:18:36,838 - INFO - Starting agent initialization...
2025-04-08 18:18:36,839 - DEBUG - Environment variables verified
2025-04-08 18:18:36,840 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:18:49,898 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:18:49,899 - DEBUG - Verifying agent interfaces...
2025-04-08 18:18:49,905 - DEBUG - Agent verification complete
2025-04-08 18:18:49,906 - INFO - All agents initialized successfully
2025-04-08 18:21:02,568 - INFO - Starting agent initialization...
2025-04-08 18:21:02,569 - DEBUG - Environment variables verified
2025-04-08 18:21:02,570 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:21:22,754 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:21:22,755 - DEBUG - Verifying agent interfaces...
2025-04-08 18:21:22,762 - DEBUG - Agent verification complete
2025-04-08 18:21:22,763 - INFO - All agents initialized successfully
2025-04-08 18:24:46,357 - INFO - Starting agent initialization...
2025-04-08 18:24:46,358 - DEBUG - Environment variables verified
2025-04-08 18:24:46,359 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:25:00,194 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:25:00,195 - DEBUG - Verifying agent interfaces...
2025-04-08 18:25:00,200 - DEBUG - Agent verification complete
2025-04-08 18:25:00,201 - INFO - All agents initialized successfully
2025-04-08 18:25:17,405 - WARNING - LLM error: 
2025-04-08 18:40:12,694 - INFO - Starting agent initialization...
2025-04-08 18:40:12,695 - DEBUG - Environment variables verified
2025-04-08 18:40:12,696 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:40:25,919 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:40:25,919 - DEBUG - Verifying agent interfaces...
2025-04-08 18:40:25,924 - DEBUG - Agent verification complete
2025-04-08 18:40:25,925 - INFO - All agents initialized successfully
2025-04-08 18:41:28,405 - ERROR - Error: No agent found for department HUMAN
2025-04-08 18:44:41,203 - INFO - Starting agent initialization...
2025-04-08 18:44:41,204 - DEBUG - Environment variables verified
2025-04-08 18:44:41,205 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:44:53,787 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:44:53,788 - DEBUG - Verifying agent interfaces...
2025-04-08 18:44:53,793 - DEBUG - Agent verification complete
2025-04-08 18:44:53,794 - INFO - All agents initialized successfully
2025-04-08 18:45:47,071 - WARNING - LLM error: 
2025-04-08 18:45:47,071 - ERROR - Error: No agent found for department HUMAN
2025-04-08 18:48:32,654 - INFO - Starting agent initialization...
2025-04-08 18:48:32,655 - DEBUG - Environment variables verified
2025-04-08 18:48:32,656 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 18:48:46,575 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 18:48:46,576 - DEBUG - Verifying agent interfaces...
2025-04-08 18:48:46,581 - DEBUG - Agent verification complete
2025-04-08 18:48:46,582 - INFO - All agents initialized successfully
2025-04-08 22:02:31,026 - INFO - Starting agent initialization...
2025-04-08 22:02:31,027 - DEBUG - Environment variables verified
2025-04-08 22:02:31,027 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:02:40,424 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 22:02:40,426 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 22:02:40,427 - ERROR - Agent loading failure details:
2025-04-08 22:02:40,428 - ERROR - rag loading traceback:
2025-04-08 22:02:40,429 - ERROR - NoneType: None

2025-04-08 22:02:40,430 - ERROR - graph loading traceback:
2025-04-08 22:02:40,432 - ERROR - NoneType: None

2025-04-08 22:02:40,433 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 22:02:40,434 - ERROR - Full initialization traceback:
2025-04-08 22:02:40,436 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 22:02:40,439 - ERROR - Critical error: Failed to load agents: ['rag', 'graph']
2025-04-08 22:02:40,443 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 592, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 22:03:37,346 - INFO - Starting agent initialization...
2025-04-08 22:03:37,347 - DEBUG - Environment variables verified
2025-04-08 22:03:37,348 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:03:42,554 - DEBUG - Agent loading results: [True, False, False]
2025-04-08 22:03:42,555 - ERROR - Failed to load agents: ['rag', 'graph']
2025-04-08 22:03:42,556 - ERROR - Agent loading failure details:
2025-04-08 22:03:42,557 - ERROR - rag loading traceback:
2025-04-08 22:03:42,558 - ERROR - NoneType: None

2025-04-08 22:03:42,559 - ERROR - graph loading traceback:
2025-04-08 22:03:42,560 - ERROR - NoneType: None

2025-04-08 22:03:42,561 - ERROR - Critical initialization failure: Failed to load agents: ['rag', 'graph']
2025-04-08 22:03:42,562 - ERROR - Full initialization traceback:
2025-04-08 22:03:42,564 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 22:03:42,567 - ERROR - Critical error: Failed to load agents: ['rag', 'graph']
2025-04-08 22:03:42,570 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 592, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag', 'graph']

2025-04-08 22:06:52,425 - INFO - Starting agent initialization...
2025-04-08 22:06:52,428 - DEBUG - Environment variables verified
2025-04-08 22:06:52,430 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:07:19,777 - DEBUG - Agent loading results: [True, True, False]
2025-04-08 22:07:19,778 - ERROR - Failed to load agents: ['graph']
2025-04-08 22:07:19,779 - ERROR - Agent loading failure details:
2025-04-08 22:07:19,780 - ERROR - graph loading traceback:
2025-04-08 22:07:19,781 - ERROR - NoneType: None

2025-04-08 22:07:19,781 - ERROR - Critical initialization failure: Failed to load agents: ['graph']
2025-04-08 22:07:19,782 - ERROR - Full initialization traceback:
2025-04-08 22:07:19,784 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-08 22:07:19,786 - ERROR - Critical error: Failed to load agents: ['graph']
2025-04-08 22:07:19,791 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 592, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 132, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 158, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-08 22:15:29,827 - INFO - Starting agent initialization...
2025-04-08 22:15:29,828 - DEBUG - Environment variables verified
2025-04-08 22:15:29,829 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:16:01,077 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 22:16:01,079 - DEBUG - Verifying agent interfaces...
2025-04-08 22:16:01,086 - DEBUG - Agent verification complete
2025-04-08 22:16:01,087 - INFO - All agents initialized successfully
2025-04-08 22:16:12,655 - WARNING - LLM error: 
2025-04-08 22:16:12,657 - ERROR - Error: No agent found for department HUMAN
2025-04-08 22:17:35,867 - INFO - Starting agent initialization...
2025-04-08 22:17:35,869 - DEBUG - Environment variables verified
2025-04-08 22:17:35,869 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:17:54,160 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 22:17:54,162 - DEBUG - Verifying agent interfaces...
2025-04-08 22:17:54,169 - DEBUG - Agent verification complete
2025-04-08 22:17:54,170 - INFO - All agents initialized successfully
2025-04-08 22:54:57,833 - INFO - Starting agent initialization...
2025-04-08 22:54:57,834 - DEBUG - Environment variables verified
2025-04-08 22:54:57,834 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:55:13,278 - DEBUG - Agent loading results: [True, False, True]
2025-04-08 22:55:13,279 - ERROR - Failed to load agents: ['rag']
2025-04-08 22:55:13,280 - ERROR - Agent loading failure details:
2025-04-08 22:55:13,280 - ERROR - rag loading traceback:
2025-04-08 22:55:13,282 - ERROR - NoneType: None

2025-04-08 22:55:13,283 - ERROR - Critical initialization failure: Failed to load agents: ['rag']
2025-04-08 22:55:13,285 - ERROR - Full initialization traceback:
2025-04-08 22:55:13,288 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 159, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag']

2025-04-08 22:55:13,291 - ERROR - Critical error: Failed to load agents: ['rag']
2025-04-08 22:55:13,295 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 610, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 133, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 159, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag']

2025-04-08 22:56:35,178 - INFO - Starting agent initialization...
2025-04-08 22:56:35,179 - DEBUG - Environment variables verified
2025-04-08 22:56:35,179 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 22:56:54,812 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 22:56:54,812 - DEBUG - Verifying agent interfaces...
2025-04-08 22:56:54,828 - DEBUG - Agent verification complete
2025-04-08 22:56:54,829 - INFO - All agents initialized successfully
2025-04-08 22:57:49,933 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 22:58:31,608 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 22:58:55,640 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:00:46,340 - INFO - Starting agent initialization...
2025-04-08 23:00:46,341 - DEBUG - Environment variables verified
2025-04-08 23:00:46,342 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:01:02,347 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:01:02,348 - DEBUG - Verifying agent interfaces...
2025-04-08 23:01:02,353 - DEBUG - Agent verification complete
2025-04-08 23:01:02,354 - INFO - All agents initialized successfully
2025-04-08 23:02:11,521 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:02:50,665 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:05:40,890 - INFO - Starting agent initialization...
2025-04-08 23:05:40,891 - DEBUG - Environment variables verified
2025-04-08 23:05:40,892 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:05:55,208 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:05:55,209 - DEBUG - Verifying agent interfaces...
2025-04-08 23:05:55,214 - DEBUG - Agent verification complete
2025-04-08 23:05:55,215 - INFO - All agents initialized successfully
2025-04-08 23:06:11,794 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:07:52,879 - INFO - Starting agent initialization...
2025-04-08 23:07:52,880 - DEBUG - Environment variables verified
2025-04-08 23:07:52,881 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:08:07,331 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:08:07,332 - DEBUG - Verifying agent interfaces...
2025-04-08 23:08:07,338 - DEBUG - Agent verification complete
2025-04-08 23:08:07,339 - INFO - All agents initialized successfully
2025-04-08 23:08:25,978 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:10:52,242 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:14:11,947 - INFO - Starting agent initialization...
2025-04-08 23:14:11,948 - DEBUG - Environment variables verified
2025-04-08 23:14:11,949 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:14:26,508 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:14:26,509 - DEBUG - Verifying agent interfaces...
2025-04-08 23:14:26,515 - DEBUG - Agent verification complete
2025-04-08 23:14:26,515 - INFO - All agents initialized successfully
2025-04-08 23:16:13,924 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:16:40,148 - INFO - Starting agent initialization...
2025-04-08 23:16:40,149 - DEBUG - Environment variables verified
2025-04-08 23:16:40,150 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:16:53,328 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:16:53,329 - DEBUG - Verifying agent interfaces...
2025-04-08 23:16:53,334 - DEBUG - Agent verification complete
2025-04-08 23:16:53,335 - INFO - All agents initialized successfully
2025-04-08 23:17:13,546 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:19:30,704 - INFO - Starting agent initialization...
2025-04-08 23:19:30,705 - DEBUG - Environment variables verified
2025-04-08 23:19:30,706 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:19:44,022 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:19:44,023 - DEBUG - Verifying agent interfaces...
2025-04-08 23:19:44,028 - DEBUG - Agent verification complete
2025-04-08 23:19:44,029 - INFO - All agents initialized successfully
2025-04-08 23:20:06,603 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:21:05,745 - INFO - Starting agent initialization...
2025-04-08 23:21:05,746 - DEBUG - Environment variables verified
2025-04-08 23:21:05,747 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:21:19,762 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:21:19,762 - DEBUG - Verifying agent interfaces...
2025-04-08 23:21:19,768 - DEBUG - Agent verification complete
2025-04-08 23:21:19,768 - INFO - All agents initialized successfully
2025-04-08 23:21:33,317 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:23:57,950 - INFO - Starting agent initialization...
2025-04-08 23:23:57,952 - DEBUG - Environment variables verified
2025-04-08 23:23:57,952 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:24:11,872 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:24:11,873 - DEBUG - Verifying agent interfaces...
2025-04-08 23:24:11,879 - DEBUG - Agent verification complete
2025-04-08 23:24:11,879 - INFO - All agents initialized successfully
2025-04-08 23:24:27,212 - ERROR - Error in query classification: Got unknown type Y
2025-04-08 23:25:34,289 - INFO - Starting agent initialization...
2025-04-08 23:25:34,290 - DEBUG - Environment variables verified
2025-04-08 23:25:34,291 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:25:47,444 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:25:47,445 - DEBUG - Verifying agent interfaces...
2025-04-08 23:25:47,450 - DEBUG - Agent verification complete
2025-04-08 23:25:47,451 - INFO - All agents initialized successfully
2025-04-08 23:27:00,378 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:41:57,233 - INFO - Starting agent initialization...
2025-04-08 23:41:57,234 - DEBUG - Environment variables verified
2025-04-08 23:41:57,235 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:42:31,725 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:42:31,725 - DEBUG - Verifying agent interfaces...
2025-04-08 23:42:31,741 - DEBUG - Agent verification complete
2025-04-08 23:42:31,742 - INFO - All agents initialized successfully
2025-04-08 23:43:42,984 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:44:16,458 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-08 23:44:43,891 - INFO - Starting agent initialization...
2025-04-08 23:44:43,893 - DEBUG - Environment variables verified
2025-04-08 23:44:43,894 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-08 23:45:07,538 - DEBUG - Agent loading results: [True, True, True]
2025-04-08 23:45:07,538 - DEBUG - Verifying agent interfaces...
2025-04-08 23:45:07,544 - DEBUG - Agent verification complete
2025-04-08 23:45:07,545 - INFO - All agents initialized successfully
2025-04-08 23:45:21,915 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-09 00:02:13,046 - INFO - Starting agent initialization...
2025-04-09 00:02:13,047 - DEBUG - Environment variables verified
2025-04-09 00:02:13,048 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:02:23,363 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:02:23,363 - DEBUG - Verifying agent interfaces...
2025-04-09 00:02:23,369 - DEBUG - Agent verification complete
2025-04-09 00:02:23,369 - INFO - All agents initialized successfully
2025-04-09 00:04:40,896 - INFO - Starting agent initialization...
2025-04-09 00:04:40,897 - DEBUG - Environment variables verified
2025-04-09 00:04:40,897 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:04:50,418 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:04:50,418 - DEBUG - Verifying agent interfaces...
2025-04-09 00:04:50,422 - DEBUG - Agent verification complete
2025-04-09 00:04:50,422 - INFO - All agents initialized successfully
2025-04-09 00:07:46,116 - INFO - Starting agent initialization...
2025-04-09 00:07:46,116 - DEBUG - Environment variables verified
2025-04-09 00:07:46,117 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:07:55,264 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:07:55,264 - DEBUG - Verifying agent interfaces...
2025-04-09 00:07:55,268 - DEBUG - Agent verification complete
2025-04-09 00:07:55,268 - INFO - All agents initialized successfully
2025-04-09 00:18:14,368 - INFO - Starting agent initialization...
2025-04-09 00:18:14,368 - DEBUG - Environment variables verified
2025-04-09 00:18:14,369 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:18:23,806 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:18:23,807 - DEBUG - Verifying agent interfaces...
2025-04-09 00:18:23,810 - DEBUG - Agent verification complete
2025-04-09 00:18:23,811 - INFO - All agents initialized successfully
2025-04-09 00:21:26,969 - INFO - Starting agent initialization...
2025-04-09 00:21:26,970 - DEBUG - Environment variables verified
2025-04-09 00:21:26,971 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:21:36,190 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:21:36,191 - DEBUG - Verifying agent interfaces...
2025-04-09 00:21:36,195 - DEBUG - Agent verification complete
2025-04-09 00:21:36,195 - INFO - All agents initialized successfully
2025-04-09 00:26:14,270 - INFO - Starting agent initialization...
2025-04-09 00:26:14,271 - DEBUG - Environment variables verified
2025-04-09 00:26:14,271 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:26:23,837 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:26:23,837 - DEBUG - Verifying agent interfaces...
2025-04-09 00:26:23,842 - DEBUG - Agent verification complete
2025-04-09 00:26:23,842 - INFO - All agents initialized successfully
2025-04-09 00:29:28,190 - INFO - Starting agent initialization...
2025-04-09 00:29:28,191 - DEBUG - Environment variables verified
2025-04-09 00:29:28,191 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:29:37,460 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:29:37,461 - DEBUG - Verifying agent interfaces...
2025-04-09 00:29:37,464 - DEBUG - Agent verification complete
2025-04-09 00:29:37,465 - INFO - All agents initialized successfully
2025-04-09 00:35:31,802 - INFO - Starting agent initialization...
2025-04-09 00:35:31,803 - DEBUG - Environment variables verified
2025-04-09 00:35:31,803 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 00:35:41,349 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 00:35:41,349 - DEBUG - Verifying agent interfaces...
2025-04-09 00:35:41,354 - DEBUG - Agent verification complete
2025-04-09 00:35:41,354 - INFO - All agents initialized successfully
2025-04-09 05:44:46,271 - INFO - Starting agent initialization...
2025-04-09 05:44:46,272 - DEBUG - Environment variables verified
2025-04-09 05:44:46,273 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 05:45:03,609 - DEBUG - Agent loading results: [True, True, False]
2025-04-09 05:45:03,610 - ERROR - Failed to load agents: ['graph']
2025-04-09 05:45:03,612 - ERROR - Agent loading failure details:
2025-04-09 05:45:03,614 - ERROR - graph loading traceback:
2025-04-09 05:45:03,616 - ERROR - NoneType: None

2025-04-09 05:45:03,617 - ERROR - Critical initialization failure: Failed to load agents: ['graph']
2025-04-09 05:45:03,619 - ERROR - Full initialization traceback:
2025-04-09 05:45:03,623 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-09 05:45:03,627 - ERROR - Critical error: Failed to load agents: ['graph']
2025-04-09 05:45:03,631 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 608, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-09 05:50:03,456 - INFO - Starting agent initialization...
2025-04-09 05:50:03,460 - DEBUG - Environment variables verified
2025-04-09 05:50:03,462 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 05:50:38,693 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 05:50:38,694 - DEBUG - Verifying agent interfaces...
2025-04-09 05:50:38,705 - DEBUG - Agent verification complete
2025-04-09 05:50:38,706 - INFO - All agents initialized successfully
2025-04-09 05:53:45,051 - INFO - Starting agent initialization...
2025-04-09 05:53:45,051 - DEBUG - Environment variables verified
2025-04-09 05:53:45,052 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 05:54:00,788 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 05:54:00,789 - DEBUG - Verifying agent interfaces...
2025-04-09 05:54:00,805 - DEBUG - Agent verification complete
2025-04-09 05:54:00,806 - INFO - All agents initialized successfully
2025-04-09 05:57:17,373 - INFO - Starting agent initialization...
2025-04-09 05:57:17,374 - DEBUG - Environment variables verified
2025-04-09 05:57:17,375 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 05:57:33,241 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 05:57:33,242 - DEBUG - Verifying agent interfaces...
2025-04-09 05:57:33,247 - DEBUG - Agent verification complete
2025-04-09 05:57:33,248 - INFO - All agents initialized successfully
2025-04-09 06:00:35,295 - INFO - Starting agent initialization...
2025-04-09 06:00:35,296 - DEBUG - Environment variables verified
2025-04-09 06:00:35,297 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:00:51,202 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:00:51,202 - DEBUG - Verifying agent interfaces...
2025-04-09 06:00:51,219 - DEBUG - Agent verification complete
2025-04-09 06:00:51,220 - INFO - All agents initialized successfully
2025-04-09 06:02:36,061 - INFO - Starting agent initialization...
2025-04-09 06:02:36,062 - DEBUG - Environment variables verified
2025-04-09 06:02:36,065 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:02:52,752 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:02:52,752 - DEBUG - Verifying agent interfaces...
2025-04-09 06:02:52,758 - DEBUG - Agent verification complete
2025-04-09 06:02:52,758 - INFO - All agents initialized successfully
2025-04-09 06:07:41,512 - INFO - Starting agent initialization...
2025-04-09 06:07:41,513 - DEBUG - Environment variables verified
2025-04-09 06:07:41,514 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:07:55,220 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:07:55,221 - DEBUG - Verifying agent interfaces...
2025-04-09 06:07:55,227 - DEBUG - Agent verification complete
2025-04-09 06:07:55,227 - INFO - All agents initialized successfully
2025-04-09 06:09:03,918 - INFO - Starting agent initialization...
2025-04-09 06:09:03,919 - DEBUG - Environment variables verified
2025-04-09 06:09:03,919 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:09:19,178 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:09:19,179 - DEBUG - Verifying agent interfaces...
2025-04-09 06:09:19,185 - DEBUG - Agent verification complete
2025-04-09 06:09:19,186 - INFO - All agents initialized successfully
2025-04-09 06:10:46,705 - INFO - Starting agent initialization...
2025-04-09 06:10:46,706 - DEBUG - Environment variables verified
2025-04-09 06:10:46,706 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:10:57,064 - DEBUG - Agent loading results: [True, False, True]
2025-04-09 06:10:57,064 - ERROR - Failed to load agents: ['rag']
2025-04-09 06:10:57,065 - ERROR - Agent loading failure details:
2025-04-09 06:10:57,066 - ERROR - rag loading traceback:
2025-04-09 06:10:57,066 - ERROR - NoneType: None

2025-04-09 06:10:57,067 - ERROR - Critical initialization failure: Failed to load agents: ['rag']
2025-04-09 06:10:57,068 - ERROR - Full initialization traceback:
2025-04-09 06:10:57,070 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag']

2025-04-09 06:10:57,072 - ERROR - Critical error: Failed to load agents: ['rag']
2025-04-09 06:10:57,074 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 608, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['rag']

2025-04-09 06:12:01,501 - INFO - Starting agent initialization...
2025-04-09 06:12:01,502 - DEBUG - Environment variables verified
2025-04-09 06:12:01,503 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:12:15,995 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:12:15,996 - DEBUG - Verifying agent interfaces...
2025-04-09 06:12:16,001 - DEBUG - Agent verification complete
2025-04-09 06:12:16,002 - INFO - All agents initialized successfully
2025-04-09 06:14:04,356 - INFO - Starting agent initialization...
2025-04-09 06:14:04,357 - DEBUG - Environment variables verified
2025-04-09 06:14:04,358 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:14:20,314 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:14:20,315 - DEBUG - Verifying agent interfaces...
2025-04-09 06:14:20,322 - DEBUG - Agent verification complete
2025-04-09 06:14:20,322 - INFO - All agents initialized successfully
2025-04-09 06:25:42,164 - INFO - Starting agent initialization...
2025-04-09 06:25:42,165 - DEBUG - Environment variables verified
2025-04-09 06:25:42,166 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:25:58,364 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:25:58,365 - DEBUG - Verifying agent interfaces...
2025-04-09 06:25:58,373 - DEBUG - Agent verification complete
2025-04-09 06:25:58,375 - INFO - All agents initialized successfully
2025-04-09 06:30:02,968 - INFO - Starting agent initialization...
2025-04-09 06:30:02,969 - DEBUG - Environment variables verified
2025-04-09 06:30:02,970 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:30:17,744 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:30:17,745 - DEBUG - Verifying agent interfaces...
2025-04-09 06:30:17,752 - DEBUG - Agent verification complete
2025-04-09 06:30:17,753 - INFO - All agents initialized successfully
2025-04-09 06:32:33,060 - INFO - Starting agent initialization...
2025-04-09 06:32:33,061 - DEBUG - Environment variables verified
2025-04-09 06:32:33,061 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:32:48,392 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:32:48,393 - DEBUG - Verifying agent interfaces...
2025-04-09 06:32:48,402 - DEBUG - Agent verification complete
2025-04-09 06:32:48,403 - INFO - All agents initialized successfully
2025-04-09 06:50:55,097 - INFO - Starting agent initialization...
2025-04-09 06:50:55,098 - DEBUG - Environment variables verified
2025-04-09 06:50:55,098 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:51:11,346 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:51:11,347 - DEBUG - Verifying agent interfaces...
2025-04-09 06:51:11,354 - DEBUG - Agent verification complete
2025-04-09 06:51:11,355 - INFO - All agents initialized successfully
2025-04-09 06:53:03,172 - INFO - Starting agent initialization...
2025-04-09 06:53:03,173 - DEBUG - Environment variables verified
2025-04-09 06:53:03,174 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:53:18,291 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:53:18,292 - DEBUG - Verifying agent interfaces...
2025-04-09 06:53:18,299 - DEBUG - Agent verification complete
2025-04-09 06:53:18,300 - INFO - All agents initialized successfully
2025-04-09 06:54:44,024 - INFO - Starting agent initialization...
2025-04-09 06:54:44,025 - DEBUG - Environment variables verified
2025-04-09 06:54:44,026 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:55:00,090 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:55:00,091 - DEBUG - Verifying agent interfaces...
2025-04-09 06:55:00,099 - DEBUG - Agent verification complete
2025-04-09 06:55:00,100 - INFO - All agents initialized successfully
2025-04-09 06:57:02,310 - INFO - Starting agent initialization...
2025-04-09 06:57:02,311 - DEBUG - Environment variables verified
2025-04-09 06:57:02,312 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 06:57:18,686 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 06:57:18,687 - DEBUG - Verifying agent interfaces...
2025-04-09 06:57:18,694 - DEBUG - Agent verification complete
2025-04-09 06:57:18,695 - INFO - All agents initialized successfully
2025-04-09 08:30:05,330 - INFO - Starting agent initialization...
2025-04-09 08:30:05,331 - DEBUG - Environment variables verified
2025-04-09 08:30:05,332 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 08:30:25,486 - DEBUG - Agent loading results: [True, True, False]
2025-04-09 08:30:25,489 - ERROR - Failed to load agents: ['graph']
2025-04-09 08:30:25,492 - ERROR - Agent loading failure details:
2025-04-09 08:30:25,494 - ERROR - graph loading traceback:
2025-04-09 08:30:25,497 - ERROR - NoneType: None

2025-04-09 08:30:25,500 - ERROR - Critical initialization failure: Failed to load agents: ['graph']
2025-04-09 08:30:25,504 - ERROR - Full initialization traceback:
2025-04-09 08:30:25,509 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-09 08:30:25,518 - ERROR - Critical error: Failed to load agents: ['graph']
2025-04-09 08:30:25,523 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 608, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-09 08:37:30,265 - INFO - Starting agent initialization...
2025-04-09 08:37:30,266 - DEBUG - Environment variables verified
2025-04-09 08:37:30,266 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 08:37:59,680 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 08:37:59,682 - DEBUG - Verifying agent interfaces...
2025-04-09 08:37:59,694 - DEBUG - Agent verification complete
2025-04-09 08:37:59,695 - INFO - All agents initialized successfully
2025-04-09 08:43:59,139 - INFO - Starting agent initialization...
2025-04-09 08:43:59,140 - DEBUG - Environment variables verified
2025-04-09 08:43:59,141 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 08:44:16,251 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 08:44:16,252 - DEBUG - Verifying agent interfaces...
2025-04-09 08:44:16,270 - DEBUG - Agent verification complete
2025-04-09 08:44:16,272 - INFO - All agents initialized successfully
2025-04-09 08:47:06,375 - INFO - Starting agent initialization...
2025-04-09 08:47:06,376 - DEBUG - Environment variables verified
2025-04-09 08:47:06,376 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 08:47:22,324 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 08:47:22,325 - DEBUG - Verifying agent interfaces...
2025-04-09 08:47:22,332 - DEBUG - Agent verification complete
2025-04-09 08:47:22,333 - INFO - All agents initialized successfully
2025-04-09 08:59:02,533 - INFO - Starting agent initialization...
2025-04-09 08:59:02,534 - DEBUG - Environment variables verified
2025-04-09 08:59:02,535 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 08:59:21,903 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 08:59:21,904 - DEBUG - Verifying agent interfaces...
2025-04-09 08:59:21,924 - DEBUG - Agent verification complete
2025-04-09 08:59:21,926 - INFO - All agents initialized successfully
2025-04-09 09:02:19,838 - INFO - Starting agent initialization...
2025-04-09 09:02:19,839 - DEBUG - Environment variables verified
2025-04-09 09:02:19,840 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:02:33,291 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:02:33,292 - DEBUG - Verifying agent interfaces...
2025-04-09 09:02:33,302 - DEBUG - Agent verification complete
2025-04-09 09:02:33,304 - INFO - All agents initialized successfully
2025-04-09 09:04:35,895 - INFO - Starting agent initialization...
2025-04-09 09:04:35,896 - DEBUG - Environment variables verified
2025-04-09 09:04:35,896 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:04:51,688 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:04:51,689 - DEBUG - Verifying agent interfaces...
2025-04-09 09:04:51,696 - DEBUG - Agent verification complete
2025-04-09 09:04:51,698 - INFO - All agents initialized successfully
2025-04-09 09:06:08,574 - INFO - Starting agent initialization...
2025-04-09 09:06:08,575 - DEBUG - Environment variables verified
2025-04-09 09:06:08,576 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:06:24,235 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:06:24,236 - DEBUG - Verifying agent interfaces...
2025-04-09 09:06:24,242 - DEBUG - Agent verification complete
2025-04-09 09:06:24,243 - INFO - All agents initialized successfully
2025-04-09 09:08:02,244 - INFO - Starting agent initialization...
2025-04-09 09:08:02,244 - DEBUG - Environment variables verified
2025-04-09 09:08:02,245 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:08:18,727 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:08:18,728 - DEBUG - Verifying agent interfaces...
2025-04-09 09:08:18,736 - DEBUG - Agent verification complete
2025-04-09 09:08:18,737 - INFO - All agents initialized successfully
2025-04-09 09:11:35,697 - INFO - Starting agent initialization...
2025-04-09 09:11:35,698 - DEBUG - Environment variables verified
2025-04-09 09:11:35,698 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:11:51,497 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:11:51,498 - DEBUG - Verifying agent interfaces...
2025-04-09 09:11:51,506 - DEBUG - Agent verification complete
2025-04-09 09:11:51,507 - INFO - All agents initialized successfully
2025-04-09 09:14:39,080 - INFO - Starting agent initialization...
2025-04-09 09:14:39,081 - DEBUG - Environment variables verified
2025-04-09 09:14:39,082 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:14:54,579 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:14:54,580 - DEBUG - Verifying agent interfaces...
2025-04-09 09:14:54,588 - DEBUG - Agent verification complete
2025-04-09 09:14:54,589 - INFO - All agents initialized successfully
2025-04-09 09:19:47,936 - INFO - Starting agent initialization...
2025-04-09 09:19:47,937 - DEBUG - Environment variables verified
2025-04-09 09:19:47,937 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:20:08,892 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:20:08,893 - DEBUG - Verifying agent interfaces...
2025-04-09 09:20:08,913 - DEBUG - Agent verification complete
2025-04-09 09:20:08,915 - INFO - All agents initialized successfully
2025-04-09 09:21:04,252 - INFO - Starting agent initialization...
2025-04-09 09:21:04,253 - DEBUG - Environment variables verified
2025-04-09 09:21:04,254 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:21:19,100 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:21:19,101 - DEBUG - Verifying agent interfaces...
2025-04-09 09:21:19,108 - DEBUG - Agent verification complete
2025-04-09 09:21:19,109 - INFO - All agents initialized successfully
2025-04-09 09:27:05,090 - INFO - Starting agent initialization...
2025-04-09 09:27:05,091 - DEBUG - Environment variables verified
2025-04-09 09:27:05,091 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:27:21,577 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:27:21,578 - DEBUG - Verifying agent interfaces...
2025-04-09 09:27:21,586 - DEBUG - Agent verification complete
2025-04-09 09:27:21,587 - INFO - All agents initialized successfully
2025-04-09 09:32:35,298 - INFO - Starting agent initialization...
2025-04-09 09:32:35,299 - DEBUG - Environment variables verified
2025-04-09 09:32:35,300 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:32:51,256 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:32:51,257 - DEBUG - Verifying agent interfaces...
2025-04-09 09:32:51,265 - DEBUG - Agent verification complete
2025-04-09 09:32:51,266 - INFO - All agents initialized successfully
2025-04-09 09:33:53,029 - INFO - Starting agent initialization...
2025-04-09 09:33:53,030 - DEBUG - Environment variables verified
2025-04-09 09:33:53,031 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:34:07,919 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:34:07,920 - DEBUG - Verifying agent interfaces...
2025-04-09 09:34:07,926 - DEBUG - Agent verification complete
2025-04-09 09:34:07,927 - INFO - All agents initialized successfully
2025-04-09 09:35:59,254 - INFO - Starting agent initialization...
2025-04-09 09:35:59,254 - DEBUG - Environment variables verified
2025-04-09 09:35:59,255 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:36:14,836 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:36:14,837 - DEBUG - Verifying agent interfaces...
2025-04-09 09:36:14,843 - DEBUG - Agent verification complete
2025-04-09 09:36:14,844 - INFO - All agents initialized successfully
2025-04-09 09:40:57,549 - INFO - Starting agent initialization...
2025-04-09 09:40:57,550 - DEBUG - Environment variables verified
2025-04-09 09:40:57,551 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:41:13,116 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:41:13,117 - DEBUG - Verifying agent interfaces...
2025-04-09 09:41:13,125 - DEBUG - Agent verification complete
2025-04-09 09:41:13,127 - INFO - All agents initialized successfully
2025-04-09 09:42:09,841 - INFO - Starting agent initialization...
2025-04-09 09:42:09,842 - DEBUG - Environment variables verified
2025-04-09 09:42:09,843 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:42:25,137 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:42:25,138 - DEBUG - Verifying agent interfaces...
2025-04-09 09:42:25,146 - DEBUG - Agent verification complete
2025-04-09 09:42:25,148 - INFO - All agents initialized successfully
2025-04-09 09:45:28,519 - INFO - Starting agent initialization...
2025-04-09 09:45:28,520 - DEBUG - Environment variables verified
2025-04-09 09:45:28,521 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:45:43,660 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:45:43,662 - DEBUG - Verifying agent interfaces...
2025-04-09 09:45:43,670 - DEBUG - Agent verification complete
2025-04-09 09:45:43,675 - INFO - All agents initialized successfully
2025-04-09 09:48:13,415 - INFO - Starting agent initialization...
2025-04-09 09:48:13,416 - DEBUG - Environment variables verified
2025-04-09 09:48:13,417 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:48:29,305 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:48:29,306 - DEBUG - Verifying agent interfaces...
2025-04-09 09:48:29,313 - DEBUG - Agent verification complete
2025-04-09 09:48:29,315 - INFO - All agents initialized successfully
2025-04-09 09:51:08,275 - INFO - Starting agent initialization...
2025-04-09 09:51:08,277 - DEBUG - Environment variables verified
2025-04-09 09:51:08,277 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 09:51:22,903 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 09:51:22,904 - DEBUG - Verifying agent interfaces...
2025-04-09 09:51:22,909 - DEBUG - Agent verification complete
2025-04-09 09:51:22,911 - INFO - All agents initialized successfully
2025-04-09 10:01:12,609 - INFO - Starting agent initialization...
2025-04-09 10:01:12,610 - DEBUG - Environment variables verified
2025-04-09 10:01:12,610 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:01:22,675 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:01:22,676 - DEBUG - Verifying agent interfaces...
2025-04-09 10:01:22,680 - DEBUG - Agent verification complete
2025-04-09 10:01:22,680 - INFO - All agents initialized successfully
2025-04-09 10:02:59,258 - INFO - Starting agent initialization...
2025-04-09 10:02:59,258 - DEBUG - Environment variables verified
2025-04-09 10:02:59,259 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:03:09,569 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:03:09,570 - DEBUG - Verifying agent interfaces...
2025-04-09 10:03:09,575 - DEBUG - Agent verification complete
2025-04-09 10:03:09,576 - INFO - All agents initialized successfully
2025-04-09 10:06:36,418 - INFO - Starting agent initialization...
2025-04-09 10:06:36,419 - DEBUG - Environment variables verified
2025-04-09 10:06:36,420 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:06:46,757 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:06:46,757 - DEBUG - Verifying agent interfaces...
2025-04-09 10:06:46,761 - DEBUG - Agent verification complete
2025-04-09 10:06:46,762 - INFO - All agents initialized successfully
2025-04-09 10:09:44,476 - INFO - Starting agent initialization...
2025-04-09 10:09:44,477 - DEBUG - Environment variables verified
2025-04-09 10:09:44,477 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:09:57,458 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:09:57,459 - DEBUG - Verifying agent interfaces...
2025-04-09 10:09:57,465 - DEBUG - Agent verification complete
2025-04-09 10:09:57,466 - INFO - All agents initialized successfully
2025-04-09 10:11:28,280 - INFO - Starting agent initialization...
2025-04-09 10:11:28,281 - DEBUG - Environment variables verified
2025-04-09 10:11:28,281 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:11:41,242 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:11:41,243 - DEBUG - Verifying agent interfaces...
2025-04-09 10:11:41,249 - DEBUG - Agent verification complete
2025-04-09 10:11:41,249 - INFO - All agents initialized successfully
2025-04-09 10:12:17,351 - INFO - Starting agent initialization...
2025-04-09 10:12:17,351 - DEBUG - Environment variables verified
2025-04-09 10:12:17,352 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:12:28,453 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:12:28,454 - DEBUG - Verifying agent interfaces...
2025-04-09 10:12:28,458 - DEBUG - Agent verification complete
2025-04-09 10:12:28,459 - INFO - All agents initialized successfully
2025-04-09 10:13:57,821 - INFO - Starting agent initialization...
2025-04-09 10:13:57,822 - DEBUG - Environment variables verified
2025-04-09 10:13:57,822 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:14:07,402 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:14:07,403 - DEBUG - Verifying agent interfaces...
2025-04-09 10:14:07,409 - DEBUG - Agent verification complete
2025-04-09 10:14:07,410 - INFO - All agents initialized successfully
2025-04-09 10:15:46,254 - INFO - Starting agent initialization...
2025-04-09 10:15:46,255 - DEBUG - Environment variables verified
2025-04-09 10:15:46,255 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:15:55,792 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:15:55,793 - DEBUG - Verifying agent interfaces...
2025-04-09 10:15:55,797 - DEBUG - Agent verification complete
2025-04-09 10:15:55,798 - INFO - All agents initialized successfully
2025-04-09 10:29:29,133 - INFO - Starting agent initialization...
2025-04-09 10:29:29,134 - DEBUG - Environment variables verified
2025-04-09 10:29:29,134 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-09 10:29:39,721 - DEBUG - Agent loading results: [True, True, True]
2025-04-09 10:29:39,721 - DEBUG - Verifying agent interfaces...
2025-04-09 10:29:39,727 - DEBUG - Agent verification complete
2025-04-09 10:29:39,728 - INFO - All agents initialized successfully
2025-04-10 11:46:24,728 - INFO - Starting agent initialization...
2025-04-10 11:46:24,729 - DEBUG - Environment variables verified
2025-04-10 11:46:24,730 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-10 11:46:52,055 - DEBUG - Agent loading results: [True, True, False]
2025-04-10 11:46:52,058 - ERROR - Failed to load agents: ['graph']
2025-04-10 11:46:52,061 - ERROR - Agent loading failure details:
2025-04-10 11:46:52,064 - ERROR - graph loading traceback:
2025-04-10 11:46:52,065 - ERROR - NoneType: None

2025-04-10 11:46:52,068 - ERROR - Critical initialization failure: Failed to load agents: ['graph']
2025-04-10 11:46:52,069 - ERROR - Full initialization traceback:
2025-04-10 11:46:52,072 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-10 11:46:52,077 - ERROR - Critical error: Failed to load agents: ['graph']
2025-04-10 11:46:52,085 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 608, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-10 11:48:55,113 - INFO - Starting agent initialization...
2025-04-10 11:48:55,114 - DEBUG - Environment variables verified
2025-04-10 11:48:55,115 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-10 11:49:28,463 - DEBUG - Agent loading results: [False, True, False]
2025-04-10 11:49:28,464 - ERROR - Failed to load agents: ['sql', 'graph']
2025-04-10 11:49:28,467 - ERROR - Agent loading failure details:
2025-04-10 11:49:28,469 - ERROR - sql loading traceback:
2025-04-10 11:49:28,472 - ERROR - NoneType: None

2025-04-10 11:49:28,474 - ERROR - graph loading traceback:
2025-04-10 11:49:28,476 - ERROR - NoneType: None

2025-04-10 11:49:28,478 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'graph']
2025-04-10 11:49:28,479 - ERROR - Full initialization traceback:
2025-04-10 11:49:28,486 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'graph']

2025-04-10 11:49:28,490 - ERROR - Critical error: Failed to load agents: ['sql', 'graph']
2025-04-10 11:49:28,494 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 608, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'graph']

2025-04-10 11:50:07,979 - INFO - Starting agent initialization...
2025-04-10 11:50:07,980 - DEBUG - Environment variables verified
2025-04-10 11:50:07,981 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-10 11:50:31,175 - DEBUG - Agent loading results: [True, True, True]
2025-04-10 11:50:31,176 - DEBUG - Verifying agent interfaces...
2025-04-10 11:50:31,192 - DEBUG - Agent verification complete
2025-04-10 11:50:31,193 - INFO - All agents initialized successfully
2025-04-10 11:53:34,925 - ERROR - Error in query classification: Expecting value: line 1 column 1 (char 0)
2025-04-16 19:40:01,819 - INFO - Starting agent initialization...
2025-04-16 19:40:01,820 - DEBUG - Environment variables verified
2025-04-16 19:40:01,820 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:40:32,896 - DEBUG - Agent loading results: [True, True, False]
2025-04-16 19:40:32,897 - ERROR - Failed to load agents: ['graph']
2025-04-16 19:40:32,898 - ERROR - Agent loading failure details:
2025-04-16 19:40:32,899 - ERROR - graph loading traceback:
2025-04-16 19:40:32,900 - ERROR - NoneType: None

2025-04-16 19:40:32,901 - ERROR - Critical initialization failure: Failed to load agents: ['graph']
2025-04-16 19:40:32,902 - ERROR - Full initialization traceback:
2025-04-16 19:40:32,903 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-16 19:40:32,907 - ERROR - Critical error: Failed to load agents: ['graph']
2025-04-16 19:40:32,909 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 604, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['graph']

2025-04-16 19:43:11,958 - INFO - Starting agent initialization...
2025-04-16 19:43:11,959 - DEBUG - Environment variables verified
2025-04-16 19:43:11,959 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:43:29,613 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 19:43:29,614 - DEBUG - Verifying agent interfaces...
2025-04-16 19:43:29,620 - DEBUG - Agent verification complete
2025-04-16 19:43:29,621 - INFO - All agents initialized successfully
2025-04-16 19:44:38,071 - INFO - Routing query to SQL agent: I want to book an appointment
2025-04-16 19:44:38,072 - DEBUG - Session ID: sess_20250416194438_09173d46
2025-04-16 19:44:38,074 - DEBUG - Getting context for agent: sql
2025-04-16 19:44:38,075 - INFO - Calling SQL agent handler
2025-04-16 19:44:38,076 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416194438_09173d46', 'department': 'SQL', 'timestamp': '2025-04-16T19:44:38.075359'}}
2025-04-16 19:44:38,091 - INFO - Received response from SQL agent
2025-04-16 19:44:38,092 - DEBUG - Agent response: {'response': "Appointment system error: name 'query' is not defined. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-16 19:46:56,828 - INFO - Starting agent initialization...
2025-04-16 19:46:56,829 - DEBUG - Environment variables verified
2025-04-16 19:46:56,829 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:47:07,748 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 19:47:07,749 - DEBUG - Verifying agent interfaces...
2025-04-16 19:47:07,754 - DEBUG - Agent verification complete
2025-04-16 19:47:07,755 - INFO - All agents initialized successfully
2025-04-16 19:47:22,737 - INFO - Routing query to SQL agent: I want to book an appointment
2025-04-16 19:47:22,738 - DEBUG - Session ID: sess_20250416194722_09173d46
2025-04-16 19:47:22,739 - DEBUG - Getting context for agent: sql
2025-04-16 19:47:22,741 - INFO - Calling SQL agent handler
2025-04-16 19:47:22,742 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416194722_09173d46', 'department': 'SQL', 'timestamp': '2025-04-16T19:47:22.741130'}}
2025-04-16 19:47:22,759 - INFO - Received response from SQL agent
2025-04-16 19:47:22,761 - DEBUG - Agent response: {'response': "Appointment system error: name 'query' is not defined. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-16 19:48:51,932 - INFO - Starting agent initialization...
2025-04-16 19:48:51,933 - DEBUG - Environment variables verified
2025-04-16 19:48:51,933 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:49:01,473 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 19:49:01,474 - DEBUG - Verifying agent interfaces...
2025-04-16 19:49:01,478 - DEBUG - Agent verification complete
2025-04-16 19:49:01,479 - INFO - All agents initialized successfully
2025-04-16 19:49:09,945 - INFO - Routing query to SQL agent: I want to book an appointment
2025-04-16 19:49:09,947 - DEBUG - Session ID: sess_20250416194909_09173d46
2025-04-16 19:49:09,948 - DEBUG - Getting context for agent: sql
2025-04-16 19:49:09,950 - INFO - Calling SQL agent handler
2025-04-16 19:49:09,951 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416194909_09173d46', 'department': 'SQL', 'timestamp': '2025-04-16T19:49:09.949983'}}
2025-04-16 19:49:09,968 - INFO - Received response from SQL agent
2025-04-16 19:49:09,969 - DEBUG - Agent response: {'response': "Appointment system error: cannot access local variable 'query_text' where it is not associated with a value. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-16 19:50:16,482 - INFO - Starting agent initialization...
2025-04-16 19:50:16,483 - DEBUG - Environment variables verified
2025-04-16 19:50:16,484 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:50:25,870 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 19:50:25,871 - DEBUG - Verifying agent interfaces...
2025-04-16 19:50:25,875 - DEBUG - Agent verification complete
2025-04-16 19:50:25,876 - INFO - All agents initialized successfully
2025-04-16 19:50:35,858 - INFO - Routing query to GRAPH agent: symptoms of gout
2025-04-16 19:50:35,860 - DEBUG - Session ID: sess_20250416195035_79144ace
2025-04-16 19:50:35,862 - DEBUG - Getting context for agent: graph
2025-04-16 19:50:35,863 - INFO - Calling GRAPH agent handler
2025-04-16 19:50:35,865 - DEBUG - Query data: {'text': 'symptoms of gout', 'context': {'session_id': 'sess_20250416195035_79144ace', 'department': 'GRAPH', 'timestamp': '2025-04-16T19:50:35.863407'}}
2025-04-16 19:50:39,045 - INFO - Received response from GRAPH agent
2025-04-16 19:50:39,047 - DEBUG - Agent response: {'response': "I understand you're experiencing some concerning symptoms.  It sounds like you might be dealing with gout.  Gout is a type of arthritis that causes sudden, intense pain, swelling, and redness in the joints, often starting in the big toe.  \n\nIt's important to remember that I'm not a doctor and can't diagnose you.  However, based on what you've described, it's definitely worth talking to a medical professional as soon as possible. They can properly assess your symptoms, run some tests if needed, and recommend the best course of treatment for you. \n\nIn the meantime, try to rest the affected joint and avoid putting weight on it if possible. Applying a cold compress can also help reduce the pain and swelling.  \n\nPlease don't hesitate to reach out to Osaka University Hospital or your primary care physician to schedule an appointment. We're here to help you feel better. \n\n\n\n", 'context_updates': {'last_interaction': '2025-04-16T19:50:39.045149', 'chat_history': [{'query': 'symptoms of gout', 'response': "I understand you're experiencing some concerning symptoms.  It sounds like you might be dealing with gout.  Gout is a type of arthritis that causes sudden, intense pain, swelling, and redness in the joints, often starting in the big toe.  \n\nIt's important to remember that I'm not a doctor and can't diagnose you.  However, based on what you've described, it's definitely worth talking to a medical professional as soon as possible. They can properly assess your symptoms, run some tests if needed, and recommend the best course of treatment for you. \n\nIn the meantime, try to rest the affected joint and avoid putting weight on it if possible. Applying a cold compress can also help reduce the pain and swelling.  \n\nPlease don't hesitate to reach out to Osaka University Hospital or your primary care physician to schedule an appointment. We're here to help you feel better. \n\n\n\n", 'timestamp': '2025-04-16T19:50:39.045170'}]}, 'suggested_next': None}
2025-04-16 19:52:32,214 - INFO - Starting agent initialization...
2025-04-16 19:52:32,215 - DEBUG - Environment variables verified
2025-04-16 19:52:32,215 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 19:52:42,929 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 19:52:42,929 - DEBUG - Verifying agent interfaces...
2025-04-16 19:52:42,933 - DEBUG - Agent verification complete
2025-04-16 19:52:42,934 - INFO - All agents initialized successfully
2025-04-16 19:53:03,811 - INFO - Routing query to RAG agent: What are the visiting hours of your hospital
2025-04-16 19:53:03,813 - DEBUG - Session ID: sess_20250416195303_258dab27
2025-04-16 19:53:03,814 - DEBUG - Getting context for agent: rag
2025-04-16 19:53:03,816 - INFO - Calling RAG agent handler
2025-04-16 19:53:03,817 - DEBUG - Query data: {'text': 'What are the visiting hours of your hospital', 'context': {'session_id': 'sess_20250416195303_258dab27', 'department': 'RAG', 'timestamp': '2025-04-16T19:53:03.815974'}}
2025-04-16 19:53:09,590 - INFO - Received response from RAG agent
2025-04-16 19:53:09,590 - DEBUG - Agent response: {'response': 'I encountered an error processing your request. Please try again.', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 20:22:18,492 - INFO - Starting agent initialization...
2025-04-16 20:22:18,492 - DEBUG - Environment variables verified
2025-04-16 20:22:18,493 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 20:22:29,747 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 20:22:29,748 - DEBUG - Verifying agent interfaces...
2025-04-16 20:22:29,751 - DEBUG - Agent verification complete
2025-04-16 20:22:29,752 - INFO - All agents initialized successfully
2025-04-16 20:22:47,366 - INFO - Routing query to RAG agent: What are the visiting hours of your hospital
2025-04-16 20:22:47,367 - DEBUG - Session ID: sess_20250416202247_258dab27
2025-04-16 20:22:47,368 - DEBUG - Getting context for agent: rag
2025-04-16 20:22:47,369 - INFO - Calling RAG agent handler
2025-04-16 20:22:47,369 - DEBUG - Query data: {'text': 'What are the visiting hours of your hospital', 'context': {'session_id': 'sess_20250416202247_258dab27', 'department': 'RAG', 'timestamp': '2025-04-16T20:22:47.369062'}}
2025-04-16 20:22:53,318 - INFO - Received response from RAG agent
2025-04-16 20:22:53,318 - DEBUG - Agent response: {'response': 'I encountered an error processing your request. Please try again.', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 20:30:42,843 - INFO - Starting agent initialization...
2025-04-16 20:30:42,844 - DEBUG - Environment variables verified
2025-04-16 20:30:42,844 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 20:31:02,689 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 20:31:02,690 - DEBUG - Verifying agent interfaces...
2025-04-16 20:31:02,696 - DEBUG - Agent verification complete
2025-04-16 20:31:02,697 - INFO - All agents initialized successfully
2025-04-16 20:32:12,773 - INFO - Routing query to RAG agent: What are the visiting hours of your hospital
2025-04-16 20:32:12,775 - DEBUG - Session ID: sess_20250416203212_258dab27
2025-04-16 20:32:12,776 - DEBUG - Getting context for agent: RAG
2025-04-16 20:32:12,777 - ERROR - Error in route_to_agent: 'ContextManager' object has no attribute 'get_agent_context'
2025-04-16 20:32:12,784 - ERROR - Route error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 430, in route_to_agent
    context = self.context_manager.get_agent_context(department)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ContextManager' object has no attribute 'get_agent_context'

2025-04-16 20:33:13,918 - INFO - Starting agent initialization...
2025-04-16 20:33:13,919 - DEBUG - Environment variables verified
2025-04-16 20:33:13,920 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 20:33:43,844 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 20:33:43,846 - DEBUG - Verifying agent interfaces...
2025-04-16 20:33:43,858 - DEBUG - Agent verification complete
2025-04-16 20:33:43,860 - INFO - All agents initialized successfully
2025-04-16 20:33:57,307 - INFO - Routing query to RAG agent: What are the visiting hours of your hospital
2025-04-16 20:33:57,309 - DEBUG - Session ID: sess_20250416203357_258dab27
2025-04-16 20:33:57,311 - DEBUG - Getting context for agent: RAG
2025-04-16 20:33:57,313 - ERROR - Error in route_to_agent: 'RAG'
2025-04-16 20:33:57,319 - ERROR - Route error traceback: Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 430, in route_to_agent
    context = self.context_manager.get_context(department)
  File "D:\FYP\server\context\context_manager.py", line 60, in get_context
    **self._agent_states[agent_id]  # Agent-specific context
      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
KeyError: 'RAG'

2025-04-16 20:35:45,907 - INFO - Starting agent initialization...
2025-04-16 20:35:45,908 - DEBUG - Environment variables verified
2025-04-16 20:35:45,909 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 20:36:06,787 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 20:36:06,788 - DEBUG - Verifying agent interfaces...
2025-04-16 20:36:06,797 - DEBUG - Agent verification complete
2025-04-16 20:36:06,798 - INFO - All agents initialized successfully
2025-04-16 20:36:23,043 - INFO - Routing query to RAG agent: What are the visiting hours of your hospital
2025-04-16 20:36:23,045 - DEBUG - Session ID: sess_20250416203623_258dab27
2025-04-16 20:36:23,047 - DEBUG - Getting context for agent: RAG
2025-04-16 20:36:23,048 - INFO - Calling RAG agent handler
2025-04-16 20:36:23,050 - DEBUG - Query data: {'text': 'What are the visiting hours of your hospital', 'context': {'session_id': 'sess_20250416203623_258dab27', 'department': 'RAG', 'timestamp': '2025-04-16T20:36:23.048549'}}
2025-04-16 20:37:15,601 - INFO - Received response from RAG agent
2025-04-16 20:37:15,603 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about visiting hours in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T20:37:15.598901', 'chat_history': [{'query': 'What are the visiting hours of your hospital', 'response': "I can help with that!\n\nI couldn't find specific information about visiting hours in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T20:37:15.598921'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 20:40:24,355 - INFO - Starting agent initialization...
2025-04-16 20:40:24,356 - DEBUG - Environment variables verified
2025-04-16 20:40:24,357 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 20:40:34,410 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 20:40:34,411 - DEBUG - Verifying agent interfaces...
2025-04-16 20:40:34,415 - DEBUG - Agent verification complete
2025-04-16 20:40:34,415 - INFO - All agents initialized successfully
2025-04-16 20:42:56,439 - INFO - Routing query to GRAPH agent: What are the symptoms of gout
2025-04-16 20:42:56,440 - DEBUG - Session ID: sess_20250416204256_8352ee44
2025-04-16 20:42:56,442 - DEBUG - Getting context for agent: GRAPH
2025-04-16 20:42:56,443 - INFO - Calling GRAPH agent handler
2025-04-16 20:42:56,444 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416204256_8352ee44', 'department': 'GRAPH', 'timestamp': '2025-04-16T20:42:56.443154'}}
2025-04-16 20:42:59,645 - INFO - Received response from GRAPH agent
2025-04-16 20:42:59,648 - DEBUG - Agent response: {'response': "Gout can cause some really painful symptoms.  \n\nYou might experience a sharp, intense pain in your joints, especially in your big toe. The joint might also feel swollen and look red. \n\nIt can be very uncomfortable, and it's important to seek medical attention if you think you might have gout.  \n\n", 'context_updates': {'last_interaction': '2025-04-16T20:42:59.645602', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "Gout can cause some really painful symptoms.  \n\nYou might experience a sharp, intense pain in your joints, especially in your big toe. The joint might also feel swollen and look red. \n\nIt can be very uncomfortable, and it's important to seek medical attention if you think you might have gout.  \n\n", 'timestamp': '2025-04-16T20:42:59.645629'}]}, 'suggested_next': None}
2025-04-16 20:45:32,548 - INFO - Routing query to GRAPH agent: What are the visiting hours for outpatients
2025-04-16 20:45:32,550 - DEBUG - Session ID: None
2025-04-16 20:45:32,550 - DEBUG - Getting context for agent: GRAPH
2025-04-16 20:45:32,552 - INFO - Calling GRAPH agent handler
2025-04-16 20:45:32,552 - DEBUG - Query data: {'text': 'What are the visiting hours for outpatients', 'context': {'session_id': 'sess_20250416204532_c48a1dde', 'department': 'GRAPH', 'timestamp': '2025-04-16T20:45:32.552048'}}
2025-04-16 20:45:34,333 - INFO - Received response from GRAPH agent
2025-04-16 20:45:34,334 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 20:45:54,273 - INFO - Routing query to GRAPH agent: what are the visiting hours of ypur hospiptal
2025-04-16 20:45:54,275 - DEBUG - Session ID: None
2025-04-16 20:45:54,276 - DEBUG - Getting context for agent: GRAPH
2025-04-16 20:45:54,277 - INFO - Calling GRAPH agent handler
2025-04-16 20:45:54,277 - DEBUG - Query data: {'text': 'what are the visiting hours of ypur hospiptal', 'context': {'session_id': 'sess_20250416204554_f009e08c', 'department': 'GRAPH', 'timestamp': '2025-04-16T20:45:54.277008'}}
2025-04-16 20:45:55,386 - INFO - Received response from GRAPH agent
2025-04-16 20:45:55,387 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 20:46:07,548 - INFO - Routing query to GRAPH agent: I want to book an appointment
2025-04-16 20:46:07,549 - DEBUG - Session ID: None
2025-04-16 20:46:07,550 - DEBUG - Getting context for agent: GRAPH
2025-04-16 20:46:07,552 - INFO - Calling GRAPH agent handler
2025-04-16 20:46:07,553 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416204607_09173d46', 'department': 'GRAPH', 'timestamp': '2025-04-16T20:46:07.552044'}}
2025-04-16 20:46:08,667 - INFO - Received response from GRAPH agent
2025-04-16 20:46:08,668 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:10:23,651 - INFO - Starting agent initialization...
2025-04-16 21:10:23,652 - DEBUG - Environment variables verified
2025-04-16 21:10:23,653 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:10:34,745 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:10:34,746 - DEBUG - Verifying agent interfaces...
2025-04-16 21:10:34,754 - DEBUG - Agent verification complete
2025-04-16 21:10:34,755 - INFO - All agents initialized successfully
2025-04-16 21:10:53,837 - INFO - Routing query to RAG agent: What are the visiting hours for outpatients
2025-04-16 21:10:53,838 - DEBUG - Session ID: sess_20250416211053_c48a1dde
2025-04-16 21:10:53,840 - DEBUG - Getting context for agent: RAG
2025-04-16 21:10:53,841 - INFO - Calling RAG agent handler
2025-04-16 21:10:53,842 - DEBUG - Query data: {'text': 'What are the visiting hours for outpatients', 'context': {'session_id': 'sess_20250416211053_c48a1dde', 'department': 'RAG', 'timestamp': '2025-04-16T21:10:53.841404'}}
2025-04-16 21:11:04,564 - INFO - Received response from RAG agent
2025-04-16 21:11:04,565 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:11:04.563051', 'chat_history': [{'query': 'What are the visiting hours for outpatients', 'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:11:04.563059'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:11:16,448 - INFO - Routing query to RAG agent: What are the symptoms of gout
2025-04-16 21:11:16,450 - DEBUG - Session ID: None
2025-04-16 21:11:16,451 - DEBUG - Getting context for agent: RAG
2025-04-16 21:11:16,452 - INFO - Calling RAG agent handler
2025-04-16 21:11:16,453 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416211116_8352ee44', 'department': 'RAG', 'timestamp': '2025-04-16T21:11:16.452772'}}
2025-04-16 21:11:22,779 - INFO - Received response from RAG agent
2025-04-16 21:11:22,780 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:11:22.776454', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:11:22.776476'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:11:34,716 - INFO - Routing query to RAG agent: I want to book an appointment
2025-04-16 21:11:34,718 - DEBUG - Session ID: None
2025-04-16 21:11:34,719 - DEBUG - Getting context for agent: RAG
2025-04-16 21:11:34,720 - INFO - Calling RAG agent handler
2025-04-16 21:11:34,728 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416211134_09173d46', 'department': 'RAG', 'timestamp': '2025-04-16T21:11:34.720757'}}
2025-04-16 21:11:42,475 - INFO - Received response from RAG agent
2025-04-16 21:11:42,476 - DEBUG - Agent response: {'response': "I can help with that! \n\nUnfortunately, the documents I have don't explain how to book an appointment.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:11:42.472518', 'chat_history': [{'query': 'I want to book an appointment', 'response': "I can help with that! \n\nUnfortunately, the documents I have don't explain how to book an appointment.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:11:42.472534'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:14:51,309 - INFO - Starting agent initialization...
2025-04-16 21:14:51,310 - DEBUG - Environment variables verified
2025-04-16 21:14:51,310 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:15:01,665 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:15:01,666 - DEBUG - Verifying agent interfaces...
2025-04-16 21:15:01,670 - DEBUG - Agent verification complete
2025-04-16 21:15:01,670 - INFO - All agents initialized successfully
2025-04-16 21:15:55,984 - INFO - Query classified as RAG with confidence 1.0
2025-04-16 21:15:55,985 - INFO - Routing query to RAG agent: what are the visiting hours for outpatients at your hospital
2025-04-16 21:15:55,987 - DEBUG - Session ID: sess_20250416211555_4f00e538
2025-04-16 21:15:55,988 - DEBUG - Getting context for agent: RAG
2025-04-16 21:15:55,989 - INFO - Calling RAG agent handler
2025-04-16 21:15:55,990 - DEBUG - Query data: {'text': 'what are the visiting hours for outpatients at your hospital', 'context': {'session_id': 'sess_20250416211555_4f00e538', 'department': 'RAG', 'timestamp': '2025-04-16T21:15:55.989779'}}
2025-04-16 21:16:09,622 - INFO - Received response from RAG agent
2025-04-16 21:16:09,624 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about outpatient visiting hours in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:16:09.618566', 'chat_history': [{'query': 'what are the visiting hours for outpatients at your hospital', 'response': "I can help with that!\n\nI couldn't find specific information about outpatient visiting hours in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:16:09.618576'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:17:39,978 - INFO - Routing query to RAG agent: What are the symptoms of gout
2025-04-16 21:17:39,980 - DEBUG - Session ID: None
2025-04-16 21:17:39,981 - DEBUG - Getting context for agent: RAG
2025-04-16 21:17:39,983 - INFO - Calling RAG agent handler
2025-04-16 21:17:39,984 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416211739_8352ee44', 'department': 'RAG', 'timestamp': '2025-04-16T21:17:39.983116'}}
2025-04-16 21:18:03,239 - INFO - Received response from RAG agent
2025-04-16 21:18:03,241 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:18:03.235149', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:18:03.235178'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:24:46,090 - INFO - Starting agent initialization...
2025-04-16 21:24:46,091 - DEBUG - Environment variables verified
2025-04-16 21:24:46,092 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:25:01,895 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:25:01,897 - DEBUG - Verifying agent interfaces...
2025-04-16 21:25:01,914 - DEBUG - Agent verification complete
2025-04-16 21:25:01,916 - INFO - All agents initialized successfully
2025-04-16 21:25:14,209 - INFO - Query classified as graph with confidence 1.0
2025-04-16 21:25:14,211 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-16 21:25:14,212 - DEBUG - Session ID: sess_20250416212514_8352ee44
2025-04-16 21:25:14,213 - ERROR - Agent handler not found for department: graph
2025-04-16 21:25:36,933 - INFO - Routing query to graph agent: Whta are the visiting hours of outpatients
2025-04-16 21:25:36,935 - DEBUG - Session ID: None
2025-04-16 21:25:36,936 - ERROR - Agent handler not found for department: graph
2025-04-16 21:25:47,735 - INFO - Routing query to graph agent: I want to book an appointmnet
2025-04-16 21:25:47,737 - DEBUG - Session ID: None
2025-04-16 21:25:47,738 - ERROR - Agent handler not found for department: graph
2025-04-16 21:28:01,028 - INFO - Starting agent initialization...
2025-04-16 21:28:01,030 - DEBUG - Environment variables verified
2025-04-16 21:28:01,030 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:28:16,554 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:28:16,556 - DEBUG - Verifying agent interfaces...
2025-04-16 21:28:16,557 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:28:16,558 - INFO - rag agent ready
2025-04-16 21:28:16,559 - INFO - graph agent ready
2025-04-16 21:28:16,561 - DEBUG - Agent verification complete
2025-04-16 21:28:16,562 - INFO - All agents initialized successfully
2025-04-16 21:28:32,773 - INFO - Query classified as rag with confidence 1.0
2025-04-16 21:28:32,774 - INFO - Routing query to rag agent: What are the visiting hours for outpatients
2025-04-16 21:28:32,776 - DEBUG - Session ID: sess_20250416212832_c48a1dde
2025-04-16 21:28:32,777 - DEBUG - Getting context for agent: rag
2025-04-16 21:28:32,778 - INFO - Calling rag agent handler
2025-04-16 21:28:32,779 - DEBUG - Query data: {'text': 'What are the visiting hours for outpatients', 'context': {'session_id': 'sess_20250416212832_c48a1dde', 'department': 'rag', 'timestamp': '2025-04-16T21:28:32.778492'}}
2025-04-16 21:28:50,392 - INFO - Received response from rag agent
2025-04-16 21:28:50,393 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:28:50.389038', 'chat_history': [{'query': 'What are the visiting hours for outpatients', 'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:28:50.389060'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:29:02,692 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-16 21:29:02,693 - DEBUG - Session ID: None
2025-04-16 21:29:02,694 - DEBUG - Getting context for agent: rag
2025-04-16 21:29:02,695 - INFO - Calling rag agent handler
2025-04-16 21:29:02,696 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416212902_8352ee44', 'department': 'rag', 'timestamp': '2025-04-16T21:29:02.695770'}}
2025-04-16 21:29:11,688 - INFO - Received response from rag agent
2025-04-16 21:29:11,690 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:29:11.679506', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:29:11.679547'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:29:20,294 - INFO - Routing query to rag agent: I want to book an appointment
2025-04-16 21:29:20,296 - DEBUG - Session ID: None
2025-04-16 21:29:20,297 - DEBUG - Getting context for agent: rag
2025-04-16 21:29:20,298 - INFO - Calling rag agent handler
2025-04-16 21:29:20,300 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416212920_09173d46', 'department': 'rag', 'timestamp': '2025-04-16T21:29:20.298750'}}
2025-04-16 21:29:28,280 - INFO - Received response from rag agent
2025-04-16 21:29:28,283 - DEBUG - Agent response: {'response': "I can help you with that! \n\nUnfortunately, the documents I have don't explain how to book an appointment.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:29:28.272426', 'chat_history': [{'query': 'I want to book an appointment', 'response': "I can help you with that! \n\nUnfortunately, the documents I have don't explain how to book an appointment.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:29:28.272463'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:31:48,507 - INFO - Starting agent initialization...
2025-04-16 21:31:48,508 - DEBUG - Environment variables verified
2025-04-16 21:31:48,509 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:32:04,408 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:32:04,409 - DEBUG - Verifying agent interfaces...
2025-04-16 21:32:04,411 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:32:04,412 - INFO - rag agent ready
2025-04-16 21:32:04,413 - INFO - graph agent ready
2025-04-16 21:32:04,414 - DEBUG - Agent verification complete
2025-04-16 21:32:04,416 - INFO - All agents initialized successfully
2025-04-16 21:32:13,375 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:32:13,377 - INFO - Routing query to rag agent: Whata re your admission policies
2025-04-16 21:32:13,378 - DEBUG - Session ID: sess_20250416213213_55e41c20
2025-04-16 21:32:13,380 - DEBUG - Getting context for agent: rag
2025-04-16 21:32:13,381 - INFO - Calling rag agent handler
2025-04-16 21:32:13,382 - DEBUG - Query data: {'text': 'Whata re your admission policies', 'context': {'session_id': 'sess_20250416213213_55e41c20', 'department': 'rag', 'timestamp': '2025-04-16T21:32:13.381113'}}
2025-04-16 21:32:24,158 - INFO - Received response from rag agent
2025-04-16 21:32:24,160 - DEBUG - Agent response: {'response': 'I can help with that!\n\nHi there! \n\nTo help you understand our admission policies, I\'ve looked at our "Hospital Admission Process" and "Admission Guidelines and Procedures" documents. \n\nBasically, your doctor will let you know when you need to be admitted to the hospital.  They\'ll register your admission, and then the clinical section will contact you to schedule your arrival time.  \n\nOn the day of your admission, make sure to bring your patient registration card, personal seal, and admission application to the Inpatients Reception.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-16T21:32:24.152572', 'chat_history': [{'query': 'Whata re your admission policies', 'response': 'I can help with that!\n\nHi there! \n\nTo help you understand our admission policies, I\'ve looked at our "Hospital Admission Process" and "Admission Guidelines and Procedures" documents. \n\nBasically, your doctor will let you know when you need to be admitted to the hospital.  They\'ll register your admission, and then the clinical section will contact you to schedule your arrival time.  \n\nOn the day of your admission, make sure to bring your patient registration card, personal seal, and admission application to the Inpatients Reception.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-16T21:32:24.152583'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:32:48,787 - INFO - Routing query to rag agent: What are the symmptoms of gout
2025-04-16 21:32:48,788 - DEBUG - Session ID: None
2025-04-16 21:32:48,790 - DEBUG - Getting context for agent: rag
2025-04-16 21:32:48,791 - INFO - Calling rag agent handler
2025-04-16 21:32:48,792 - DEBUG - Query data: {'text': 'What are the symmptoms of gout', 'context': {'session_id': 'sess_20250416213248_8b222a10', 'department': 'rag', 'timestamp': '2025-04-16T21:32:48.791357'}}
2025-04-16 21:32:56,148 - INFO - Received response from rag agent
2025-04-16 21:32:56,150 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the documents I have access to.  \n\nWould you like me to try finding some reliable information about gout symptoms online?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:32:56.141134', 'chat_history': [{'query': 'What are the symmptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the documents I have access to.  \n\nWould you like me to try finding some reliable information about gout symptoms online?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:32:56.141175'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:34:53,520 - INFO - Starting agent initialization...
2025-04-16 21:34:53,521 - DEBUG - Environment variables verified
2025-04-16 21:34:53,522 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:35:13,244 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:35:13,246 - DEBUG - Verifying agent interfaces...
2025-04-16 21:35:13,249 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:35:13,251 - INFO - rag agent ready
2025-04-16 21:35:13,253 - INFO - graph agent ready
2025-04-16 21:35:13,254 - DEBUG - Agent verification complete
2025-04-16 21:35:13,256 - INFO - All agents initialized successfully
2025-04-16 21:35:26,453 - INFO - Query classified as graph with confidence 1.0
2025-04-16 21:35:26,455 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-16 21:35:26,456 - DEBUG - Session ID: sess_20250416213526_8352ee44
2025-04-16 21:35:26,458 - DEBUG - Getting context for agent: graph
2025-04-16 21:35:26,459 - INFO - Calling graph agent handler
2025-04-16 21:35:26,460 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416213526_8352ee44', 'department': 'graph', 'timestamp': '2025-04-16T21:35:26.459361'}}
2025-04-16 21:35:30,954 - INFO - Received response from graph agent
2025-04-16 21:35:30,957 - DEBUG - Agent response: {'response': "I understand you're looking for information about gout.  \n\nGout can cause very intense pain in your joints, especially the big toe. You might also notice swelling and redness in the affected area.  \n\nIt's important to remember that I'm not a doctor and this isn't medical advice. If you're experiencing these symptoms, please reach out to a healthcare professional for proper diagnosis and treatment. They can help you understand what's going on and get you the care you need. \n\n", 'context_updates': {'last_interaction': '2025-04-16T21:35:30.954420', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I understand you're looking for information about gout.  \n\nGout can cause very intense pain in your joints, especially the big toe. You might also notice swelling and redness in the affected area.  \n\nIt's important to remember that I'm not a doctor and this isn't medical advice. If you're experiencing these symptoms, please reach out to a healthcare professional for proper diagnosis and treatment. They can help you understand what's going on and get you the care you need. \n\n", 'timestamp': '2025-04-16T21:35:30.954448'}]}, 'suggested_next': None}
2025-04-16 21:35:39,942 - INFO - Routing query to graph agent: What are your admission policies
2025-04-16 21:35:39,943 - DEBUG - Session ID: None
2025-04-16 21:35:39,947 - DEBUG - Getting context for agent: graph
2025-04-16 21:35:39,948 - INFO - Calling graph agent handler
2025-04-16 21:35:39,949 - DEBUG - Query data: {'text': 'What are your admission policies', 'context': {'session_id': 'sess_20250416213539_14d53768', 'department': 'graph', 'timestamp': '2025-04-16T21:35:39.948546'}}
2025-04-16 21:35:42,731 - INFO - Received response from graph agent
2025-04-16 21:35:42,734 - DEBUG - Agent response: {'response': 'Osaka University Hospital treats a wide range of serious medical conditions. \n\nWe specialize in caring for people with:\n\n* **Heart problems:** This includes things like heart disease, valve problems, and high blood pressure.\n* **Lung conditions:** We treat lung cancer, infections, and breathing difficulties.\n* **Cancer:** We have a dedicated team to treat many types of cancer, including those affecting the lungs, breast, blood, and reproductive organs.\n* **Blood disorders:** We care for patients with conditions like anemia, leukemia, and clotting problems.\n* **Gastrointestinal issues:** We treat problems with the stomach, intestines, and liver, including bleeding, ulcers, and inflammation.\n* **Other serious conditions:** This includes things like infections, bone marrow disorders, and complications from surgery.\n\nIf you are experiencing a medical emergency, please call 911 or go to the nearest emergency room. \n\nIf you have questions about our services or would like to schedule an appointment, please contact our office.\n\n\n\n', 'context_updates': {'last_interaction': '2025-04-16T21:35:42.731319', 'chat_history': [{'query': 'What are your admission policies', 'response': 'Osaka University Hospital treats a wide range of serious medical conditions. \n\nWe specialize in caring for people with:\n\n* **Heart problems:** This includes things like heart disease, valve problems, and high blood pressure.\n* **Lung conditions:** We treat lung cancer, infections, and breathing difficulties.\n* **Cancer:** We have a dedicated team to treat many types of cancer, including those affecting the lungs, breast, blood, and reproductive organs.\n* **Blood disorders:** We care for patients with conditions like anemia, leukemia, and clotting problems.\n* **Gastrointestinal issues:** We treat problems with the stomach, intestines, and liver, including bleeding, ulcers, and inflammation.\n* **Other serious conditions:** This includes things like infections, bone marrow disorders, and complications from surgery.\n\nIf you are experiencing a medical emergency, please call 911 or go to the nearest emergency room. \n\nIf you have questions about our services or would like to schedule an appointment, please contact our office.\n\n\n\n', 'timestamp': '2025-04-16T21:35:42.731353'}]}, 'suggested_next': None}
2025-04-16 21:35:52,495 - INFO - Routing query to graph agent: I want to book an appointment
2025-04-16 21:35:52,496 - DEBUG - Session ID: None
2025-04-16 21:35:52,498 - DEBUG - Getting context for agent: graph
2025-04-16 21:35:52,499 - INFO - Calling graph agent handler
2025-04-16 21:35:52,500 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416213552_09173d46', 'department': 'graph', 'timestamp': '2025-04-16T21:35:52.499551'}}
2025-04-16 21:35:53,618 - INFO - Received response from graph agent
2025-04-16 21:35:53,621 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:36:22,602 - INFO - Starting agent initialization...
2025-04-16 21:36:22,603 - DEBUG - Environment variables verified
2025-04-16 21:36:22,604 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:36:45,538 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:36:45,540 - DEBUG - Verifying agent interfaces...
2025-04-16 21:36:45,541 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:36:45,542 - INFO - rag agent ready
2025-04-16 21:36:45,543 - INFO - graph agent ready
2025-04-16 21:36:45,544 - DEBUG - Agent verification complete
2025-04-16 21:36:45,545 - INFO - All agents initialized successfully
2025-04-16 21:36:56,784 - INFO - Query classified as sql with confidence 1.0
2025-04-16 21:36:56,785 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-16 21:36:56,787 - DEBUG - Session ID: sess_20250416213656_09173d46
2025-04-16 21:36:56,788 - DEBUG - Getting context for agent: sql
2025-04-16 21:36:56,790 - INFO - Calling sql agent handler
2025-04-16 21:36:56,791 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416213656_09173d46', 'department': 'sql', 'timestamp': '2025-04-16T21:36:56.789957'}}
2025-04-16 21:36:56,811 - INFO - Received response from sql agent
2025-04-16 21:36:56,812 - DEBUG - Agent response: {'response': "Appointment system error: name 'context' is not defined. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-16 21:39:22,066 - INFO - Starting agent initialization...
2025-04-16 21:39:22,068 - DEBUG - Environment variables verified
2025-04-16 21:39:22,069 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:39:36,522 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:39:36,523 - DEBUG - Verifying agent interfaces...
2025-04-16 21:39:36,524 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:39:36,525 - INFO - rag agent ready
2025-04-16 21:39:36,526 - INFO - graph agent ready
2025-04-16 21:39:36,527 - DEBUG - Agent verification complete
2025-04-16 21:39:36,529 - INFO - All agents initialized successfully
2025-04-16 21:39:41,308 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:39:41,310 - INFO - Routing query to rag agent: What are your admission policies
2025-04-16 21:39:41,311 - DEBUG - Session ID: sess_20250416213941_14d53768
2025-04-16 21:39:41,312 - DEBUG - Getting context for agent: rag
2025-04-16 21:39:41,313 - INFO - Calling rag agent handler
2025-04-16 21:39:41,315 - DEBUG - Query data: {'text': 'What are your admission policies', 'context': {'session_id': 'sess_20250416213941_14d53768', 'department': 'rag', 'timestamp': '2025-04-16T21:39:41.313920'}}
2025-04-16 21:39:52,939 - INFO - Received response from rag agent
2025-04-16 21:39:52,941 - DEBUG - Agent response: {'response': 'I can help with that!\n\nHello!  \n\nTo answer your question about admission policies, I\'ve looked at our documents "Hospital Admission Process" and "Admission Guidelines and Procedures". \n\nAccording to "Admission Guidelines and Procedures", your doctor will let you know the date for hospitalization. If you need to be admitted after an outpatient appointment, your doctor will register your admission and the clinical section will contact you with the date and time.\n\n"Hospital Admission Process" outlines that you\'ll need to arrive at the Inpatients Reception with your patient registration card, personal seal, and admission application on the day of your admission. \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-16T21:39:52.933453', 'chat_history': [{'query': 'What are your admission policies', 'response': 'I can help with that!\n\nHello!  \n\nTo answer your question about admission policies, I\'ve looked at our documents "Hospital Admission Process" and "Admission Guidelines and Procedures". \n\nAccording to "Admission Guidelines and Procedures", your doctor will let you know the date for hospitalization. If you need to be admitted after an outpatient appointment, your doctor will register your admission and the clinical section will contact you with the date and time.\n\n"Hospital Admission Process" outlines that you\'ll need to arrive at the Inpatients Reception with your patient registration card, personal seal, and admission application on the day of your admission. \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-16T21:39:52.933464'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:40:00,158 - INFO - Query classified as graph with confidence 1.0
2025-04-16 21:40:00,159 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-16 21:40:00,161 - DEBUG - Session ID: sess_20250416214000_8352ee44
2025-04-16 21:40:00,162 - DEBUG - Getting context for agent: graph
2025-04-16 21:40:00,163 - INFO - Calling graph agent handler
2025-04-16 21:40:00,164 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416214000_8352ee44', 'department': 'graph', 'timestamp': '2025-04-16T21:40:00.163616'}}
2025-04-16 21:40:02,520 - INFO - Received response from graph agent
2025-04-16 21:40:02,523 - DEBUG - Agent response: {'response': "Gout can be very painful.  \n\nIt often starts with a sudden, intense pain in your joint, especially your big toe.  You might also notice the joint is swollen, red, and feels hot to the touch.  \n\n\nIt's important to remember that everyone experiences gout differently, but this is a common description of what it feels like.  If you're experiencing any of these symptoms, please don't hesitate to seek medical attention.  We're here to help. \n\n", 'context_updates': {'last_interaction': '2025-04-16T21:40:02.520438', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "Gout can be very painful.  \n\nIt often starts with a sudden, intense pain in your joint, especially your big toe.  You might also notice the joint is swollen, red, and feels hot to the touch.  \n\n\nIt's important to remember that everyone experiences gout differently, but this is a common description of what it feels like.  If you're experiencing any of these symptoms, please don't hesitate to seek medical attention.  We're here to help. \n\n", 'timestamp': '2025-04-16T21:40:02.520477'}]}, 'suggested_next': None}
2025-04-16 21:40:07,741 - INFO - Routing query to graph agent: I want to book an appointment
2025-04-16 21:40:07,743 - DEBUG - Session ID: None
2025-04-16 21:40:07,744 - DEBUG - Getting context for agent: graph
2025-04-16 21:40:07,746 - INFO - Calling graph agent handler
2025-04-16 21:40:07,747 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416214007_09173d46', 'department': 'graph', 'timestamp': '2025-04-16T21:40:07.746040'}}
2025-04-16 21:40:08,712 - INFO - Received response from graph agent
2025-04-16 21:40:08,715 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:40:18,508 - INFO - Routing query to graph agent: I want to book an appointment
2025-04-16 21:40:18,510 - DEBUG - Session ID: None
2025-04-16 21:40:18,511 - DEBUG - Getting context for agent: graph
2025-04-16 21:40:18,512 - INFO - Calling graph agent handler
2025-04-16 21:40:18,513 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416214018_09173d46', 'department': 'graph', 'timestamp': '2025-04-16T21:40:18.512680'}}
2025-04-16 21:40:19,958 - INFO - Received response from graph agent
2025-04-16 21:40:19,961 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:44:55,854 - INFO - Starting agent initialization...
2025-04-16 21:44:55,856 - DEBUG - Environment variables verified
2025-04-16 21:44:55,857 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:45:10,859 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:45:10,861 - DEBUG - Verifying agent interfaces...
2025-04-16 21:45:10,862 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:45:10,864 - INFO - rag agent ready
2025-04-16 21:45:10,864 - INFO - graph agent ready
2025-04-16 21:45:10,866 - DEBUG - Agent verification complete
2025-04-16 21:45:10,867 - INFO - All agents initialized successfully
2025-04-16 21:45:15,237 - DEBUG - Classifying query: what are the symptoms of gout
2025-04-16 21:45:15,238 - DEBUG - Found GRAPH keyword: symptom
2025-04-16 21:45:15,240 - INFO - Query classified as graph with confidence 1.0
2025-04-16 21:45:15,241 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-16 21:45:15,242 - DEBUG - Session ID: sess_20250416214515_8352ee44
2025-04-16 21:45:15,244 - DEBUG - Getting context for agent: graph
2025-04-16 21:45:15,245 - INFO - Calling graph agent handler
2025-04-16 21:45:15,246 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416214515_8352ee44', 'department': 'graph', 'timestamp': '2025-04-16T21:45:15.245281'}}
2025-04-16 21:45:17,188 - INFO - Received response from graph agent
2025-04-16 21:45:17,190 - DEBUG - Agent response: {'response': "Gout can be very painful.  \n\nYou might experience intense pain in your joints, especially in your big toe. The joint might also feel swollen and look red. \n\n\nIf you're experiencing these symptoms, it's important to seek medical attention right away.  We can help figure out what's going on and get you the treatment you need. \n\n", 'context_updates': {'last_interaction': '2025-04-16T21:45:17.188237', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "Gout can be very painful.  \n\nYou might experience intense pain in your joints, especially in your big toe. The joint might also feel swollen and look red. \n\n\nIf you're experiencing these symptoms, it's important to seek medical attention right away.  We can help figure out what's going on and get you the treatment you need. \n\n", 'timestamp': '2025-04-16T21:45:17.188262'}]}, 'suggested_next': None}
2025-04-16 21:45:20,723 - INFO - Routing query to graph agent: What are the visiting hours for outpatients
2025-04-16 21:45:20,725 - DEBUG - Session ID: None
2025-04-16 21:45:20,726 - DEBUG - Getting context for agent: graph
2025-04-16 21:45:20,728 - INFO - Calling graph agent handler
2025-04-16 21:45:20,729 - DEBUG - Query data: {'text': 'What are the visiting hours for outpatients', 'context': {'session_id': 'sess_20250416214520_c48a1dde', 'department': 'graph', 'timestamp': '2025-04-16T21:45:20.728007'}}
2025-04-16 21:45:21,886 - INFO - Received response from graph agent
2025-04-16 21:45:21,888 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:45:25,596 - INFO - Routing query to graph agent: What are the visiting hours for outpatients
2025-04-16 21:45:25,598 - DEBUG - Session ID: None
2025-04-16 21:45:25,599 - DEBUG - Getting context for agent: graph
2025-04-16 21:45:25,600 - INFO - Calling graph agent handler
2025-04-16 21:45:25,601 - DEBUG - Query data: {'text': 'What are the visiting hours for outpatients', 'context': {'session_id': 'sess_20250416214525_c48a1dde', 'department': 'graph', 'timestamp': '2025-04-16T21:45:25.600513'}}
2025-04-16 21:45:26,911 - INFO - Received response from graph agent
2025-04-16 21:45:26,912 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-16 21:45:30,043 - INFO - Routing query to graph agent: I want to book an appointmnet
2025-04-16 21:45:30,044 - DEBUG - Session ID: None
2025-04-16 21:45:30,046 - DEBUG - Getting context for agent: graph
2025-04-16 21:45:30,047 - INFO - Calling graph agent handler
2025-04-16 21:45:30,048 - DEBUG - Query data: {'text': 'I want to book an appointmnet', 'context': {'session_id': 'sess_20250416214530_8f58b94b', 'department': 'graph', 'timestamp': '2025-04-16T21:45:30.047163'}}
2025-04-16 21:45:32,443 - INFO - Received response from graph agent
2025-04-16 21:45:32,444 - DEBUG - Agent response: {'response': "It looks like you're looking for help with a health concern.  \n\nThe results we have show a wide range of possible conditions, from heart and lung issues to cancers and digestive problems.  \n\nIt's important to remember that these are just possibilities, and we can't diagnose anything based on this information alone. \n\nTo get the right help, please tell me more about what's going on. For example:\n\n* **What are your symptoms?** \n* **When did they start?**\n* **Have you experienced anything else unusual?**\n\nThe more details you can provide, the better we can understand your situation and help you find the right specialist. \n\nDon't worry, you're in the right place to start getting the care you need. \n\n\n\n", 'context_updates': {'last_interaction': '2025-04-16T21:45:32.443159', 'chat_history': [{'query': 'I want to book an appointmnet', 'response': "It looks like you're looking for help with a health concern.  \n\nThe results we have show a wide range of possible conditions, from heart and lung issues to cancers and digestive problems.  \n\nIt's important to remember that these are just possibilities, and we can't diagnose anything based on this information alone. \n\nTo get the right help, please tell me more about what's going on. For example:\n\n* **What are your symptoms?** \n* **When did they start?**\n* **Have you experienced anything else unusual?**\n\nThe more details you can provide, the better we can understand your situation and help you find the right specialist. \n\nDon't worry, you're in the right place to start getting the care you need. \n\n\n\n", 'timestamp': '2025-04-16T21:45:32.443175'}]}, 'suggested_next': None}
2025-04-16 21:48:03,758 - INFO - Starting agent initialization...
2025-04-16 21:48:03,759 - DEBUG - Environment variables verified
2025-04-16 21:48:03,760 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:48:25,374 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:48:25,376 - DEBUG - Verifying agent interfaces...
2025-04-16 21:48:25,378 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:48:25,380 - INFO - rag agent ready
2025-04-16 21:48:25,382 - INFO - graph agent ready
2025-04-16 21:48:25,383 - DEBUG - Agent verification complete
2025-04-16 21:48:25,385 - INFO - All agents initialized successfully
2025-04-16 21:48:28,750 - DEBUG - Classifying query: whta are the visiting hours of outpatients
2025-04-16 21:48:28,752 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:48:28,754 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:48:28,755 - INFO - Routing query to rag agent: Whta are the visiting hours of outpatients
2025-04-16 21:48:28,757 - DEBUG - Session ID: sess_20250416214828_a8d9f4d2
2025-04-16 21:48:28,758 - DEBUG - Getting context for agent: rag
2025-04-16 21:48:28,759 - INFO - Calling rag agent handler
2025-04-16 21:48:28,760 - DEBUG - Query data: {'text': 'Whta are the visiting hours of outpatients', 'context': {'session_id': 'sess_20250416214828_a8d9f4d2', 'department': 'rag', 'timestamp': '2025-04-16T21:48:28.759501'}}
2025-04-16 21:48:40,201 - INFO - Received response from rag agent
2025-04-16 21:48:40,203 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:48:40.198020', 'chat_history': [{'query': 'Whta are the visiting hours of outpatients', 'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:48:40.198039'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:48:49,102 - DEBUG - Classifying query: what are the symptoms of gout
2025-04-16 21:48:49,103 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:48:49,105 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:48:49,106 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-16 21:48:49,107 - DEBUG - Session ID: sess_20250416214849_8352ee44
2025-04-16 21:48:49,109 - DEBUG - Getting context for agent: rag
2025-04-16 21:48:49,110 - INFO - Calling rag agent handler
2025-04-16 21:48:49,111 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416214849_8352ee44', 'department': 'rag', 'timestamp': '2025-04-16T21:48:49.110388'}}
2025-04-16 21:48:56,340 - INFO - Received response from rag agent
2025-04-16 21:48:56,341 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents. \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:48:56.337067', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents. \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:48:56.337112'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:51:44,528 - INFO - Starting agent initialization...
2025-04-16 21:51:44,529 - DEBUG - Environment variables verified
2025-04-16 21:51:44,529 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:51:59,607 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:51:59,608 - DEBUG - Verifying agent interfaces...
2025-04-16 21:51:59,609 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:51:59,610 - INFO - rag agent ready
2025-04-16 21:51:59,611 - INFO - graph agent ready
2025-04-16 21:51:59,612 - DEBUG - Agent verification complete
2025-04-16 21:51:59,613 - INFO - All agents initialized successfully
2025-04-16 21:52:04,293 - DEBUG - Classifying query: what are the symptoms of gout
2025-04-16 21:52:04,295 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:52:04,296 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:52:04,298 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-16 21:52:04,299 - DEBUG - Session ID: sess_20250416215204_8352ee44
2025-04-16 21:52:04,301 - DEBUG - Getting context for agent: rag
2025-04-16 21:52:04,302 - INFO - Calling rag agent handler
2025-04-16 21:52:04,304 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416215204_8352ee44', 'department': 'rag', 'timestamp': '2025-04-16T21:52:04.302748', 'is_new_session': False}}
2025-04-16 21:52:16,634 - INFO - Received response from rag agent
2025-04-16 21:52:16,636 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:52:16.630636', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:52:16.630665'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:52:21,810 - DEBUG - Classifying query: what are the visiting hours for outpatients at your hospital
2025-04-16 21:52:21,812 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:52:21,814 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:52:21,815 - INFO - Routing query to rag agent: what are the visiting hours for outpatients at your hospital
2025-04-16 21:52:21,817 - DEBUG - Session ID: sess_20250416215221_4f00e538
2025-04-16 21:52:21,818 - DEBUG - Getting context for agent: rag
2025-04-16 21:52:21,819 - INFO - Calling rag agent handler
2025-04-16 21:52:21,821 - DEBUG - Query data: {'text': 'what are the visiting hours for outpatients at your hospital', 'context': {'session_id': 'sess_20250416215221_4f00e538', 'department': 'rag', 'timestamp': '2025-04-16T21:52:21.819905', 'is_new_session': False}}
2025-04-16 21:52:27,292 - INFO - Received response from rag agent
2025-04-16 21:52:27,294 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.  \n\nWould you like me to look for that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:52:27.284405', 'chat_history': [{'query': 'what are the visiting hours for outpatients at your hospital', 'response': "I can help with that!\n\nI couldn't find specific information about visiting hours for outpatients in the provided documents.  \n\nWould you like me to look for that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:52:27.284444'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:52:48,788 - DEBUG - Classifying query: what are the symptoms of gout
2025-04-16 21:52:48,789 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:52:48,791 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:52:48,792 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-16 21:52:48,794 - DEBUG - Session ID: sess_20250416215248_8352ee44
2025-04-16 21:52:48,795 - DEBUG - Getting context for agent: rag
2025-04-16 21:52:48,796 - INFO - Calling rag agent handler
2025-04-16 21:52:48,798 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250416215248_8352ee44', 'department': 'rag', 'timestamp': '2025-04-16T21:52:48.796874', 'is_new_session': False}}
2025-04-16 21:52:55,857 - INFO - Received response from rag agent
2025-04-16 21:52:55,859 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents. \n\nWould you like me to look for that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T21:52:55.849135', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents. \n\nWould you like me to look for that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T21:52:55.849168'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:53:00,029 - DEBUG - Classifying query: i want to book an appointment
2025-04-16 21:53:00,031 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:53:00,032 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:53:00,034 - INFO - Routing query to rag agent: I want to book an appointment
2025-04-16 21:53:00,035 - DEBUG - Session ID: sess_20250416215300_09173d46
2025-04-16 21:53:00,036 - DEBUG - Getting context for agent: rag
2025-04-16 21:53:00,038 - INFO - Calling rag agent handler
2025-04-16 21:53:00,039 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416215300_09173d46', 'department': 'rag', 'timestamp': '2025-04-16T21:53:00.038031', 'is_new_session': False}}
2025-04-16 21:53:13,361 - INFO - Starting agent initialization...
2025-04-16 21:53:13,362 - DEBUG - Environment variables verified
2025-04-16 21:53:13,363 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 21:53:27,878 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 21:53:27,879 - DEBUG - Verifying agent interfaces...
2025-04-16 21:53:27,880 - ERROR - Error verifying sql agent: object bool can't be used in 'await' expression
2025-04-16 21:53:27,882 - INFO - rag agent ready
2025-04-16 21:53:27,883 - INFO - graph agent ready
2025-04-16 21:53:27,884 - DEBUG - Agent verification complete
2025-04-16 21:53:27,885 - INFO - All agents initialized successfully
2025-04-16 21:53:42,750 - DEBUG - Classifying query: i want to book an appointment
2025-04-16 21:53:42,752 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:53:42,753 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:53:42,755 - INFO - Routing query to rag agent: I want to book an appointment
2025-04-16 21:53:42,756 - DEBUG - Session ID: sess_20250416215342_09173d46
2025-04-16 21:53:42,757 - DEBUG - Getting context for agent: rag
2025-04-16 21:53:42,758 - INFO - Calling rag agent handler
2025-04-16 21:53:42,760 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416215342_09173d46', 'department': 'rag', 'timestamp': '2025-04-16T21:53:42.758844', 'is_new_session': False}}
2025-04-16 21:53:54,365 - INFO - Received response from rag agent
2025-04-16 21:53:54,367 - DEBUG - Agent response: {'response': 'I can help with that!  \n\nTo book an appointment, you\'ll need to first make sure you have a referral letter from another medical facility.  "Osaka University Hospital is an \'advanced treatment hospital\' and requires new patients to present a referral letter, including a medical report, from another medical facility" according to the "Information Document for Outpatients at Osaka University Hospital_v2". \n\nOnce you have that, you can proceed with booking your appointment.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-16T21:53:54.360312', 'chat_history': [{'query': 'I want to book an appointment', 'response': 'I can help with that!  \n\nTo book an appointment, you\'ll need to first make sure you have a referral letter from another medical facility.  "Osaka University Hospital is an \'advanced treatment hospital\' and requires new patients to present a referral letter, including a medical report, from another medical facility" according to the "Information Document for Outpatients at Osaka University Hospital_v2". \n\nOnce you have that, you can proceed with booking your appointment.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-16T21:53:54.360357'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 21:54:16,651 - DEBUG - Classifying query: i want to book an appointment with doctor angella webb
2025-04-16 21:54:16,654 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'create'
2025-04-16 21:54:16,656 - INFO - Query classified as rag with confidence 0.7
2025-04-16 21:54:16,657 - INFO - Routing query to rag agent: I want to book an appointment with Doctor Angella Webb
2025-04-16 21:54:16,659 - DEBUG - Session ID: sess_20250416215416_21647770
2025-04-16 21:54:16,660 - DEBUG - Getting context for agent: rag
2025-04-16 21:54:16,662 - INFO - Calling rag agent handler
2025-04-16 21:54:16,663 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250416215416_21647770', 'department': 'rag', 'timestamp': '2025-04-16T21:54:16.662282', 'is_new_session': False}}
2025-04-16 21:54:23,635 - INFO - Received response from rag agent
2025-04-16 21:54:23,638 - DEBUG - Agent response: {'response': 'I can help with that!  \n\nTo book an appointment with Dr. Angella Webb, you\'ll first need to make sure you have a referral letter from another medical facility.  "Osaka University Hospital is an \'advanced treatment hospital\' and requires new patients to present a referral letter, including a medical report, from another medical facility" according to the "Information Document for Outpatients at Osaka University Hospital_v2". \n\nOnce you have that, you can proceed with booking your appointment.  \n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-16T21:54:23.615922', 'chat_history': [{'query': 'I want to book an appointment with Doctor Angella Webb', 'response': 'I can help with that!  \n\nTo book an appointment with Dr. Angella Webb, you\'ll first need to make sure you have a referral letter from another medical facility.  "Osaka University Hospital is an \'advanced treatment hospital\' and requires new patients to present a referral letter, including a medical report, from another medical facility" according to the "Information Document for Outpatients at Osaka University Hospital_v2". \n\nOnce you have that, you can proceed with booking your appointment.  \n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-16T21:54:23.615960'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 22:07:31,211 - INFO - Starting agent initialization...
2025-04-16 22:07:31,212 - DEBUG - Environment variables verified
2025-04-16 22:07:31,213 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 22:07:50,593 - DEBUG - Agent loading results: [False, False, True]
2025-04-16 22:07:50,594 - ERROR - Failed to load agents: ['sql', 'rag']
2025-04-16 22:07:50,595 - ERROR - Agent loading failure details:
2025-04-16 22:07:50,596 - ERROR - sql loading traceback:
2025-04-16 22:07:50,598 - ERROR - NoneType: None

2025-04-16 22:07:50,600 - ERROR - rag loading traceback:
2025-04-16 22:07:50,603 - ERROR - NoneType: None

2025-04-16 22:07:50,606 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag']
2025-04-16 22:07:50,608 - ERROR - Full initialization traceback:
2025-04-16 22:07:50,611 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-16 22:07:50,618 - ERROR - Critical error: Failed to load agents: ['sql', 'rag']
2025-04-16 22:07:50,622 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 584, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-16 22:08:48,958 - INFO - Starting agent initialization...
2025-04-16 22:08:48,960 - DEBUG - Environment variables verified
2025-04-16 22:08:48,961 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 22:09:10,110 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 22:09:10,112 - DEBUG - Verifying agent interfaces...
2025-04-16 22:09:10,114 - ERROR - Critical: sql agent verification failed!
2025-04-16 22:09:10,115 - INFO - rag agent ready
2025-04-16 22:09:10,116 - INFO - graph agent ready
2025-04-16 22:09:10,117 - DEBUG - Agent verification complete
2025-04-16 22:09:10,118 - INFO - All agents initialized successfully
2025-04-16 22:09:18,259 - DEBUG - Classifying query: i want to book an appointment
2025-04-16 22:09:18,261 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-16 22:09:18,263 - INFO - Query classified as sql with confidence 0.9
2025-04-16 22:09:18,264 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-16 22:09:18,266 - DEBUG - Session ID: sess_20250416220918_09173d46
2025-04-16 22:09:18,267 - DEBUG - Getting context for agent: sql
2025-04-16 22:09:18,268 - INFO - Calling sql agent handler
2025-04-16 22:09:18,269 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416220918_09173d46', 'department': 'sql', 'timestamp': '2025-04-16T22:09:18.268506', 'is_new_session': False}}
2025-04-16 22:09:18,289 - INFO - Received response from sql agent
2025-04-16 22:09:18,291 - DEBUG - Agent response: {'response': "Appointment system error: name 'context' is not defined. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-16 22:10:34,062 - INFO - Starting agent initialization...
2025-04-16 22:10:34,064 - DEBUG - Environment variables verified
2025-04-16 22:10:34,065 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 22:10:57,488 - DEBUG - Agent loading results: [True, True, True]
2025-04-16 22:10:57,490 - DEBUG - Verifying agent interfaces...
2025-04-16 22:10:57,494 - ERROR - Critical: sql agent verification failed!
2025-04-16 22:10:57,496 - INFO - rag agent ready
2025-04-16 22:10:57,497 - INFO - graph agent ready
2025-04-16 22:10:57,498 - DEBUG - Agent verification complete
2025-04-16 22:10:57,499 - INFO - All agents initialized successfully
2025-04-16 22:11:20,460 - DEBUG - Classifying query: i want to book an appointment
2025-04-16 22:11:20,462 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-16 22:11:20,463 - INFO - Query classified as sql with confidence 0.9
2025-04-16 22:11:20,465 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-16 22:11:20,466 - DEBUG - Session ID: sess_20250416221120_09173d46
2025-04-16 22:11:20,468 - DEBUG - Getting context for agent: sql
2025-04-16 22:11:20,469 - INFO - Calling sql agent handler
2025-04-16 22:11:20,470 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250416221120_09173d46', 'department': 'sql', 'timestamp': '2025-04-16T22:11:20.469481', 'is_new_session': False}}
2025-04-16 22:11:24,157 - INFO - Received response from sql agent
2025-04-16 22:11:24,158 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-16 22:11:36,000 - DEBUG - Classifying query: doctor angella webb
2025-04-16 22:11:36,003 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-16 22:11:36,004 - INFO - Query classified as rag with confidence 0.7
2025-04-16 22:11:36,006 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-16 22:11:36,008 - DEBUG - Session ID: sess_20250416221136_e4364c25
2025-04-16 22:11:36,009 - DEBUG - Getting context for agent: rag
2025-04-16 22:11:36,010 - INFO - Calling rag agent handler
2025-04-16 22:11:36,011 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250416221136_e4364c25', 'department': 'rag', 'timestamp': '2025-04-16T22:11:36.010469', 'is_new_session': False}}
2025-04-16 22:11:52,115 - INFO - Received response from rag agent
2025-04-16 22:11:52,117 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-16T22:11:52.110409', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-16T22:11:52.110474'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-16 22:17:34,419 - INFO - Starting agent initialization...
2025-04-16 22:17:34,421 - DEBUG - Environment variables verified
2025-04-16 22:17:34,422 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-16 22:19:11,646 - DEBUG - Agent loading results: [False, False, True]
2025-04-16 22:19:11,647 - ERROR - Failed to load agents: ['sql', 'rag']
2025-04-16 22:19:11,648 - ERROR - Agent loading failure details:
2025-04-16 22:19:11,650 - ERROR - sql loading traceback:
2025-04-16 22:19:11,651 - ERROR - NoneType: None

2025-04-16 22:19:11,653 - ERROR - rag loading traceback:
2025-04-16 22:19:11,654 - ERROR - NoneType: None

2025-04-16 22:19:11,655 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag']
2025-04-16 22:19:11,657 - ERROR - Full initialization traceback:
2025-04-16 22:19:11,659 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-16 22:19:11,662 - ERROR - Critical error: Failed to load agents: ['sql', 'rag']
2025-04-16 22:19:11,665 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 592, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-18 12:36:12,229 - INFO - Starting agent initialization...
2025-04-18 12:36:12,231 - DEBUG - Environment variables verified
2025-04-18 12:36:12,232 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 12:36:45,125 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 12:36:45,127 - DEBUG - Verifying agent interfaces...
2025-04-18 12:36:45,131 - ERROR - Critical: sql agent verification failed!
2025-04-18 12:36:45,133 - INFO - rag agent ready
2025-04-18 12:36:45,135 - INFO - graph agent ready
2025-04-18 12:36:45,137 - DEBUG - Agent verification complete
2025-04-18 12:36:45,138 - INFO - All agents initialized successfully
2025-04-18 12:45:03,715 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 12:45:03,717 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 12:45:03,718 - INFO - Query classified as sql with confidence 0.9
2025-04-18 12:45:03,719 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 12:45:03,721 - DEBUG - Session ID: sess_20250418124503_09173d46
2025-04-18 12:45:03,722 - DEBUG - Getting context for agent: sql
2025-04-18 12:45:03,723 - INFO - Calling sql agent handler
2025-04-18 12:45:03,724 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418124503_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T12:45:03.723575', 'is_new_session': False}}
2025-04-18 12:45:05,407 - INFO - Received response from sql agent
2025-04-18 12:45:05,410 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 12:45:14,427 - DEBUG - Classifying query: doctor angella webb
2025-04-18 12:45:14,429 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-18 12:45:14,431 - INFO - Query classified as rag with confidence 0.7
2025-04-18 12:45:14,432 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 12:45:14,434 - DEBUG - Session ID: sess_20250418124514_e4364c25
2025-04-18 12:45:14,435 - DEBUG - Getting context for agent: rag
2025-04-18 12:45:14,436 - INFO - Calling rag agent handler
2025-04-18 12:45:14,438 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418124514_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T12:45:14.436915', 'is_new_session': False}}
2025-04-18 12:46:07,021 - INFO - Received response from rag agent
2025-04-18 12:46:07,022 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about a different doctor, or perhaps about a specific department at the hospital?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T12:46:07.018954', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about a different doctor, or perhaps about a specific department at the hospital?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T12:46:07.018969'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 12:48:46,722 - INFO - Starting agent initialization...
2025-04-18 12:48:46,724 - DEBUG - Environment variables verified
2025-04-18 12:48:46,724 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 12:49:01,548 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 12:49:01,550 - DEBUG - Verifying agent interfaces...
2025-04-18 12:49:01,553 - ERROR - Critical: sql agent verification failed!
2025-04-18 12:49:01,554 - INFO - rag agent ready
2025-04-18 12:49:01,555 - INFO - graph agent ready
2025-04-18 12:49:01,557 - DEBUG - Agent verification complete
2025-04-18 12:49:01,558 - INFO - All agents initialized successfully
2025-04-18 12:49:11,106 - DEBUG - Query matched APPOINTMENT pattern: (book|schedule|reschedule|cancel).*appointment
2025-04-18 12:49:11,108 - INFO - Query classified as APPOINTMENT with confidence 0.9
2025-04-18 12:49:11,109 - INFO - Routing query to APPOINTMENT agent: I want to book an appointment
2025-04-18 12:49:11,111 - DEBUG - Session ID: sess_20250418124911_09173d46
2025-04-18 12:49:11,112 - ERROR - Agent handler not found for department: APPOINTMENT
2025-04-18 12:50:47,362 - INFO - Starting agent initialization...
2025-04-18 12:50:47,363 - DEBUG - Environment variables verified
2025-04-18 12:50:47,364 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 12:51:07,027 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 12:51:07,028 - DEBUG - Verifying agent interfaces...
2025-04-18 12:51:07,032 - ERROR - Critical: sql agent verification failed!
2025-04-18 12:51:07,033 - INFO - rag agent ready
2025-04-18 12:51:07,034 - INFO - graph agent ready
2025-04-18 12:51:07,035 - DEBUG - Agent verification complete
2025-04-18 12:51:07,036 - INFO - All agents initialized successfully
2025-04-18 12:51:17,963 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 12:51:17,965 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 12:51:17,966 - INFO - Query classified as sql with confidence 0.9
2025-04-18 12:51:17,967 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 12:51:17,969 - DEBUG - Session ID: sess_20250418125117_09173d46
2025-04-18 12:51:17,970 - DEBUG - Getting context for agent: sql
2025-04-18 12:51:17,971 - INFO - Calling sql agent handler
2025-04-18 12:51:17,972 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418125117_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T12:51:17.971589', 'is_new_session': False}}
2025-04-18 12:51:19,947 - INFO - Received response from sql agent
2025-04-18 12:51:19,948 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 12:51:27,960 - DEBUG - Classifying query: doctor angella webb
2025-04-18 12:51:27,962 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-18 12:51:27,964 - INFO - Query classified as rag with confidence 0.7
2025-04-18 12:51:27,965 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 12:51:27,967 - DEBUG - Session ID: sess_20250418125127_e4364c25
2025-04-18 12:51:27,968 - DEBUG - Getting context for agent: rag
2025-04-18 12:51:27,969 - INFO - Calling rag agent handler
2025-04-18 12:51:27,970 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418125127_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T12:51:27.969687', 'is_new_session': False}}
2025-04-18 12:51:37,266 - INFO - Received response from rag agent
2025-04-18 12:51:37,267 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T12:51:37.264222', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T12:51:37.264235'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 12:51:52,250 - DEBUG - Classifying query: i want to book an appointment with doctor angella webb
2025-04-18 12:51:52,252 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 12:51:52,253 - INFO - Query classified as sql with confidence 0.9
2025-04-18 12:51:52,255 - INFO - Routing query to sql agent: I want to book an appointment with Doctor Angella Webb
2025-04-18 12:51:52,257 - DEBUG - Session ID: sess_20250418125152_21647770
2025-04-18 12:51:52,258 - DEBUG - Getting context for agent: sql
2025-04-18 12:51:52,260 - INFO - Calling sql agent handler
2025-04-18 12:51:52,261 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250418125152_21647770', 'department': 'sql', 'timestamp': '2025-04-18T12:51:52.259929', 'is_new_session': False}}
2025-04-18 12:51:54,084 - INFO - Received response from sql agent
2025-04-18 12:51:54,086 - DEBUG - Agent response: {'response': 'When would you like to schedule your appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 12:52:04,701 - DEBUG - Classifying query: friday 14:00
2025-04-18 12:52:04,702 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-18 12:52:04,704 - INFO - Query classified as rag with confidence 0.7
2025-04-18 12:52:04,706 - INFO - Routing query to rag agent: Friday 14:00
2025-04-18 12:52:04,707 - DEBUG - Session ID: sess_20250418125204_5948324b
2025-04-18 12:52:04,709 - DEBUG - Getting context for agent: rag
2025-04-18 12:52:04,710 - INFO - Calling rag agent handler
2025-04-18 12:52:04,711 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418125204_5948324b', 'department': 'rag', 'timestamp': '2025-04-18T12:52:04.710136', 'is_new_session': False}}
2025-04-18 12:52:09,663 - INFO - Received response from rag agent
2025-04-18 12:52:09,666 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about appointments or scheduling times in the provided documents.  \n\nWould you like me to help you find the hospital's general contact information?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T12:52:09.655931', 'chat_history': [{'query': 'Friday 14:00', 'response': "I can help with that!\n\nI couldn't find specific information about appointments or scheduling times in the provided documents.  \n\nWould you like me to help you find the hospital's general contact information?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T12:52:09.655972'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 12:54:59,525 - INFO - Starting agent initialization...
2025-04-18 12:54:59,526 - DEBUG - Environment variables verified
2025-04-18 12:54:59,527 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 12:55:17,867 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 12:55:17,868 - DEBUG - Verifying agent interfaces...
2025-04-18 12:55:17,871 - ERROR - Critical: sql agent verification failed!
2025-04-18 12:55:17,873 - INFO - rag agent ready
2025-04-18 12:55:17,874 - INFO - graph agent ready
2025-04-18 12:55:17,875 - DEBUG - Agent verification complete
2025-04-18 12:55:17,876 - INFO - All agents initialized successfully
2025-04-18 12:55:26,929 - DEBUG - Created new session: sess_20250418125526_09173d46
2025-04-18 12:55:26,931 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 12:55:26,933 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 12:55:26,934 - INFO - Query classified as sql with confidence 0.9
2025-04-18 12:55:26,936 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 12:55:26,937 - DEBUG - Session ID: sess_20250418125526_09173d46
2025-04-18 12:55:26,939 - DEBUG - Getting context for agent: sql
2025-04-18 12:55:26,940 - INFO - Calling sql agent handler
2025-04-18 12:55:26,941 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418125526_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T12:55:26.940087', 'is_new_session': False}}
2025-04-18 12:55:28,426 - INFO - Received response from sql agent
2025-04-18 12:55:28,429 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 12:55:36,630 - DEBUG - Using existing active session: sess_20250418125526_09173d46
2025-04-18 12:55:36,632 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 12:55:36,633 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 12:55:36,634 - DEBUG - Session ID: sess_20250418125526_09173d46
2025-04-18 12:55:36,636 - DEBUG - Maintaining context for active session: sess_20250418125526_09173d46
2025-04-18 12:55:36,637 - DEBUG - Getting context for agent: sql
2025-04-18 12:55:36,638 - INFO - Calling sql agent handler
2025-04-18 12:55:36,640 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418125526_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T12:55:36.638795', 'is_new_session': False}}
2025-04-18 12:55:37,649 - INFO - Received response from sql agent
2025-04-18 12:55:37,654 - DEBUG - Agent response: {'response': "Appointment system error: Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 12:58:29,742 - INFO - Starting agent initialization...
2025-04-18 12:58:29,743 - DEBUG - Environment variables verified
2025-04-18 12:58:29,744 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 12:58:42,498 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 12:58:42,500 - ERROR - Failed to load agents: ['sql']
2025-04-18 12:58:42,501 - ERROR - Agent loading failure details:
2025-04-18 12:58:42,504 - ERROR - sql loading traceback:
2025-04-18 12:58:42,507 - ERROR - NoneType: None

2025-04-18 12:58:42,510 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 12:58:42,512 - ERROR - Full initialization traceback:
2025-04-18 12:58:42,516 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 12:58:42,523 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 12:58:42,528 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 611, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 13:00:33,062 - INFO - Starting agent initialization...
2025-04-18 13:00:33,063 - DEBUG - Environment variables verified
2025-04-18 13:00:33,064 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 13:00:45,517 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 13:00:45,519 - ERROR - Failed to load agents: ['sql']
2025-04-18 13:00:45,520 - ERROR - Agent loading failure details:
2025-04-18 13:00:45,521 - ERROR - sql loading traceback:
2025-04-18 13:00:45,523 - ERROR - NoneType: None

2025-04-18 13:00:45,524 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 13:00:45,525 - ERROR - Full initialization traceback:
2025-04-18 13:00:45,528 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 13:00:45,532 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 13:00:45,536 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 611, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 13:02:51,860 - INFO - Starting agent initialization...
2025-04-18 13:02:51,861 - DEBUG - Environment variables verified
2025-04-18 13:02:51,862 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 13:03:06,336 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 13:03:06,338 - DEBUG - Verifying agent interfaces...
2025-04-18 13:03:06,341 - ERROR - Critical: sql agent verification failed!
2025-04-18 13:03:06,342 - INFO - rag agent ready
2025-04-18 13:03:06,343 - INFO - graph agent ready
2025-04-18 13:03:06,344 - DEBUG - Agent verification complete
2025-04-18 13:03:06,345 - INFO - All agents initialized successfully
2025-04-18 13:03:10,318 - DEBUG - Created new session: sess_20250418130310_09173d46
2025-04-18 13:03:10,319 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 13:03:10,321 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 13:03:10,322 - INFO - Query classified as sql with confidence 0.9
2025-04-18 13:03:10,324 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 13:03:10,325 - DEBUG - Session ID: sess_20250418130310_09173d46
2025-04-18 13:03:10,326 - DEBUG - Getting context for agent: sql
2025-04-18 13:03:10,328 - INFO - Calling sql agent handler
2025-04-18 13:03:10,329 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418130310_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:03:10.328083', 'is_new_session': False}}
2025-04-18 13:03:11,961 - INFO - Received response from sql agent
2025-04-18 13:03:11,963 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 13:03:18,791 - DEBUG - Using existing active session: sess_20250418130310_09173d46
2025-04-18 13:03:18,792 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 13:03:18,794 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 13:03:18,795 - DEBUG - Session ID: sess_20250418130310_09173d46
2025-04-18 13:03:18,796 - DEBUG - Maintaining context for active session: sess_20250418130310_09173d46
2025-04-18 13:03:18,798 - DEBUG - Getting context for agent: sql
2025-04-18 13:03:18,799 - INFO - Calling sql agent handler
2025-04-18 13:03:18,801 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418130310_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:03:18.799699', 'is_new_session': False}}
2025-04-18 13:03:20,852 - INFO - Received response from sql agent
2025-04-18 13:03:20,855 - DEBUG - Agent response: {'response': 'When would you like to schedule your appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 13:03:31,777 - DEBUG - Using existing active session: sess_20250418130310_09173d46
2025-04-18 13:03:31,778 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 13:03:31,780 - INFO - Routing query to sql agent: Friday 14:00
2025-04-18 13:03:31,781 - DEBUG - Session ID: sess_20250418130310_09173d46
2025-04-18 13:03:31,782 - DEBUG - Maintaining context for active session: sess_20250418130310_09173d46
2025-04-18 13:03:31,784 - DEBUG - Getting context for agent: sql
2025-04-18 13:03:31,785 - INFO - Calling sql agent handler
2025-04-18 13:03:31,786 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418130310_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:03:31.785479', 'is_new_session': False}}
2025-04-18 13:03:33,625 - INFO - Received response from sql agent
2025-04-18 13:03:33,627 - DEBUG - Agent response: {'response': "I see that Doctor Angella Webb has an appointment slot available on Friday at 14:00. I'll create your appointment with Doctor Angella Webb on Friday at 14:00. Is this correct?", 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 13:03:44,094 - DEBUG - Using existing active session: sess_20250418130310_09173d46
2025-04-18 13:03:44,096 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 13:03:44,097 - INFO - Routing query to sql agent: Yes
2025-04-18 13:03:44,098 - DEBUG - Session ID: sess_20250418130310_09173d46
2025-04-18 13:03:44,099 - DEBUG - Maintaining context for active session: sess_20250418130310_09173d46
2025-04-18 13:03:44,101 - DEBUG - Getting context for agent: sql
2025-04-18 13:03:44,102 - INFO - Calling sql agent handler
2025-04-18 13:03:44,103 - DEBUG - Query data: {'text': 'Yes', 'context': {'session_id': 'sess_20250418130310_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:03:44.102352', 'is_new_session': False}}
2025-04-18 13:03:46,110 - INFO - Received response from sql agent
2025-04-18 13:03:46,112 - DEBUG - Agent response: {'response': 'Your appointment with Doctor Angella Webb is confirmed for Friday at 14:00. Would you like to register as a patient or do you already have a patient ID?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 13:04:07,520 - DEBUG - Using existing active session: sess_20250418130310_09173d46
2025-04-18 13:04:07,521 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 13:04:07,522 - INFO - Routing query to sql agent: i want to register as a patient
2025-04-18 13:04:07,524 - DEBUG - Session ID: sess_20250418130310_09173d46
2025-04-18 13:04:07,525 - DEBUG - Maintaining context for active session: sess_20250418130310_09173d46
2025-04-18 13:04:07,526 - DEBUG - Getting context for agent: sql
2025-04-18 13:04:07,527 - INFO - Calling sql agent handler
2025-04-18 13:04:07,528 - DEBUG - Query data: {'text': 'i want to register as a patient', 'context': {'session_id': 'sess_20250418130310_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:04:07.527821', 'is_new_session': False}}
2025-04-18 13:04:08,455 - INFO - Received response from sql agent
2025-04-18 13:04:08,458 - DEBUG - Agent response: {'response': "Appointment system error: Too many arguments to single-input tool Register Patient.\n                Consider using StructuredTool instead. Args: ['unique_id', 'user_name', 'user_gender', 'user_phone', 'user_age', 'user_address']. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 13:07:42,233 - INFO - Starting agent initialization...
2025-04-18 13:07:42,235 - DEBUG - Environment variables verified
2025-04-18 13:07:42,236 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 13:08:01,760 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 13:08:01,761 - DEBUG - Verifying agent interfaces...
2025-04-18 13:08:01,765 - ERROR - Critical: sql agent verification failed!
2025-04-18 13:08:01,766 - INFO - rag agent ready
2025-04-18 13:08:01,767 - INFO - graph agent ready
2025-04-18 13:08:01,769 - DEBUG - Agent verification complete
2025-04-18 13:08:01,770 - INFO - All agents initialized successfully
2025-04-18 13:08:08,984 - DEBUG - Created new session: sess_20250418130808_33d8eac5
2025-04-18 13:08:08,985 - DEBUG - Classifying query: i want to register as a patient
2025-04-18 13:08:08,987 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-18 13:08:08,989 - INFO - Query classified as rag with confidence 0.7
2025-04-18 13:08:08,991 - INFO - Routing query to rag agent: i want to register as a patient
2025-04-18 13:08:08,992 - DEBUG - Session ID: sess_20250418130808_33d8eac5
2025-04-18 13:08:08,993 - DEBUG - Getting context for agent: rag
2025-04-18 13:08:08,995 - INFO - Calling rag agent handler
2025-04-18 13:08:08,996 - DEBUG - Query data: {'text': 'i want to register as a patient', 'context': {'session_id': 'sess_20250418130808_33d8eac5', 'department': 'rag', 'timestamp': '2025-04-18T13:08:08.994981', 'is_new_session': False}}
2025-04-18 13:08:19,047 - INFO - Received response from rag agent
2025-04-18 13:08:23,816 - DEBUG - Created new session: sess_20250418130823_09173d46
2025-04-18 13:08:23,817 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 13:08:23,819 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 13:08:23,820 - INFO - Query classified as sql with confidence 0.9
2025-04-18 13:08:23,822 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 13:08:23,823 - DEBUG - Session ID: sess_20250418130823_09173d46
2025-04-18 13:08:23,825 - DEBUG - Getting context for agent: sql
2025-04-18 13:08:23,826 - INFO - Calling sql agent handler
2025-04-18 13:08:23,827 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418130823_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T13:08:23.826503', 'is_new_session': False}}
2025-04-18 13:08:24,886 - INFO - Received response from sql agent
2025-04-18 13:08:24,890 - DEBUG - Agent response: {'response': "Appointment system error: AppointmentBookingTool.invoke() got an unexpected keyword argument 'context'. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 14:14:48,409 - INFO - Starting agent initialization...
2025-04-18 14:14:48,411 - DEBUG - Environment variables verified
2025-04-18 14:14:48,412 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:15:03,524 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:15:03,526 - DEBUG - Verifying agent interfaces...
2025-04-18 14:15:03,531 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:15:03,533 - INFO - rag agent ready
2025-04-18 14:15:03,534 - INFO - graph agent ready
2025-04-18 14:15:03,536 - DEBUG - Agent verification complete
2025-04-18 14:15:03,537 - INFO - All agents initialized successfully
2025-04-18 14:15:14,321 - DEBUG - Created new session: sess_20250418141514_09173d46
2025-04-18 14:15:14,323 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 14:15:14,325 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:15:14,327 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:15:14,329 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:15:14,330 - DEBUG - Session ID: sess_20250418141514_09173d46
2025-04-18 14:15:14,332 - DEBUG - Getting context for agent: sql
2025-04-18 14:15:14,334 - INFO - Calling sql agent handler
2025-04-18 14:15:14,335 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418141514_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:15:14.334069', 'is_new_session': False}}
2025-04-18 14:15:16,692 - INFO - Received response from sql agent
2025-04-18 14:15:16,694 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:15:26,069 - DEBUG - Using existing active session: sess_20250418141514_09173d46
2025-04-18 14:15:26,071 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:15:26,073 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 14:15:26,074 - DEBUG - Session ID: sess_20250418141514_09173d46
2025-04-18 14:15:26,076 - DEBUG - Maintaining context for active session: sess_20250418141514_09173d46
2025-04-18 14:15:26,078 - DEBUG - Getting context for agent: sql
2025-04-18 14:15:26,080 - INFO - Calling sql agent handler
2025-04-18 14:15:26,081 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418141514_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:15:26.079959', 'is_new_session': False}}
2025-04-18 14:15:27,598 - INFO - Received response from sql agent
2025-04-18 14:15:27,600 - DEBUG - Agent response: {'response': "Appointment system error: Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 14:16:55,455 - INFO - Starting agent initialization...
2025-04-18 14:16:55,456 - DEBUG - Environment variables verified
2025-04-18 14:16:55,457 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:17:14,467 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:17:14,469 - DEBUG - Verifying agent interfaces...
2025-04-18 14:17:14,472 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:17:14,479 - INFO - rag agent ready
2025-04-18 14:17:14,481 - INFO - graph agent ready
2025-04-18 14:17:14,483 - DEBUG - Agent verification complete
2025-04-18 14:17:14,484 - INFO - All agents initialized successfully
2025-04-18 14:17:26,555 - DEBUG - Created new session: sess_20250418141726_09173d46
2025-04-18 14:17:26,557 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 14:17:26,559 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:17:26,561 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:17:26,562 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:17:26,564 - DEBUG - Session ID: sess_20250418141726_09173d46
2025-04-18 14:17:26,566 - DEBUG - Getting context for agent: sql
2025-04-18 14:17:26,567 - INFO - Calling sql agent handler
2025-04-18 14:17:26,568 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418141726_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:17:26.567611', 'is_new_session': False}}
2025-04-18 14:17:28,433 - INFO - Received response from sql agent
2025-04-18 14:17:28,436 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:17:40,497 - DEBUG - Using existing active session: sess_20250418141726_09173d46
2025-04-18 14:17:40,499 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:17:40,500 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 14:17:40,501 - DEBUG - Session ID: sess_20250418141726_09173d46
2025-04-18 14:17:40,503 - DEBUG - Maintaining context for active session: sess_20250418141726_09173d46
2025-04-18 14:17:40,504 - DEBUG - Getting context for agent: sql
2025-04-18 14:17:40,506 - INFO - Calling sql agent handler
2025-04-18 14:17:40,507 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418141726_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:17:40.506002', 'is_new_session': False}}
2025-04-18 14:17:42,939 - INFO - Received response from sql agent
2025-04-18 14:17:42,942 - DEBUG - Agent response: {'response': 'When would you like to schedule?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:17:58,109 - DEBUG - Using existing active session: sess_20250418141726_09173d46
2025-04-18 14:17:58,110 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:17:58,112 - INFO - Routing query to sql agent: Friday 14:00
2025-04-18 14:17:58,113 - DEBUG - Session ID: sess_20250418141726_09173d46
2025-04-18 14:17:58,114 - DEBUG - Maintaining context for active session: sess_20250418141726_09173d46
2025-04-18 14:17:58,115 - DEBUG - Getting context for agent: sql
2025-04-18 14:17:58,117 - INFO - Calling sql agent handler
2025-04-18 14:17:58,118 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418141726_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:17:58.117172', 'is_new_session': False}}
2025-04-18 14:18:00,111 - INFO - Received response from sql agent
2025-04-18 14:18:00,114 - DEBUG - Agent response: {'response': "Is this appointment for a new patient or an existing one? If new, I'll need some additional information to register them.", 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:18:03,593 - DEBUG - Using existing active session: sess_20250418141726_09173d46
2025-04-18 14:18:03,595 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:18:03,596 - INFO - Routing query to sql agent: Yes
2025-04-18 14:18:03,597 - DEBUG - Session ID: sess_20250418141726_09173d46
2025-04-18 14:18:03,598 - DEBUG - Maintaining context for active session: sess_20250418141726_09173d46
2025-04-18 14:18:03,600 - DEBUG - Getting context for agent: sql
2025-04-18 14:18:03,601 - INFO - Calling sql agent handler
2025-04-18 14:18:03,602 - DEBUG - Query data: {'text': 'Yes', 'context': {'session_id': 'sess_20250418141726_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:18:03.601713', 'is_new_session': False}}
2025-04-18 14:18:04,640 - INFO - Received response from sql agent
2025-04-18 14:18:04,644 - DEBUG - Agent response: {'response': "Appointment system error: PatientRegistrationTool.invoke() got an unexpected keyword argument 'input_str'. Did you mean 'input_data'?. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 14:21:12,198 - INFO - Starting agent initialization...
2025-04-18 14:21:12,232 - DEBUG - Environment variables verified
2025-04-18 14:21:12,237 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:21:35,764 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:21:35,766 - DEBUG - Verifying agent interfaces...
2025-04-18 14:21:35,771 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:21:35,773 - INFO - rag agent ready
2025-04-18 14:21:35,775 - INFO - graph agent ready
2025-04-18 14:21:35,776 - DEBUG - Agent verification complete
2025-04-18 14:21:35,778 - INFO - All agents initialized successfully
2025-04-18 14:21:40,953 - DEBUG - Created new session: sess_20250418142140_09173d46
2025-04-18 14:21:40,954 - DEBUG - Classifying query: i want to book an appointment
2025-04-18 14:21:40,956 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:21:40,957 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:21:40,959 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:21:40,960 - DEBUG - Session ID: sess_20250418142140_09173d46
2025-04-18 14:21:40,961 - DEBUG - Getting context for agent: sql
2025-04-18 14:21:40,963 - INFO - Calling sql agent handler
2025-04-18 14:21:40,964 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418142140_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:21:40.963048', 'is_new_session': False}}
2025-04-18 14:21:43,792 - INFO - Received response from sql agent
2025-04-18 14:21:43,795 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:21:48,313 - DEBUG - Using existing active session: sess_20250418142140_09173d46
2025-04-18 14:21:48,315 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:21:48,316 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 14:21:48,317 - DEBUG - Session ID: sess_20250418142140_09173d46
2025-04-18 14:21:48,318 - DEBUG - Maintaining context for active session: sess_20250418142140_09173d46
2025-04-18 14:21:48,319 - DEBUG - Getting context for agent: sql
2025-04-18 14:21:48,320 - INFO - Calling sql agent handler
2025-04-18 14:21:48,321 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418142140_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:21:48.320531', 'is_new_session': False}}
2025-04-18 14:21:51,057 - INFO - Received response from sql agent
2025-04-18 14:21:51,059 - DEBUG - Agent response: {'response': 'When would you like to schedule?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:22:02,312 - DEBUG - Using existing active session: sess_20250418142140_09173d46
2025-04-18 14:22:02,314 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:22:02,315 - INFO - Routing query to sql agent: Friday 14:00
2025-04-18 14:22:02,316 - DEBUG - Session ID: sess_20250418142140_09173d46
2025-04-18 14:22:02,318 - DEBUG - Maintaining context for active session: sess_20250418142140_09173d46
2025-04-18 14:22:02,320 - DEBUG - Getting context for agent: sql
2025-04-18 14:22:02,321 - INFO - Calling sql agent handler
2025-04-18 14:22:02,322 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418142140_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:22:02.321181', 'is_new_session': False}}
2025-04-18 14:22:04,567 - INFO - Received response from sql agent
2025-04-18 14:22:04,570 - DEBUG - Agent response: {'response': "Appointment system error: PatientRegistrationTool.invoke() got an unexpected keyword argument 'input_str'. Did you mean 'input_data'?. Please try again later.", 'context_updates': {}, 'suggested_next': 'HUMAN', 'status': 'resolved'}
2025-04-18 14:24:58,825 - INFO - Starting agent initialization...
2025-04-18 14:24:58,826 - DEBUG - Environment variables verified
2025-04-18 14:24:58,827 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:25:20,112 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:25:20,114 - DEBUG - Verifying agent interfaces...
2025-04-18 14:25:20,116 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:25:20,118 - INFO - rag agent ready
2025-04-18 14:25:20,119 - INFO - graph agent ready
2025-04-18 14:25:20,120 - DEBUG - Agent verification complete
2025-04-18 14:25:20,121 - INFO - All agents initialized successfully
2025-04-18 14:25:32,591 - DEBUG - Created new session: sess_20250418142532_21647770
2025-04-18 14:25:32,592 - DEBUG - Classifying query: i want to book an appointment with doctor angella webb
2025-04-18 14:25:32,594 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:25:32,596 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:25:32,597 - INFO - Routing query to sql agent: I want to book an appointment with Doctor Angella Webb
2025-04-18 14:25:32,598 - DEBUG - Session ID: sess_20250418142532_21647770
2025-04-18 14:25:32,600 - DEBUG - Getting context for agent: sql
2025-04-18 14:25:32,601 - INFO - Calling sql agent handler
2025-04-18 14:25:32,603 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250418142532_21647770', 'department': 'sql', 'timestamp': '2025-04-18T14:25:32.601560', 'is_new_session': False}}
2025-04-18 14:25:35,645 - INFO - Received response from sql agent
2025-04-18 14:25:35,647 - DEBUG - Agent response: {'response': 'When would you like to schedule the appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': 'SQL', 'status': 'active'}
2025-04-18 14:25:44,298 - DEBUG - Using existing active session: sess_20250418142532_21647770
2025-04-18 14:25:44,300 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:25:44,301 - INFO - Routing query to sql agent: Friday 14:00
2025-04-18 14:25:44,303 - DEBUG - Session ID: sess_20250418142532_21647770
2025-04-18 14:25:44,304 - DEBUG - Maintaining context for active session: sess_20250418142532_21647770
2025-04-18 14:25:44,306 - DEBUG - Getting context for agent: sql
2025-04-18 14:25:44,307 - INFO - Calling sql agent handler
2025-04-18 14:25:44,308 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418142532_21647770', 'department': 'sql', 'timestamp': '2025-04-18T14:25:44.307103', 'is_new_session': False}}
2025-04-18 14:25:46,672 - INFO - Received response from sql agent
2025-04-18 14:25:46,675 - DEBUG - Agent response: {'response': 'Is your appointment with Doctor Angella Webb on Friday at 14:00 confirmed?', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:25:55,354 - DEBUG - Using existing active session: sess_20250418142532_21647770
2025-04-18 14:25:55,355 - DEBUG - Status active - Continuing with same agent: sql
2025-04-18 14:25:55,356 - INFO - Routing query to sql agent: yes confirmed
2025-04-18 14:25:55,357 - DEBUG - Session ID: sess_20250418142532_21647770
2025-04-18 14:25:55,358 - DEBUG - Maintaining context for active session: sess_20250418142532_21647770
2025-04-18 14:25:55,360 - DEBUG - Getting context for agent: sql
2025-04-18 14:25:55,361 - INFO - Calling sql agent handler
2025-04-18 14:25:55,362 - DEBUG - Query data: {'text': 'yes confirmed', 'context': {'session_id': 'sess_20250418142532_21647770', 'department': 'sql', 'timestamp': '2025-04-18T14:25:55.361099', 'is_new_session': False}}
2025-04-18 14:25:58,447 - INFO - Received response from sql agent
2025-04-18 14:25:58,450 - DEBUG - Agent response: {'response': 'I apologize, but it seems like the system is requiring your patient details to complete the booking. Please provide your details (name, gender, phone, age, address) to finish the registration and confirm your appointment with Doctor Angella Webb on Friday at 14:00.', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:32:16,108 - INFO - Starting agent initialization...
2025-04-18 14:32:16,109 - DEBUG - Environment variables verified
2025-04-18 14:32:16,109 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:32:33,478 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:32:33,479 - DEBUG - Verifying agent interfaces...
2025-04-18 14:32:33,482 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:32:33,484 - INFO - rag agent ready
2025-04-18 14:32:33,485 - INFO - graph agent ready
2025-04-18 14:32:33,486 - DEBUG - Agent verification complete
2025-04-18 14:32:33,487 - INFO - All agents initialized successfully
2025-04-18 14:32:38,719 - DEBUG - Created new session: sess_20250418143238_21647770
2025-04-18 14:32:38,720 - DEBUG - Classifying query: i want to book an appointment with doctor angella webb
2025-04-18 14:32:38,722 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:32:38,724 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:32:38,725 - INFO - Routing query to sql agent: I want to book an appointment with Doctor Angella Webb
2025-04-18 14:32:38,727 - DEBUG - Session ID: sess_20250418143238_21647770
2025-04-18 14:32:38,728 - DEBUG - Getting context for agent: sql
2025-04-18 14:32:38,729 - INFO - Calling sql agent handler
2025-04-18 14:32:38,730 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250418143238_21647770', 'department': 'sql', 'timestamp': '2025-04-18T14:32:38.729658', 'is_new_session': False}}
2025-04-18 14:32:38,750 - INFO - Received response from sql agent
2025-04-18 14:32:38,751 - DEBUG - Agent response: {'response': "I encountered an error: name 'history' is not defined", 'context_updates': {}, 'suggested_next': None, 'status': 'error'}
2025-04-18 14:36:14,441 - INFO - Starting agent initialization...
2025-04-18 14:36:14,442 - DEBUG - Environment variables verified
2025-04-18 14:36:14,442 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:37:04,078 - DEBUG - Agent loading results: [False, False, True]
2025-04-18 14:37:04,079 - ERROR - Failed to load agents: ['sql', 'rag']
2025-04-18 14:37:04,079 - ERROR - Agent loading failure details:
2025-04-18 14:37:04,080 - ERROR - sql loading traceback:
2025-04-18 14:37:04,080 - ERROR - NoneType: None

2025-04-18 14:37:04,081 - ERROR - rag loading traceback:
2025-04-18 14:37:04,081 - ERROR - NoneType: None

2025-04-18 14:37:04,082 - ERROR - Critical initialization failure: Failed to load agents: ['sql', 'rag']
2025-04-18 14:37:04,082 - ERROR - Full initialization traceback:
2025-04-18 14:37:04,083 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-18 14:37:04,085 - ERROR - Critical error: Failed to load agents: ['sql', 'rag']
2025-04-18 14:37:04,086 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 611, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 176, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 202, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql', 'rag']

2025-04-18 14:38:55,676 - INFO - Starting agent initialization...
2025-04-18 14:38:55,677 - DEBUG - Environment variables verified
2025-04-18 14:38:55,678 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:39:04,937 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:39:04,938 - DEBUG - Verifying agent interfaces...
2025-04-18 14:39:04,939 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:39:04,940 - INFO - rag agent ready
2025-04-18 14:39:04,941 - INFO - graph agent ready
2025-04-18 14:39:04,941 - DEBUG - Agent verification complete
2025-04-18 14:39:04,942 - INFO - All agents initialized successfully
2025-04-18 14:39:16,760 - DEBUG - Created new session: sess_20250418143916_21647770
2025-04-18 14:39:16,762 - DEBUG - Classifying query: i want to book an appointment with doctor angella webb
2025-04-18 14:39:16,764 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:39:16,765 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:39:16,767 - INFO - Routing query to sql agent: I want to book an appointment with Doctor Angella Webb
2025-04-18 14:39:16,768 - DEBUG - Session ID: sess_20250418143916_21647770
2025-04-18 14:39:16,770 - DEBUG - Getting context for agent: sql
2025-04-18 14:39:16,771 - INFO - Calling sql agent handler
2025-04-18 14:39:16,772 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250418143916_21647770', 'department': 'sql', 'timestamp': '2025-04-18T14:39:16.771189', 'is_new_session': False}}
2025-04-18 14:39:19,274 - INFO - Received response from sql agent
2025-04-18 14:39:19,275 - DEBUG - Agent response: {'response': 'When would you like to schedule your appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:39:22,805 - DEBUG - Created new session: sess_20250418143922_5948324b
2025-04-18 14:39:22,806 - DEBUG - Classifying query: friday 14:00
2025-04-18 14:39:22,807 - ERROR - Error in LLM classification: 'ChatGroq' object has no attribute 'chat'
2025-04-18 14:39:22,808 - INFO - Query classified as rag with confidence 0.7
2025-04-18 14:39:22,810 - INFO - Routing query to rag agent: Friday 14:00
2025-04-18 14:39:22,810 - DEBUG - Session ID: sess_20250418143922_5948324b
2025-04-18 14:39:22,811 - DEBUG - Getting context for agent: rag
2025-04-18 14:39:22,812 - INFO - Calling rag agent handler
2025-04-18 14:39:22,812 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418143922_5948324b', 'department': 'rag', 'timestamp': '2025-04-18T14:39:22.812145', 'is_new_session': False}}
2025-04-18 14:39:32,145 - INFO - Received response from rag agent
2025-04-18 14:46:12,659 - INFO - Starting agent initialization...
2025-04-18 14:46:12,660 - DEBUG - Environment variables verified
2025-04-18 14:46:12,660 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:46:22,323 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:46:22,324 - DEBUG - Verifying agent interfaces...
2025-04-18 14:46:22,326 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:46:22,327 - INFO - rag agent ready
2025-04-18 14:46:22,327 - INFO - graph agent ready
2025-04-18 14:46:22,328 - DEBUG - Agent verification complete
2025-04-18 14:46:22,329 - INFO - All agents initialized successfully
2025-04-18 14:46:26,189 - DEBUG - Created new session: sess_20250418144626_09173d46
2025-04-18 14:46:26,190 - DEBUG - Classifying query: I want to book an appointment
2025-04-18 14:46:26,191 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:46:26,193 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:46:26,193 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:46:26,194 - DEBUG - Session ID: sess_20250418144626_09173d46
2025-04-18 14:46:26,195 - DEBUG - Getting context for agent: sql
2025-04-18 14:46:26,195 - INFO - Calling sql agent handler
2025-04-18 14:46:26,195 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418144626_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:46:26.195546', 'is_new_session': True}}
2025-04-18 14:46:30,387 - INFO - Received response from sql agent
2025-04-18 14:46:30,388 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:46:37,669 - DEBUG - Created new session: sess_20250418144637_e4364c25
2025-04-18 14:46:37,670 - DEBUG - Classifying query: Doctor Angella Webb
2025-04-18 14:46:37,672 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 14:46:37,672 - INFO - Query classified as rag with confidence 0.7
2025-04-18 14:46:37,673 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 14:46:37,674 - DEBUG - Session ID: sess_20250418144637_e4364c25
2025-04-18 14:46:37,674 - DEBUG - Getting context for agent: rag
2025-04-18 14:46:37,675 - INFO - Calling rag agent handler
2025-04-18 14:46:37,676 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418144637_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T14:46:37.675515', 'is_new_session': True}}
2025-04-18 14:46:46,607 - INFO - Received response from rag agent
2025-04-18 14:46:46,608 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T14:46:46.606728', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T14:46:46.606736'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:50:34,913 - DEBUG - Created new session: sess_20250418145034_8352ee44
2025-04-18 14:50:34,914 - DEBUG - Classifying query: What are the symptoms of gout
2025-04-18 14:50:34,915 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 14:50:34,915 - INFO - Query classified as rag with confidence 0.7
2025-04-18 14:50:34,916 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-18 14:50:34,917 - DEBUG - Session ID: sess_20250418145034_8352ee44
2025-04-18 14:50:34,917 - DEBUG - Getting context for agent: rag
2025-04-18 14:50:34,918 - INFO - Calling rag agent handler
2025-04-18 14:50:34,918 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250418145034_8352ee44', 'department': 'rag', 'timestamp': '2025-04-18T14:50:34.918357', 'is_new_session': True}}
2025-04-18 14:50:40,824 - INFO - Received response from rag agent
2025-04-18 14:50:40,825 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T14:50:40.819537', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the provided documents.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T14:50:40.819579'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:50:46,344 - INFO - Starting agent initialization...
2025-04-18 14:50:46,345 - DEBUG - Environment variables verified
2025-04-18 14:50:46,345 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:50:57,837 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:50:57,837 - DEBUG - Verifying agent interfaces...
2025-04-18 14:50:57,838 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:50:57,839 - INFO - rag agent ready
2025-04-18 14:50:57,839 - INFO - graph agent ready
2025-04-18 14:50:57,839 - DEBUG - Agent verification complete
2025-04-18 14:50:57,840 - INFO - All agents initialized successfully
2025-04-18 14:51:02,619 - DEBUG - Created new session: sess_20250418145102_09173d46
2025-04-18 14:51:02,621 - DEBUG - Classifying query: I want to book an appointment
2025-04-18 14:51:02,622 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:51:02,624 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:51:02,625 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:51:02,626 - DEBUG - Session ID: sess_20250418145102_09173d46
2025-04-18 14:51:02,628 - DEBUG - Getting context for agent: sql
2025-04-18 14:51:02,630 - INFO - Calling sql agent handler
2025-04-18 14:51:02,631 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418145102_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:51:02.629952', 'is_new_session': True}}
2025-04-18 14:51:06,275 - INFO - Received response from sql agent
2025-04-18 14:51:06,276 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:51:18,875 - DEBUG - Created new session: sess_20250418145118_e4364c25
2025-04-18 14:51:18,877 - DEBUG - Classifying query: Doctor Angella Webb
2025-04-18 14:51:18,879 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 14:51:18,881 - INFO - Query classified as rag with confidence 0.7
2025-04-18 14:51:18,882 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 14:51:18,884 - DEBUG - Session ID: sess_20250418145118_e4364c25
2025-04-18 14:51:18,885 - DEBUG - Getting context for agent: rag
2025-04-18 14:51:18,886 - INFO - Calling rag agent handler
2025-04-18 14:51:18,887 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418145118_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T14:51:18.886443', 'is_new_session': True}}
2025-04-18 14:51:27,247 - INFO - Received response from rag agent
2025-04-18 14:51:27,248 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about her using other resources?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T14:51:27.245379', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about her using other resources?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T14:51:27.245389'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 14:54:13,759 - INFO - Starting agent initialization...
2025-04-18 14:54:13,760 - DEBUG - Environment variables verified
2025-04-18 14:54:13,760 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 14:54:22,885 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 14:54:22,886 - DEBUG - Verifying agent interfaces...
2025-04-18 14:54:22,887 - ERROR - Critical: sql agent verification failed!
2025-04-18 14:54:22,888 - INFO - rag agent ready
2025-04-18 14:54:22,889 - INFO - graph agent ready
2025-04-18 14:54:22,889 - DEBUG - Agent verification complete
2025-04-18 14:54:22,890 - INFO - All agents initialized successfully
2025-04-18 14:54:33,297 - DEBUG - Created new session: sess_20250418145433_09173d46
2025-04-18 14:54:33,298 - DEBUG - Classifying query: I want to book an appointment
2025-04-18 14:54:33,300 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 14:54:33,301 - INFO - Query classified as sql with confidence 0.9
2025-04-18 14:54:33,303 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 14:54:33,304 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:54:33,305 - DEBUG - Getting context for agent: sql
2025-04-18 14:54:33,306 - INFO - Calling sql agent handler
2025-04-18 14:54:33,308 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:54:33.306828', 'is_new_session': True}}
2025-04-18 14:54:36,035 - INFO - Received response from sql agent
2025-04-18 14:54:36,036 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:54:39,187 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:54:39,189 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:54:39,192 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:54:39,193 - INFO - Routing query to sql agent: Doctor Angella Webb
2025-04-18 14:54:39,194 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:54:39,195 - DEBUG - Getting context for agent: sql
2025-04-18 14:54:39,196 - INFO - Calling sql agent handler
2025-04-18 14:54:39,196 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:54:39.196056', 'is_new_session': False}}
2025-04-18 14:54:42,668 - INFO - Received response from sql agent
2025-04-18 14:54:42,670 - DEBUG - Agent response: {'response': 'When would you like to schedule the appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:54:52,201 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:54:52,203 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:54:52,204 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:54:52,205 - INFO - Routing query to sql agent: Friday 14:00
2025-04-18 14:54:52,206 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:54:52,207 - DEBUG - Getting context for agent: sql
2025-04-18 14:54:52,209 - INFO - Calling sql agent handler
2025-04-18 14:54:52,209 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:54:52.208938', 'is_new_session': False}}
2025-04-18 14:54:54,601 - INFO - Received response from sql agent
2025-04-18 14:54:54,602 - DEBUG - Agent response: {'response': 'I need to confirm your details before finalizing the appointment. Please provide your name, gender, phone, age, and address to register as a new patient.', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:55:26,430 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:55:26,431 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:55:26,433 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:55:26,434 - INFO - Routing query to sql agent: Farah ,female,phone,14,age
2025-04-18 14:55:26,435 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:55:26,436 - DEBUG - Getting context for agent: sql
2025-04-18 14:55:26,437 - INFO - Calling sql agent handler
2025-04-18 14:55:26,438 - DEBUG - Query data: {'text': 'Farah ,female,phone,14,age', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:55:26.437739', 'is_new_session': False}}
2025-04-18 14:55:30,077 - INFO - Received response from sql agent
2025-04-18 14:55:30,077 - DEBUG - Agent response: {'response': 'I apologize, but it seems like there was an issue with the registration and appointment booking process. Could you please provide your phone number and address to complete the registration? Additionally, I will need to confirm the appointment details with you again. Please let me know if you would like to proceed with the appointment booking.', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:55:56,356 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:55:56,358 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:55:56,359 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:55:56,360 - INFO - Routing query to sql agent: No I dont want to proceed with it
2025-04-18 14:55:56,362 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:55:56,363 - DEBUG - Getting context for agent: sql
2025-04-18 14:55:56,364 - INFO - Calling sql agent handler
2025-04-18 14:55:56,365 - DEBUG - Query data: {'text': 'No I dont want to proceed with it', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:55:56.364613', 'is_new_session': False}}
2025-04-18 14:55:57,616 - INFO - Received response from sql agent
2025-04-18 14:55:57,617 - DEBUG - Agent response: {'response': "The appointment has been cancelled. If you change your mind and want to book an appointment in the future, please let me know and I'll be happy to help.", 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:56:14,836 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:56:14,837 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:56:14,839 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:56:14,840 - INFO - Routing query to sql agent: What are the admission policies of your hospital
2025-04-18 14:56:14,841 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:56:14,843 - DEBUG - Getting context for agent: sql
2025-04-18 14:56:14,844 - INFO - Calling sql agent handler
2025-04-18 14:56:14,845 - DEBUG - Query data: {'text': 'What are the admission policies of your hospital', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:56:14.844292', 'is_new_session': False}}
2025-04-18 14:56:18,736 - INFO - Received response from sql agent
2025-04-18 14:56:18,736 - DEBUG - Agent response: {'response': "I can't answer that. Is there anything else I can help you with?", 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 14:56:30,619 - DEBUG - Using existing SQL session: sess_20250418145433_09173d46
2025-04-18 14:56:30,621 - DEBUG - Maintaining active SQL session: sess_20250418145433_09173d46
2025-04-18 14:56:30,622 - INFO - Query classified as sql with confidence 1.0
2025-04-18 14:56:30,623 - INFO - Routing query to sql agent: Admission policies of your hospital
2025-04-18 14:56:30,624 - DEBUG - Session ID: sess_20250418145433_09173d46
2025-04-18 14:56:30,626 - DEBUG - Getting context for agent: sql
2025-04-18 14:56:30,627 - INFO - Calling sql agent handler
2025-04-18 14:56:30,628 - DEBUG - Query data: {'text': 'Admission policies of your hospital', 'context': {'session_id': 'sess_20250418145433_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T14:56:30.627165', 'is_new_session': False}}
2025-04-18 14:56:54,279 - INFO - Received response from sql agent
2025-04-18 14:56:54,280 - DEBUG - Agent response: {'response': "I can't provide information about the admission policies of our hospital. If you have any other questions or need help with booking an appointment, I'd be happy to assist you.", 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 20:24:09,609 - INFO - Starting agent initialization...
2025-04-18 20:24:09,610 - DEBUG - Environment variables verified
2025-04-18 20:24:09,611 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 20:24:37,359 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 20:24:37,361 - DEBUG - Verifying agent interfaces...
2025-04-18 20:24:37,365 - ERROR - Critical: sql agent verification failed!
2025-04-18 20:24:37,366 - INFO - rag agent ready
2025-04-18 20:24:37,367 - INFO - graph agent ready
2025-04-18 20:24:37,368 - DEBUG - Agent verification complete
2025-04-18 20:24:37,369 - INFO - All agents initialized successfully
2025-04-18 20:24:51,472 - ERROR - Error processing query: 'HospitalRouter' object has no attribute 'process_query'
2025-04-18 20:24:51,478 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 534, in main
    result = await router.process_query(query)
                   ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HospitalRouter' object has no attribute 'process_query'

2025-04-18 20:26:01,667 - ERROR - Error in main loop: 
2025-04-18 20:26:01,673 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 524, in main
    return f"sess_{timestamp}_{query_hash}"
                    ^^^^^^^^^^^^^^
EOFError

2025-04-18 20:26:08,435 - INFO - Starting agent initialization...
2025-04-18 20:26:08,436 - DEBUG - Environment variables verified
2025-04-18 20:26:08,437 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 20:26:23,915 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 20:26:23,916 - DEBUG - Verifying agent interfaces...
2025-04-18 20:26:23,919 - ERROR - Critical: sql agent verification failed!
2025-04-18 20:26:23,920 - INFO - rag agent ready
2025-04-18 20:26:23,921 - INFO - graph agent ready
2025-04-18 20:26:23,922 - DEBUG - Agent verification complete
2025-04-18 20:26:23,923 - INFO - All agents initialized successfully
2025-04-18 20:26:38,484 - ERROR - Error processing query: cannot unpack non-iterable coroutine object
2025-04-18 20:26:38,488 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 392, in process_query
    department, _ = self.classify_query(query, current_department)
    ^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable coroutine object

2025-04-18 20:27:26,007 - ERROR - Error in main loop: 
2025-04-18 20:27:26,013 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 569, in main
    query = input("You: ").strip()
            ~~~~~^^^^^^^^^
EOFError

2025-04-18 20:27:33,669 - INFO - Starting agent initialization...
2025-04-18 20:27:33,670 - DEBUG - Environment variables verified
2025-04-18 20:27:33,671 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 20:27:48,374 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 20:27:48,375 - DEBUG - Verifying agent interfaces...
2025-04-18 20:27:48,378 - ERROR - Critical: sql agent verification failed!
2025-04-18 20:27:48,380 - INFO - rag agent ready
2025-04-18 20:27:48,381 - INFO - graph agent ready
2025-04-18 20:27:48,382 - DEBUG - Agent verification complete
2025-04-18 20:27:48,383 - INFO - All agents initialized successfully
2025-04-18 20:27:54,814 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 20:27:54,816 - INFO - Routing query to rag agent: What are he admission policies of your hosppital
2025-04-18 20:27:54,817 - DEBUG - Session ID: sess_20250418202754_97b46a93
2025-04-18 20:27:54,819 - DEBUG - Getting context for agent: rag
2025-04-18 20:27:54,820 - INFO - Calling rag agent handler
2025-04-18 20:27:54,821 - DEBUG - Query data: {'text': 'What are he admission policies of your hosppital', 'context': {'session_id': 'sess_20250418202754_97b46a93', 'department': 'rag', 'timestamp': '2025-04-18T20:27:54.820287', 'is_new_session': True}}
2025-04-18 20:28:07,078 - INFO - Received response from rag agent
2025-04-18 20:28:07,079 - DEBUG - Agent response: {'response': 'I can help with that!\n\nHi there! \n\nTo answer your question about admission policies, I\'ve looked at our "Hospital Admission Process" and "Admission Guidelines and Procedures" documents. \n\nAccording to "Admission Guidelines and Procedures", your doctor will let you know the date for hospitalization. If you need to be admitted after an outpatient appointment, your doctor will register your admission and the clinical section will contact you with the specific date and time. \n\n"Hospital Admission Process" tells us that on the day of your admission, you\'ll need to arrive at the Inpatients Reception with some necessary documents.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-18T20:28:07.068736', 'chat_history': [{'query': 'What are he admission policies of your hosppital', 'response': 'I can help with that!\n\nHi there! \n\nTo answer your question about admission policies, I\'ve looked at our "Hospital Admission Process" and "Admission Guidelines and Procedures" documents. \n\nAccording to "Admission Guidelines and Procedures", your doctor will let you know the date for hospitalization. If you need to be admitted after an outpatient appointment, your doctor will register your admission and the clinical section will contact you with the specific date and time. \n\n"Hospital Admission Process" tells us that on the day of your admission, you\'ll need to arrive at the Inpatients Reception with some necessary documents.  \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-18T20:28:07.068753'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 20:28:31,771 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 20:28:31,772 - INFO - Routing query to rag agent: What are the symptoms of gout
2025-04-18 20:28:31,774 - DEBUG - Session ID: sess_20250418202831_8352ee44
2025-04-18 20:28:31,775 - DEBUG - Getting context for agent: rag
2025-04-18 20:28:31,776 - INFO - Calling rag agent handler
2025-04-18 20:28:31,777 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250418202831_8352ee44', 'department': 'rag', 'timestamp': '2025-04-18T20:28:31.776549', 'is_new_session': True}}
2025-04-18 20:28:37,912 - INFO - Received response from rag agent
2025-04-18 20:28:37,915 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the documents I have access to.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T20:28:37.905833', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I can help with that!\n\nI couldn't find specific information about the symptoms of gout in the documents I have access to.  \n\nWould you like me to try finding that information elsewhere?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T20:28:37.905874'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 20:48:14,245 - ERROR - Error in main loop: 
2025-04-18 20:48:14,288 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 569, in main
    }
    
EOFError

2025-04-18 20:48:25,292 - INFO - Starting agent initialization...
2025-04-18 20:48:25,293 - DEBUG - Environment variables verified
2025-04-18 20:48:25,294 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 20:48:46,607 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 20:48:46,609 - DEBUG - Verifying agent interfaces...
2025-04-18 20:48:46,612 - ERROR - Critical: sql agent verification failed!
2025-04-18 20:48:46,613 - INFO - rag agent ready
2025-04-18 20:48:46,614 - INFO - graph agent ready
2025-04-18 20:48:46,616 - DEBUG - Agent verification complete
2025-04-18 20:48:46,617 - INFO - All agents initialized successfully
2025-04-18 20:48:49,156 - DEBUG - Query matched GRAPH keyword: symptom
2025-04-18 20:48:49,157 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-18 20:48:49,159 - DEBUG - Session ID: sess_20250418204849_8352ee44
2025-04-18 20:48:49,160 - DEBUG - Getting context for agent: graph
2025-04-18 20:48:49,162 - INFO - Calling graph agent handler
2025-04-18 20:48:49,163 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250418204849_8352ee44', 'department': 'graph', 'timestamp': '2025-04-18T20:48:49.162025', 'is_new_session': True}}
2025-04-18 20:48:54,255 - INFO - Received response from graph agent
2025-04-18 20:48:54,257 - DEBUG - Agent response: {'response': "I understand you're looking for information about gout. \n\nGout can cause some very uncomfortable symptoms.  The most common is a sudden, intense pain in your joints, especially your big toe. You might also notice swelling, redness, and warmth in the affected area.  \n\nIt's important to remember that everyone experiences gout differently, but these are some of the key things to look out for. \n\n\nIf you're experiencing any of these symptoms, please don't hesitate to contact your doctor or come to the hospital. We're here to help. \n\n", 'context_updates': {'last_interaction': '2025-04-18T20:48:54.255586', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I understand you're looking for information about gout. \n\nGout can cause some very uncomfortable symptoms.  The most common is a sudden, intense pain in your joints, especially your big toe. You might also notice swelling, redness, and warmth in the affected area.  \n\nIt's important to remember that everyone experiences gout differently, but these are some of the key things to look out for. \n\n\nIf you're experiencing any of these symptoms, please don't hesitate to contact your doctor or come to the hospital. We're here to help. \n\n", 'timestamp': '2025-04-18T20:48:54.255611'}]}, 'suggested_next': None}
2025-04-18 20:49:15,140 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 20:49:15,142 - INFO - Routing query to rag agent: What are he admission policies of your hosppital
2025-04-18 20:49:15,144 - DEBUG - Session ID: sess_20250418204915_97b46a93
2025-04-18 20:49:15,145 - DEBUG - Getting context for agent: rag
2025-04-18 20:49:15,146 - INFO - Calling rag agent handler
2025-04-18 20:49:15,148 - DEBUG - Query data: {'text': 'What are he admission policies of your hosppital', 'context': {'session_id': 'sess_20250418204915_97b46a93', 'department': 'rag', 'timestamp': '2025-04-18T20:49:15.146871', 'is_new_session': True}}
2025-04-18 20:50:05,817 - INFO - Received response from rag agent
2025-04-18 20:50:05,822 - DEBUG - Agent response: {'response': 'I can help with that!\n\nHi there!  \n\nTo get admitted to Osaka University Hospital, you\'ll need to follow a few steps.  \n\nAccording to "Hospital Admission Process" and "Admission Guidelines and Procedures", you\'ll need to bring your patient registration card and personal seal to the Inpatients Reception on the day of your admission. Your doctor will let you know the date for hospitalization, and they\'ll register your admission if needed. The clinical section will then contact you with the specific date and time for your admission. \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-18T20:50:05.810677', 'chat_history': [{'query': 'What are he admission policies of your hosppital', 'response': 'I can help with that!\n\nHi there!  \n\nTo get admitted to Osaka University Hospital, you\'ll need to follow a few steps.  \n\nAccording to "Hospital Admission Process" and "Admission Guidelines and Procedures", you\'ll need to bring your patient registration card and personal seal to the Inpatients Reception on the day of your admission. Your doctor will let you know the date for hospitalization, and they\'ll register your admission if needed. The clinical section will then contact you with the specific date and time for your admission. \n\n\nLet me know if you have any other questions!\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-18T20:50:05.810694'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 20:50:32,348 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 20:50:32,350 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 20:50:32,352 - DEBUG - Session ID: sess_20250418205032_09173d46
2025-04-18 20:50:32,353 - DEBUG - Getting context for agent: sql
2025-04-18 20:50:32,354 - INFO - Calling sql agent handler
2025-04-18 20:50:32,355 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418205032_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T20:50:32.354594', 'is_new_session': True}}
2025-04-18 20:50:35,080 - INFO - Received response from sql agent
2025-04-18 20:50:35,083 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 20:50:44,713 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 20:50:44,714 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 20:50:44,716 - DEBUG - Session ID: sess_20250418205044_e4364c25
2025-04-18 20:50:44,717 - DEBUG - Getting context for agent: rag
2025-04-18 20:50:44,718 - INFO - Calling rag agent handler
2025-04-18 20:50:44,719 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418205044_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T20:50:44.718471', 'is_new_session': True}}
2025-04-18 20:50:50,253 - INFO - Received response from rag agent
2025-04-18 20:50:50,256 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to help you find information about a different doctor or topic?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T20:50:50.245807', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to help you find information about a different doctor or topic?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T20:50:50.245893'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 20:57:36,985 - ERROR - Error in main loop: 
2025-04-18 20:57:36,992 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 596, in main
    print("Type 'quit' to exit")
                    ^^^^^^^^^^^^
EOFError

2025-04-18 20:57:45,067 - INFO - Starting agent initialization...
2025-04-18 20:57:45,068 - DEBUG - Environment variables verified
2025-04-18 20:57:45,069 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 20:57:59,895 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 20:57:59,896 - DEBUG - Verifying agent interfaces...
2025-04-18 20:57:59,899 - ERROR - Critical: sql agent verification failed!
2025-04-18 20:57:59,900 - INFO - rag agent ready
2025-04-18 20:57:59,901 - INFO - graph agent ready
2025-04-18 20:57:59,903 - DEBUG - Agent verification complete
2025-04-18 20:57:59,904 - INFO - All agents initialized successfully
2025-04-18 20:58:04,086 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 20:58:04,088 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 20:58:04,090 - DEBUG - Session ID: sess_20250418205804_09173d46
2025-04-18 20:58:04,091 - DEBUG - Getting context for agent: sql
2025-04-18 20:58:04,092 - INFO - Calling sql agent handler
2025-04-18 20:58:04,093 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418205804_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T20:58:04.092649', 'is_new_session': True}}
2025-04-18 20:58:07,841 - INFO - Received response from sql agent
2025-04-18 20:58:07,843 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 20:58:18,495 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-18 20:58:18,497 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 20:58:18,498 - DEBUG - Session ID: sess_20250418205818_e4364c25
2025-04-18 20:58:18,499 - DEBUG - Getting context for agent: rag
2025-04-18 20:58:18,501 - INFO - Calling rag agent handler
2025-04-18 20:58:18,502 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418205818_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T20:58:18.501184', 'is_new_session': True}}
2025-04-18 20:58:28,565 - INFO - Received response from rag agent
2025-04-18 20:58:28,567 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about other doctors or hospital services?\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T20:58:28.562466', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.  \n\nWould you like me to try finding information about other doctors or hospital services?\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T20:58:28.562479'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 21:04:58,127 - ERROR - Error in main loop: 
2025-04-18 21:04:58,135 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 602, in main
    print("Enter your query:")
                    ^^^^^^^^^^
EOFError

2025-04-18 21:05:06,027 - INFO - Starting agent initialization...
2025-04-18 21:05:06,029 - DEBUG - Environment variables verified
2025-04-18 21:05:06,029 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:05:20,549 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 21:05:20,551 - DEBUG - Verifying agent interfaces...
2025-04-18 21:05:20,554 - ERROR - Critical: sql agent verification failed!
2025-04-18 21:05:20,555 - INFO - rag agent ready
2025-04-18 21:05:20,556 - INFO - graph agent ready
2025-04-18 21:05:20,557 - DEBUG - Agent verification complete
2025-04-18 21:05:20,558 - INFO - All agents initialized successfully
2025-04-18 21:07:18,643 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 21:07:18,644 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 21:07:18,646 - DEBUG - Session ID: sess_20250418210718_09173d46
2025-04-18 21:07:18,647 - DEBUG - Getting context for agent: sql
2025-04-18 21:07:18,648 - INFO - Calling sql agent handler
2025-04-18 21:07:18,650 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418210718_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T21:07:18.648752', 'is_new_session': True}}
2025-04-18 21:07:22,502 - INFO - Received response from sql agent
2025-04-18 21:07:22,504 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 21:07:32,171 - ERROR - Error in LLM classification: object AIMessage can't be used in 'await' expression
2025-04-18 21:07:32,175 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 21:07:32,177 - DEBUG - Session ID: sess_20250418210731_e4364c25
2025-04-18 21:07:32,180 - DEBUG - Getting context for agent: rag
2025-04-18 21:07:32,182 - INFO - Calling rag agent handler
2025-04-18 21:07:32,185 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418210731_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T21:07:32.182388', 'is_new_session': True}}
2025-04-18 21:07:42,465 - INFO - Received response from rag agent
2025-04-18 21:07:42,467 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T21:07:42.463004', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T21:07:42.463018'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 21:13:09,044 - ERROR - Error in main loop: 
2025-04-18 21:13:09,050 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    query = input("You: ").strip()
            ~~~~~^^^^^^^^^
EOFError

2025-04-18 21:13:17,117 - INFO - Starting agent initialization...
2025-04-18 21:13:17,119 - DEBUG - Environment variables verified
2025-04-18 21:13:17,119 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:13:32,900 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 21:13:32,901 - DEBUG - Verifying agent interfaces...
2025-04-18 21:13:32,904 - ERROR - Critical: sql agent verification failed!
2025-04-18 21:13:32,906 - INFO - rag agent ready
2025-04-18 21:13:32,906 - INFO - graph agent ready
2025-04-18 21:13:32,908 - DEBUG - Agent verification complete
2025-04-18 21:13:32,909 - INFO - All agents initialized successfully
2025-04-18 21:13:38,927 - DEBUG - Query matched SQL pattern: \b(book|schedule|cancel|reschedule).*appointment\b
2025-04-18 21:13:38,928 - INFO - Routing query to sql agent: I want to book an appointment
2025-04-18 21:13:38,929 - DEBUG - Session ID: sess_20250418211338_09173d46
2025-04-18 21:13:38,931 - DEBUG - Getting context for agent: sql
2025-04-18 21:13:38,932 - INFO - Calling sql agent handler
2025-04-18 21:13:38,933 - DEBUG - Query data: {'text': 'I want to book an appointment', 'context': {'session_id': 'sess_20250418211338_09173d46', 'department': 'sql', 'timestamp': '2025-04-18T21:13:38.932349', 'is_new_session': True}}
2025-04-18 21:13:41,465 - INFO - Received response from sql agent
2025-04-18 21:13:41,468 - DEBUG - Agent response: {'response': 'Which doctor would you like to see?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-18 21:13:50,351 - ERROR - Error in LLM classification: object AIMessage can't be used in 'await' expression
2025-04-18 21:13:50,354 - INFO - Routing query to rag agent: Doctor Angella Webb
2025-04-18 21:13:50,358 - DEBUG - Session ID: sess_20250418211349_e4364c25
2025-04-18 21:13:50,361 - DEBUG - Getting context for agent: rag
2025-04-18 21:13:50,363 - INFO - Calling rag agent handler
2025-04-18 21:13:50,366 - DEBUG - Query data: {'text': 'Doctor Angella Webb', 'context': {'session_id': 'sess_20250418211349_e4364c25', 'department': 'rag', 'timestamp': '2025-04-18T21:13:50.363717', 'is_new_session': True}}
2025-04-18 21:14:01,362 - INFO - Received response from rag agent
2025-04-18 21:14:01,364 - DEBUG - Agent response: {'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-18T21:14:01.360752', 'chat_history': [{'query': 'Doctor Angella Webb', 'response': "I can help with that!\n\nI couldn't find specific information about Doctor Angella Webb in the provided documents.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-18T21:14:01.360764'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-18 21:16:32,420 - ERROR - Error in main loop: 
2025-04-18 21:16:32,426 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    query = input("You: ").strip()
            ~~~~~^^^^^^^^^
EOFError

2025-04-18 21:16:40,994 - INFO - Starting agent initialization...
2025-04-18 21:16:40,995 - DEBUG - Environment variables verified
2025-04-18 21:16:40,996 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:16:54,924 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 21:16:54,925 - ERROR - Failed to load agents: ['sql']
2025-04-18 21:16:54,926 - ERROR - Agent loading failure details:
2025-04-18 21:16:54,927 - ERROR - sql loading traceback:
2025-04-18 21:16:54,928 - ERROR - NoneType: None

2025-04-18 21:16:54,929 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 21:16:54,930 - ERROR - Full initialization traceback:
2025-04-18 21:16:54,933 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:16:54,938 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 21:16:54,942 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 599, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 180, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:18:13,496 - INFO - Starting agent initialization...
2025-04-18 21:18:13,497 - DEBUG - Environment variables verified
2025-04-18 21:18:13,498 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:18:25,526 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 21:18:25,527 - ERROR - Failed to load agents: ['sql']
2025-04-18 21:18:25,529 - ERROR - Agent loading failure details:
2025-04-18 21:18:25,530 - ERROR - sql loading traceback:
2025-04-18 21:18:25,531 - ERROR - NoneType: None

2025-04-18 21:18:25,533 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 21:18:25,534 - ERROR - Full initialization traceback:
2025-04-18 21:18:25,536 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:18:25,540 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 21:18:25,543 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 599, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 180, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:20:32,181 - INFO - Starting agent initialization...
2025-04-18 21:20:32,182 - DEBUG - Environment variables verified
2025-04-18 21:20:32,183 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:20:45,098 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 21:20:45,100 - ERROR - Failed to load agents: ['sql']
2025-04-18 21:20:45,101 - ERROR - Agent loading failure details:
2025-04-18 21:20:45,102 - ERROR - sql loading traceback:
2025-04-18 21:20:45,103 - ERROR - NoneType: None

2025-04-18 21:20:45,105 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 21:20:45,106 - ERROR - Full initialization traceback:
2025-04-18 21:20:45,109 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:20:45,112 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 21:20:45,115 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 599, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 180, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:23:02,344 - INFO - Starting agent initialization...
2025-04-18 21:23:02,345 - DEBUG - Environment variables verified
2025-04-18 21:23:02,346 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:23:17,445 - DEBUG - Agent loading results: [False, True, True]
2025-04-18 21:23:17,446 - ERROR - Failed to load agents: ['sql']
2025-04-18 21:23:17,447 - ERROR - Agent loading failure details:
2025-04-18 21:23:17,448 - ERROR - sql loading traceback:
2025-04-18 21:23:17,449 - ERROR - NoneType: None

2025-04-18 21:23:17,451 - ERROR - Critical initialization failure: Failed to load agents: ['sql']
2025-04-18 21:23:17,452 - ERROR - Full initialization traceback:
2025-04-18 21:23:17,454 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:23:17,457 - ERROR - Critical error: Failed to load agents: ['sql']
2025-04-18 21:23:17,460 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 599, in main
    router = await HospitalRouter.create()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FYP\server\router.py", line 180, in create
    await self.initialize()
  File "D:\FYP\server\router.py", line 206, in initialize
    raise RuntimeError(f"Failed to load agents: {failed}")
RuntimeError: Failed to load agents: ['sql']

2025-04-18 21:25:49,325 - INFO - Starting agent initialization...
2025-04-18 21:25:49,326 - DEBUG - Environment variables verified
2025-04-18 21:25:49,326 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 21:26:04,357 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 21:26:04,358 - DEBUG - Verifying agent interfaces...
2025-04-18 21:26:04,361 - ERROR - Critical: sql agent verification failed!
2025-04-18 21:26:04,363 - INFO - rag agent ready
2025-04-18 21:26:04,364 - INFO - graph agent ready
2025-04-18 21:26:04,365 - DEBUG - Agent verification complete
2025-04-18 21:26:04,366 - INFO - All agents initialized successfully
2025-04-18 22:03:44,962 - ERROR - Error in main loop: 
2025-04-18 22:03:44,966 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 607, in main
    query = input("You: ").strip()
            ~~~~~^^^^^^^^^
EOFError

2025-04-18 22:03:54,468 - INFO - Starting agent initialization...
2025-04-18 22:03:54,469 - DEBUG - Environment variables verified
2025-04-18 22:03:54,470 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-18 22:04:08,940 - DEBUG - Agent loading results: [True, True, True]
2025-04-18 22:04:08,942 - DEBUG - Verifying agent interfaces...
2025-04-18 22:04:08,945 - ERROR - Critical: sql agent verification failed!
2025-04-18 22:04:08,947 - INFO - rag agent ready
2025-04-18 22:04:08,949 - INFO - graph agent ready
2025-04-18 22:04:08,950 - DEBUG - Agent verification complete
2025-04-18 22:04:08,951 - INFO - All agents initialized successfully
2025-04-21 20:32:12,960 - INFO - Starting agent initialization...
2025-04-21 20:32:12,963 - DEBUG - Environment variables verified
2025-04-21 20:32:12,964 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-21 20:33:05,706 - DEBUG - Agent loading results: [True, True, True]
2025-04-21 20:33:05,708 - DEBUG - Verifying agent interfaces...
2025-04-21 20:33:05,712 - ERROR - Critical: sql agent verification failed!
2025-04-21 20:33:05,714 - INFO - rag agent ready
2025-04-21 20:33:05,715 - INFO - graph agent ready
2025-04-21 20:33:05,717 - DEBUG - Agent verification complete
2025-04-21 20:33:05,718 - INFO - All agents initialized successfully
2025-04-21 20:56:03,266 - INFO - Starting agent initialization...
2025-04-21 20:56:03,268 - DEBUG - Environment variables verified
2025-04-21 20:56:03,268 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-21 20:56:19,621 - DEBUG - Agent loading results: [True, True, True]
2025-04-21 20:56:19,622 - DEBUG - Verifying agent interfaces...
2025-04-21 20:56:19,626 - ERROR - Critical: sql agent verification failed!
2025-04-21 20:56:19,627 - INFO - rag agent ready
2025-04-21 20:56:19,628 - INFO - graph agent ready
2025-04-21 20:56:19,630 - DEBUG - Agent verification complete
2025-04-21 20:56:19,633 - INFO - All agents initialized successfully
2025-04-21 20:56:33,682 - INFO - Created new session: sess_20250421205633_8352ee44
2025-04-21 20:56:33,684 - INFO - Starting new session: sess_20250421205633_8352ee44
2025-04-21 20:56:33,685 - ERROR - Error processing query: 'ContextManager' object has no attribute 'save_context'
2025-04-21 20:56:33,693 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 493, in process_query
    self.active_sessions[session_id]["context_id"] = self.context_manager.save_context(context)
                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ContextManager' object has no attribute 'save_context'. Did you mean: 'get_context'?

2025-04-21 21:00:08,663 - ERROR - Error in main loop: 
2025-04-21 21:00:08,666 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 789, in main
    query = input("You: ").strip()
            ~~~~~^^^^^^^^^
EOFError

2025-04-21 21:00:16,756 - INFO - Starting agent initialization...
2025-04-21 21:00:16,757 - DEBUG - Environment variables verified
2025-04-21 21:00:16,758 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-21 21:00:31,136 - DEBUG - Agent loading results: [True, True, True]
2025-04-21 21:00:31,138 - DEBUG - Verifying agent interfaces...
2025-04-21 21:00:31,141 - ERROR - Critical: sql agent verification failed!
2025-04-21 21:00:31,143 - INFO - rag agent ready
2025-04-21 21:00:31,144 - INFO - graph agent ready
2025-04-21 21:00:31,145 - DEBUG - Agent verification complete
2025-04-21 21:00:31,146 - INFO - All agents initialized successfully
2025-04-21 21:00:35,174 - INFO - Created new session: sess_20250421210035_8352ee44
2025-04-21 21:00:35,176 - INFO - Starting new session: sess_20250421210035_8352ee44
2025-04-21 21:00:35,178 - ERROR - Error in query classification: 'HospitalRouter' object has no attribute 'session_context'
2025-04-21 21:00:35,181 - INFO - Classified query as rag with confidence 0.5
2025-04-21 21:00:35,184 - INFO - Routing to rag agent
2025-04-21 21:00:35,194 - ERROR - Error routing to agent: 'HospitalRouter' object has no attribute 'rag_agent'
2025-04-21 21:00:35,208 - ERROR - Traceback (most recent call last):
  File "D:\FYP\server\router.py", line 630, in route_to_agent
    response = await self.rag_agent.handle_query(query_data)
                     ^^^^^^^^^^^^^^
AttributeError: 'HospitalRouter' object has no attribute 'rag_agent'

2025-04-21 21:17:05,546 - INFO - Starting agent initialization...
2025-04-21 21:17:05,548 - DEBUG - Environment variables verified
2025-04-21 21:17:05,549 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-21 21:17:22,689 - DEBUG - Agent loading results: [True, True, True]
2025-04-21 21:17:22,691 - DEBUG - Verifying agent interfaces...
2025-04-21 21:17:22,694 - ERROR - Critical: sql agent verification failed!
2025-04-21 21:17:22,695 - INFO - rag agent ready
2025-04-21 21:17:22,696 - INFO - graph agent ready
2025-04-21 21:17:22,697 - DEBUG - Agent verification complete
2025-04-21 21:17:22,698 - INFO - All agents initialized successfully
2025-04-21 21:18:27,727 - DEBUG - Created new session: sess_20250421211827_8352ee44
2025-04-21 21:18:27,729 - DEBUG - Classifying query: What are the symptoms of gout
2025-04-21 21:18:27,733 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-21 21:18:27,735 - INFO - Query classified as graph with confidence 0.9
2025-04-21 21:18:27,736 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-21 21:18:27,738 - DEBUG - Session ID: sess_20250421211827_8352ee44
2025-04-21 21:18:27,739 - DEBUG - Getting context for agent: graph
2025-04-21 21:18:27,741 - INFO - Calling graph agent handler
2025-04-21 21:18:27,742 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250421211827_8352ee44', 'department': 'graph', 'timestamp': '2025-04-21T21:18:27.741082', 'is_new_session': True}}
2025-04-21 21:18:33,242 - INFO - Received response from graph agent
2025-04-21 21:18:33,245 - DEBUG - Agent response: {'response': "I understand you're looking for information about gout.  \n\nGout can cause very painful inflammation in your joints.  It often starts in the big toe, but it can also affect other joints. You might experience:\n\n* **Intense pain:**  Think of it like a sharp, throbbing pain that makes it hard to move your toe.\n* **Swelling:** The joint might look puffy and feel tight.\n* **Redness:** The skin around the joint might be red and warm to the touch.\n\nIf you're experiencing any of these symptoms, it's important to see a doctor as soon as possible. They can help diagnose the cause of your pain and recommend the best treatment. \n\n\nPlease remember, I'm here to help guide you, but I'm not a doctor.  It's always best to consult with a medical professional for any health concerns.\n", 'context_updates': {'last_interaction': '2025-04-21T21:18:33.242741', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I understand you're looking for information about gout.  \n\nGout can cause very painful inflammation in your joints.  It often starts in the big toe, but it can also affect other joints. You might experience:\n\n* **Intense pain:**  Think of it like a sharp, throbbing pain that makes it hard to move your toe.\n* **Swelling:** The joint might look puffy and feel tight.\n* **Redness:** The skin around the joint might be red and warm to the touch.\n\nIf you're experiencing any of these symptoms, it's important to see a doctor as soon as possible. They can help diagnose the cause of your pain and recommend the best treatment. \n\n\nPlease remember, I'm here to help guide you, but I'm not a doctor.  It's always best to consult with a medical professional for any health concerns.\n", 'timestamp': '2025-04-21T21:18:33.242764'}]}, 'suggested_next': None}
2025-04-21 21:18:46,633 - DEBUG - Created new session: sess_20250421211846_68ae24c3
2025-04-21 21:18:46,634 - DEBUG - Classifying query: What are the payment procedures
2025-04-21 21:18:46,638 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-21 21:18:46,640 - INFO - Query classified as rag with confidence 0.7
2025-04-21 21:18:46,642 - INFO - Routing query to rag agent: What are the payment procedures
2025-04-21 21:18:46,643 - DEBUG - Session ID: sess_20250421211846_68ae24c3
2025-04-21 21:18:46,645 - DEBUG - Getting context for agent: rag
2025-04-21 21:18:46,647 - INFO - Calling rag agent handler
2025-04-21 21:18:46,648 - DEBUG - Query data: {'text': 'What are the payment procedures', 'context': {'session_id': 'sess_20250421211846_68ae24c3', 'department': 'rag', 'timestamp': '2025-04-21T21:18:46.647465', 'is_new_session': True}}
2025-04-21 21:19:33,878 - INFO - Received response from rag agent
2025-04-21 21:19:56,557 - DEBUG - Created new session: sess_20250421211956_21647770
2025-04-21 21:19:56,558 - DEBUG - Classifying query: I want to book an appointment with Doctor Angella Webb
2025-04-21 21:19:56,560 - DEBUG - Query matched SQL pattern or fuzzy
2025-04-21 21:19:56,561 - INFO - Query classified as sql with confidence 0.9
2025-04-21 21:19:56,563 - INFO - Routing query to sql agent: I want to book an appointment with Doctor Angella Webb
2025-04-21 21:19:56,564 - DEBUG - Session ID: sess_20250421211956_21647770
2025-04-21 21:19:56,566 - DEBUG - Getting context for agent: sql
2025-04-21 21:19:56,567 - INFO - Calling sql agent handler
2025-04-21 21:19:56,569 - DEBUG - Query data: {'text': 'I want to book an appointment with Doctor Angella Webb', 'context': {'session_id': 'sess_20250421211956_21647770', 'department': 'sql', 'timestamp': '2025-04-21T21:19:56.567772', 'is_new_session': True}}
2025-04-21 21:20:00,890 - INFO - Received response from sql agent
2025-04-21 21:20:00,893 - DEBUG - Agent response: {'response': 'When would you like to schedule your appointment with Doctor Angella Webb?', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-21 21:20:08,365 - DEBUG - Using existing SQL session: sess_20250421211956_21647770
2025-04-21 21:20:08,366 - DEBUG - Maintaining active SQL session: sess_20250421211956_21647770
2025-04-21 21:20:08,368 - INFO - Query classified as sql with confidence 1.0
2025-04-21 21:20:08,370 - INFO - Routing query to sql agent: Friday 14:00
2025-04-21 21:20:08,371 - DEBUG - Session ID: sess_20250421211956_21647770
2025-04-21 21:20:08,373 - DEBUG - Getting context for agent: sql
2025-04-21 21:20:08,374 - INFO - Calling sql agent handler
2025-04-21 21:20:08,375 - DEBUG - Query data: {'text': 'Friday 14:00', 'context': {'session_id': 'sess_20250421211956_21647770', 'department': 'sql', 'timestamp': '2025-04-21T21:20:08.374507', 'is_new_session': False}}
2025-04-21 21:20:11,801 - INFO - Received response from sql agent
2025-04-21 21:20:11,803 - DEBUG - Agent response: {'response': 'Is the provided information correct? If so, I will proceed with booking your appointment with Doctor Angella Webb on Friday at 14:00. If not, please provide the correct information.', 'context_updates': {}, 'suggested_next': None, 'status': 'in_progress'}
2025-04-21 21:20:43,509 - DEBUG - Using existing SQL session: sess_20250421211956_21647770
2025-04-21 21:20:43,510 - DEBUG - Maintaining active SQL session: sess_20250421211956_21647770
2025-04-21 21:20:43,512 - INFO - Query classified as sql with confidence 1.0
2025-04-21 21:20:43,513 - INFO - Routing query to sql agent: Yes
2025-04-21 21:20:43,515 - DEBUG - Session ID: sess_20250421211956_21647770
2025-04-21 21:20:43,516 - DEBUG - Getting context for agent: sql
2025-04-21 21:20:43,517 - INFO - Calling sql agent handler
2025-04-21 21:20:43,518 - DEBUG - Query data: {'text': 'Yes', 'context': {'session_id': 'sess_20250421211956_21647770', 'department': 'sql', 'timestamp': '2025-04-21T21:20:43.517654', 'is_new_session': False}}
2025-04-21 21:20:48,768 - INFO - Received response from sql agent
2025-04-21 21:20:48,770 - DEBUG - Agent response: {'response': "I encountered an error: 'str' object has no attribute 'get'", 'context_updates': {}, 'suggested_next': None, 'status': 'error'}
2025-04-23 23:34:17,826 - INFO - Starting agent initialization...
2025-04-23 23:34:17,827 - DEBUG - Environment variables verified
2025-04-23 23:34:17,828 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:34:38,797 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:34:38,798 - DEBUG - Verifying agent interfaces...
2025-04-23 23:34:38,802 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:34:38,803 - INFO - rag agent ready
2025-04-23 23:34:38,804 - INFO - graph agent ready
2025-04-23 23:34:38,805 - DEBUG - Agent verification complete
2025-04-23 23:34:38,807 - INFO - All agents initialized successfully
2025-04-23 23:34:55,839 - DEBUG - Created new session: sess_20250423233455_e2b8910f
2025-04-23 23:34:55,840 - DEBUG - Classifying query: I am suffering from intense joint pains
2025-04-23 23:34:55,846 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-23 23:34:55,848 - INFO - Query classified as rag with confidence 0.7
2025-04-23 23:34:55,849 - INFO - Routing query to rag agent: I am suffering from intense joint pains
2025-04-23 23:34:55,850 - DEBUG - Session ID: sess_20250423233455_e2b8910f
2025-04-23 23:34:55,852 - DEBUG - Getting context for agent: rag
2025-04-23 23:34:55,853 - INFO - Calling rag agent handler
2025-04-23 23:34:55,854 - DEBUG - Query data: {'text': 'I am suffering from intense joint pains', 'context': {'session_id': 'sess_20250423233455_e2b8910f', 'department': 'rag', 'timestamp': '2025-04-23T23:34:55.853426', 'is_new_session': True}}
2025-04-23 23:35:22,608 - INFO - Received response from rag agent
2025-04-23 23:35:22,610 - DEBUG - Agent response: {'response': 'I can help with that!\n\nI understand you\'re experiencing joint pain. I\'m sorry to hear that! \n\nUnfortunately, I\'m not able to provide medical advice.  I can tell you that if you need to be admitted to the hospital, you\'ll need your ID and insurance information. You can find more details about the admission process in the "Admission Discharge Information" document. \n\nIt\'s important to speak with a doctor about your joint pain so they can properly diagnose the cause and recommend the best treatment.\n\nIs there anything else I can help you with?', 'context_updates': {'last_interaction': '2025-04-23T23:35:22.602933', 'chat_history': [{'query': 'I am suffering from intense joint pains', 'response': 'I can help with that!\n\nI understand you\'re experiencing joint pain. I\'m sorry to hear that! \n\nUnfortunately, I\'m not able to provide medical advice.  I can tell you that if you need to be admitted to the hospital, you\'ll need your ID and insurance information. You can find more details about the admission process in the "Admission Discharge Information" document. \n\nIt\'s important to speak with a doctor about your joint pain so they can properly diagnose the cause and recommend the best treatment.\n\nIs there anything else I can help you with?', 'timestamp': '2025-04-23T23:35:22.602955'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-23 23:35:57,641 - DEBUG - Created new session: sess_20250423233557_dbd73368
2025-04-23 23:35:57,643 - DEBUG - Classifying query: What disease i can have if i ma having intense joint pains
2025-04-23 23:35:57,645 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:35:57,646 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:35:57,657 - INFO - Routing query to graph agent: What disease i can have if i ma having intense joint pains
2025-04-23 23:35:57,659 - DEBUG - Session ID: sess_20250423233557_dbd73368
2025-04-23 23:35:57,660 - DEBUG - Getting context for agent: graph
2025-04-23 23:35:57,661 - INFO - Calling graph agent handler
2025-04-23 23:35:57,663 - DEBUG - Query data: {'text': 'What disease i can have if i ma having intense joint pains', 'context': {'session_id': 'sess_20250423233557_dbd73368', 'department': 'graph', 'timestamp': '2025-04-23T23:35:57.661876', 'is_new_session': True}}
2025-04-23 23:35:59,683 - INFO - Received response from graph agent
2025-04-23 23:35:59,684 - DEBUG - Agent response: {'response': 'Based on your query about "What disease i can have if i ma having intense joint pains", here\'s what I found:\n\nSymptoms: No specific symptoms found\nPotentially Related Diseases: No related diseases found\nPossible Treatments: No treatments identified\nRecommended Drugs: No drugs recommended\n\nWould you like more detailed information about any of these?\n', 'context_updates': {'symptoms': [], 'diseases': [], 'drugs': [], 'treatments': []}, 'suggested_next': 'MEDICAL_CONSULTATION'}
2025-04-23 23:36:30,149 - INFO - Starting agent initialization...
2025-04-23 23:36:30,150 - DEBUG - Environment variables verified
2025-04-23 23:36:30,151 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:36:46,514 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:36:46,515 - DEBUG - Verifying agent interfaces...
2025-04-23 23:36:46,518 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:36:46,520 - INFO - rag agent ready
2025-04-23 23:36:46,521 - INFO - graph agent ready
2025-04-23 23:36:46,522 - DEBUG - Agent verification complete
2025-04-23 23:36:46,523 - INFO - All agents initialized successfully
2025-04-23 23:36:56,100 - DEBUG - Created new session: sess_20250423233656_8352ee44
2025-04-23 23:36:56,101 - DEBUG - Classifying query: What are the symptoms of gout
2025-04-23 23:36:56,106 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:36:56,107 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:36:56,108 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-23 23:36:56,110 - DEBUG - Session ID: sess_20250423233656_8352ee44
2025-04-23 23:36:56,111 - DEBUG - Getting context for agent: graph
2025-04-23 23:36:56,112 - INFO - Calling graph agent handler
2025-04-23 23:36:56,113 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250423233656_8352ee44', 'department': 'graph', 'timestamp': '2025-04-23T23:36:56.112445', 'is_new_session': True}}
2025-04-23 23:36:56,144 - INFO - Received response from graph agent
2025-04-23 23:36:56,146 - DEBUG - Agent response: {'response': 'Based on your query about "What are the symptoms of gout", here\'s what I found:\n\nSymptoms: No specific symptoms found\nPotentially Related Diseases: No related diseases found\nPossible Treatments: No treatments identified\nRecommended Drugs: No drugs recommended\n\nWould you like more detailed information about any of these?\n', 'context_updates': {'symptoms': [], 'diseases': [], 'drugs': [], 'treatments': []}, 'suggested_next': 'MEDICAL_CONSULTATION'}
2025-04-23 23:37:32,832 - INFO - Starting agent initialization...
2025-04-23 23:37:32,833 - DEBUG - Environment variables verified
2025-04-23 23:37:32,834 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:37:48,250 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:37:48,252 - DEBUG - Verifying agent interfaces...
2025-04-23 23:37:48,254 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:37:48,255 - INFO - rag agent ready
2025-04-23 23:37:48,257 - INFO - graph agent ready
2025-04-23 23:37:48,258 - DEBUG - Agent verification complete
2025-04-23 23:37:48,259 - INFO - All agents initialized successfully
2025-04-23 23:37:58,566 - DEBUG - Created new session: sess_20250423233758_8352ee44
2025-04-23 23:37:58,567 - DEBUG - Classifying query: What are the symptoms of gout
2025-04-23 23:37:58,572 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:37:58,573 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:37:58,574 - INFO - Routing query to graph agent: What are the symptoms of gout
2025-04-23 23:37:58,575 - DEBUG - Session ID: sess_20250423233758_8352ee44
2025-04-23 23:37:58,576 - DEBUG - Getting context for agent: graph
2025-04-23 23:37:58,578 - INFO - Calling graph agent handler
2025-04-23 23:37:58,578 - DEBUG - Query data: {'text': 'What are the symptoms of gout', 'context': {'session_id': 'sess_20250423233758_8352ee44', 'department': 'graph', 'timestamp': '2025-04-23T23:37:58.577978', 'is_new_session': True}}
2025-04-23 23:38:01,106 - INFO - Received response from graph agent
2025-04-23 23:38:01,108 - DEBUG - Agent response: {'response': "I understand you're looking for information about gout.  \n\nGout can cause very painful flares in your joints.  You might experience:\n\n* **Intense pain:**  Imagine a sharp, throbbing pain in your joint, especially in your big toe. \n* **Swelling:** The joint might feel puffy and tender to the touch.\n* **Redness:** The skin around the joint might look red and inflamed.\n\nIf you're experiencing these symptoms, it's important to see a doctor as soon as possible. They can help determine if it's gout and recommend the best treatment for you. \n\n\nRemember, you're not alone, and there are ways to manage gout and find relief.  \n\n", 'context_updates': {'last_interaction': '2025-04-23T23:38:01.106308', 'chat_history': [{'query': 'What are the symptoms of gout', 'response': "I understand you're looking for information about gout.  \n\nGout can cause very painful flares in your joints.  You might experience:\n\n* **Intense pain:**  Imagine a sharp, throbbing pain in your joint, especially in your big toe. \n* **Swelling:** The joint might feel puffy and tender to the touch.\n* **Redness:** The skin around the joint might look red and inflamed.\n\nIf you're experiencing these symptoms, it's important to see a doctor as soon as possible. They can help determine if it's gout and recommend the best treatment for you. \n\n\nRemember, you're not alone, and there are ways to manage gout and find relief.  \n\n", 'timestamp': '2025-04-23T23:38:01.106343'}]}, 'suggested_next': None}
2025-04-23 23:45:28,145 - INFO - Starting agent initialization...
2025-04-23 23:45:28,147 - DEBUG - Environment variables verified
2025-04-23 23:45:28,148 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:45:45,047 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:45:45,048 - DEBUG - Verifying agent interfaces...
2025-04-23 23:45:45,052 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:45:45,053 - INFO - rag agent ready
2025-04-23 23:45:45,055 - INFO - graph agent ready
2025-04-23 23:45:45,056 - DEBUG - Agent verification complete
2025-04-23 23:45:45,057 - INFO - All agents initialized successfully
2025-04-23 23:45:58,934 - DEBUG - Created new session: sess_20250423234558_133ab581
2025-04-23 23:45:58,935 - DEBUG - Classifying query: I am having intense pain in my joints
2025-04-23 23:45:58,940 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:45:58,941 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:45:58,943 - INFO - Routing query to graph agent: I am having intense pain in my joints
2025-04-23 23:45:58,944 - DEBUG - Session ID: sess_20250423234558_133ab581
2025-04-23 23:45:58,945 - DEBUG - Getting context for agent: graph
2025-04-23 23:45:58,946 - INFO - Calling graph agent handler
2025-04-23 23:45:58,947 - DEBUG - Query data: {'text': 'I am having intense pain in my joints', 'context': {'session_id': 'sess_20250423234558_133ab581', 'department': 'graph', 'timestamp': '2025-04-23T23:45:58.946710', 'is_new_session': True}}
2025-04-23 23:46:01,955 - INFO - Received response from graph agent
2025-04-23 23:46:01,957 - DEBUG - Agent response: {'response': "I couldn't find any information about that in our database.", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-23 23:49:32,011 - INFO - Starting agent initialization...
2025-04-23 23:49:32,012 - DEBUG - Environment variables verified
2025-04-23 23:49:32,012 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:49:49,755 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:49:49,756 - DEBUG - Verifying agent interfaces...
2025-04-23 23:49:49,760 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:49:49,761 - INFO - rag agent ready
2025-04-23 23:49:49,763 - INFO - graph agent ready
2025-04-23 23:49:49,764 - DEBUG - Agent verification complete
2025-04-23 23:49:49,764 - INFO - All agents initialized successfully
2025-04-23 23:49:54,572 - DEBUG - Created new session: sess_20250423234954_133ab581
2025-04-23 23:49:54,573 - DEBUG - Classifying query: I am having intense pain in my joints
2025-04-23 23:49:54,576 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:49:54,577 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:49:54,578 - INFO - Routing query to graph agent: I am having intense pain in my joints
2025-04-23 23:49:54,580 - DEBUG - Session ID: sess_20250423234954_133ab581
2025-04-23 23:49:54,581 - DEBUG - Getting context for agent: graph
2025-04-23 23:49:54,582 - INFO - Calling graph agent handler
2025-04-23 23:49:54,583 - DEBUG - Query data: {'text': 'I am having intense pain in my joints', 'context': {'session_id': 'sess_20250423234954_133ab581', 'department': 'graph', 'timestamp': '2025-04-23T23:49:54.582363', 'is_new_session': True}}
2025-04-23 23:49:54,586 - INFO - Received response from graph agent
2025-04-23 23:49:54,587 - DEBUG - Agent response: {'response': "I'm sorry, I couldn't process your query fully. 'NoneType' object has no attribute 'encode'", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-23 23:51:45,015 - INFO - Starting agent initialization...
2025-04-23 23:51:45,016 - DEBUG - Environment variables verified
2025-04-23 23:51:45,017 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:52:02,559 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:52:02,561 - DEBUG - Verifying agent interfaces...
2025-04-23 23:52:02,564 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:52:02,565 - INFO - rag agent ready
2025-04-23 23:52:02,566 - INFO - graph agent ready
2025-04-23 23:52:02,568 - DEBUG - Agent verification complete
2025-04-23 23:52:02,568 - INFO - All agents initialized successfully
2025-04-23 23:52:04,802 - DEBUG - Created new session: sess_20250423235204_133ab581
2025-04-23 23:52:04,803 - DEBUG - Classifying query: I am having intense pain in my joints
2025-04-23 23:52:04,806 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:52:04,807 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:52:04,809 - INFO - Routing query to graph agent: I am having intense pain in my joints
2025-04-23 23:52:04,810 - DEBUG - Session ID: sess_20250423235204_133ab581
2025-04-23 23:52:04,811 - DEBUG - Getting context for agent: graph
2025-04-23 23:52:04,812 - INFO - Calling graph agent handler
2025-04-23 23:52:04,813 - DEBUG - Query data: {'text': 'I am having intense pain in my joints', 'context': {'session_id': 'sess_20250423235204_133ab581', 'department': 'graph', 'timestamp': '2025-04-23T23:52:04.812370', 'is_new_session': True}}
2025-04-23 23:52:04,816 - INFO - Received response from graph agent
2025-04-23 23:52:04,817 - DEBUG - Agent response: {'response': "I'm sorry, I couldn't process your query fully. 'NoneType' object has no attribute 'encode'", 'context_updates': {}, 'suggested_next': 'HUMAN'}
2025-04-23 23:54:21,812 - INFO - Starting agent initialization...
2025-04-23 23:54:21,813 - DEBUG - Environment variables verified
2025-04-23 23:54:21,814 - DEBUG - Loading agents: ['sql', 'rag', 'graph']
2025-04-23 23:54:37,859 - DEBUG - Agent loading results: [True, True, True]
2025-04-23 23:54:37,860 - DEBUG - Verifying agent interfaces...
2025-04-23 23:54:37,864 - ERROR - Critical: sql agent verification failed!
2025-04-23 23:54:37,866 - INFO - rag agent ready
2025-04-23 23:54:37,867 - INFO - graph agent ready
2025-04-23 23:54:37,868 - DEBUG - Agent verification complete
2025-04-23 23:54:37,869 - INFO - All agents initialized successfully
2025-04-23 23:54:41,195 - DEBUG - Created new session: sess_20250423235441_133ab581
2025-04-23 23:54:41,196 - DEBUG - Classifying query: I am having intense pain in my joints
2025-04-23 23:54:41,199 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-23 23:54:41,200 - INFO - Query classified as graph with confidence 0.9
2025-04-23 23:54:41,201 - INFO - Routing query to graph agent: I am having intense pain in my joints
2025-04-23 23:54:41,203 - DEBUG - Session ID: sess_20250423235441_133ab581
2025-04-23 23:54:41,204 - DEBUG - Getting context for agent: graph
2025-04-23 23:54:41,205 - INFO - Calling graph agent handler
2025-04-23 23:54:41,206 - DEBUG - Query data: {'text': 'I am having intense pain in my joints', 'context': {'session_id': 'sess_20250423235441_133ab581', 'department': 'graph', 'timestamp': '2025-04-23T23:54:41.205189', 'is_new_session': True}}
2025-04-23 23:54:44,102 - INFO - Received response from graph agent
2025-04-23 23:54:44,105 - DEBUG - Agent response: {'response': "I understand you're experiencing intense joint pain, and that must be very difficult.  \n\nBased on what you've told me, our system suggests that this pain could be related to a number of things, like a specific condition, medication side effect, or even a treatment option. \n\nTo help me understand better and give you the most helpful advice, could you tell me a little more about your pain? For example:\n\n* **Where exactly are you feeling the pain?**\n* **How long have you been experiencing this pain?**\n* **Is there anything that makes the pain better or worse?**\n* **Have you noticed any other symptoms?**\n\n\nKnowing more details will help us narrow down the possibilities and figure out the best next steps for you.  Don't worry, we're here to help you feel better. \n\n", 'context_updates': {'last_interaction': '2025-04-23T23:54:44.102587', 'chat_history': [{'query': 'I am having intense pain in my joints', 'response': "I understand you're experiencing intense joint pain, and that must be very difficult.  \n\nBased on what you've told me, our system suggests that this pain could be related to a number of things, like a specific condition, medication side effect, or even a treatment option. \n\nTo help me understand better and give you the most helpful advice, could you tell me a little more about your pain? For example:\n\n* **Where exactly are you feeling the pain?**\n* **How long have you been experiencing this pain?**\n* **Is there anything that makes the pain better or worse?**\n* **Have you noticed any other symptoms?**\n\n\nKnowing more details will help us narrow down the possibilities and figure out the best next steps for you.  Don't worry, we're here to help you feel better. \n\n", 'timestamp': '2025-04-23T23:54:44.102609'}]}, 'suggested_next': None}
2025-04-23 23:57:04,026 - DEBUG - Created new session: sess_20250423235704_458ac2da
2025-04-23 23:57:04,026 - DEBUG - Classifying query: I have developed redness in my joints too
2025-04-23 23:57:04,031 - ERROR - Error in LLM classification: 'HospitalRouter' object has no attribute 'llm'
2025-04-23 23:57:04,033 - INFO - Query classified as rag with confidence 0.7
2025-04-23 23:57:04,035 - INFO - Routing query to rag agent: I have developed redness in my joints too
2025-04-23 23:57:04,036 - DEBUG - Session ID: sess_20250423235704_458ac2da
2025-04-23 23:57:04,037 - DEBUG - Getting context for agent: rag
2025-04-23 23:57:04,037 - INFO - Calling rag agent handler
2025-04-23 23:57:04,038 - DEBUG - Query data: {'text': 'I have developed redness in my joints too', 'context': {'session_id': 'sess_20250423235704_458ac2da', 'department': 'rag', 'timestamp': '2025-04-23T23:57:04.037872', 'is_new_session': True}}
2025-04-23 23:57:38,584 - INFO - Received response from rag agent
2025-04-23 23:57:38,587 - DEBUG - Agent response: {'response': "I can help with that!\n\nI understand you're experiencing redness in your joints. I'm sorry to hear that! \n\nUnfortunately, I couldn't find specific information about joint redness in the provided documents.  \n\nIt's important to speak with a medical professional about your symptoms. They can properly diagnose the cause of your redness and recommend the best course of treatment.\n\nIs there anything else I can help you with?", 'context_updates': {'last_interaction': '2025-04-23T23:57:38.578332', 'chat_history': [{'query': 'I have developed redness in my joints too', 'response': "I can help with that!\n\nI understand you're experiencing redness in your joints. I'm sorry to hear that! \n\nUnfortunately, I couldn't find specific information about joint redness in the provided documents.  \n\nIt's important to speak with a medical professional about your symptoms. They can properly diagnose the cause of your redness and recommend the best course of treatment.\n\nIs there anything else I can help you with?", 'timestamp': '2025-04-23T23:57:38.578358'}]}, 'suggested_next': None, 'status': 'resolved'}
2025-04-24 00:01:53,495 - DEBUG - Created new session: sess_20250424000153_76d1f3ef
2025-04-24 00:01:53,496 - DEBUG - Classifying query: What is the treatment for gout
2025-04-24 00:01:53,497 - DEBUG - Query matched GRAPH pattern or fuzzy
2025-04-24 00:01:53,497 - INFO - Query classified as graph with confidence 0.9
2025-04-24 00:01:53,499 - INFO - Routing query to graph agent: What is the treatment for gout
2025-04-24 00:01:53,500 - DEBUG - Session ID: sess_20250424000153_76d1f3ef
2025-04-24 00:01:53,501 - DEBUG - Getting context for agent: graph
2025-04-24 00:01:53,501 - INFO - Calling graph agent handler
2025-04-24 00:01:53,502 - DEBUG - Query data: {'text': 'What is the treatment for gout', 'context': {'session_id': 'sess_20250424000153_76d1f3ef', 'department': 'graph', 'timestamp': '2025-04-24T00:01:53.501718', 'is_new_session': True}}
2025-04-24 00:01:55,679 - INFO - Received response from graph agent
2025-04-24 00:01:55,682 - DEBUG - Agent response: {'response': "I understand you're looking for information about gout treatment.  \n\nGout can be very painful, and I'm here to help.  \n\nBased on what I've found, treatment for gout usually involves a combination of things:\n\n* **Medications:** There are specific medications that can help reduce the inflammation and pain caused by gout. \n* **Lifestyle changes:**  Making changes to your diet and lifestyle can also help prevent future gout attacks. This might include limiting foods high in purines, which can contribute to gout.\n\nIt's important to talk to your doctor about the best treatment plan for you. They can assess your individual situation and recommend the most appropriate medications and lifestyle changes. \n\nRemember, you're not alone in this. Gout is a common condition, and there are effective treatments available.  Don't hesitate to reach out to your doctor with any questions or concerns you may have. \n\n\n\n", 'context_updates': {'last_interaction': '2025-04-24T00:01:55.679692', 'chat_history': [{'query': 'What is the treatment for gout', 'response': "I understand you're looking for information about gout treatment.  \n\nGout can be very painful, and I'm here to help.  \n\nBased on what I've found, treatment for gout usually involves a combination of things:\n\n* **Medications:** There are specific medications that can help reduce the inflammation and pain caused by gout. \n* **Lifestyle changes:**  Making changes to your diet and lifestyle can also help prevent future gout attacks. This might include limiting foods high in purines, which can contribute to gout.\n\nIt's important to talk to your doctor about the best treatment plan for you. They can assess your individual situation and recommend the most appropriate medications and lifestyle changes. \n\nRemember, you're not alone in this. Gout is a common condition, and there are effective treatments available.  Don't hesitate to reach out to your doctor with any questions or concerns you may have. \n\n\n\n", 'timestamp': '2025-04-24T00:01:55.679720'}]}, 'suggested_next': None}
